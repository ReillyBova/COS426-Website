import{g as tm,a as nm,s as rm,P as F2,r as un,u as im,_ as sm,b as Ks,j as Ge,c as am,d as om,B as an,e as Il,f as Gi,h as lm,T as Vn,E as um,I as P2,C as cm,W as rs,i as O2,k as k2,L as B2,l as U2}from"./root-d6125b7c.js";function z2(n){return tm("MuiCard",n)}nm("MuiCard",["root"]);const H2=["className","raised"],G2=n=>{const{classes:e}=n;return om({root:["root"]},z2,e)},V2=rm(F2,{name:"MuiCard",slot:"Root",overridesResolver:(n,e)=>e.root})(()=>({overflow:"hidden"})),W2=un.forwardRef(function(e,t){const r=im({props:e,name:"MuiCard"}),{className:i,raised:s=!1}=r,a=sm(r,H2),o=Ks({},r,{raised:s}),l=G2(o);return Ge.jsx(V2,Ks({className:am(l.root,i),elevation:s?8:void 0,ref:t,ownerState:o},a))}),q2=W2;function X2(n){return tm("MuiCardMedia",n)}nm("MuiCardMedia",["root","media","img"]);const Y2=["children","className","component","image","src","style"],K2=n=>{const{classes:e,isMediaComponent:t,isImageComponent:r}=n;return om({root:["root",t&&"media",r&&"img"]},X2,e)},$2=rm("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n,{isMediaComponent:r,isImageComponent:i}=t;return[e.root,r&&e.media,i&&e.img]}})(({ownerState:n})=>Ks({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},n.isMediaComponent&&{width:"100%"},n.isImageComponent&&{objectFit:"cover"})),j2=["video","audio","picture","iframe","img"],Q2=["picture","img"],Z2=un.forwardRef(function(e,t){const r=im({props:e,name:"MuiCardMedia"}),{children:i,className:s,component:a="div",image:o,src:l,style:u}=r,c=sm(r,Y2),h=j2.indexOf(a)!==-1,f=!h&&o?Ks({backgroundImage:`url("${o}")`},u):u,d=Ks({},r,{component:a,isMediaComponent:h,isImageComponent:Q2.indexOf(a)!==-1}),T=K2(d);return Ge.jsx($2,Ks({className:am(T.root,s),as:a,role:!h&&o?"img":void 0,ref:t,style:f,ownerState:d,src:h?o||l:void 0},c,{children:i}))}),J2=Z2,e9=({children:n,height:e="66vh",minHeight:t="250px"})=>Ge.jsx(an,{height:e,minHeight:t,children:n}),t9=(n,e)=>{const t=n[e];return t?typeof t=="function"?t():Promise.resolve(t):new Promise((r,i)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+e)))})};class Hn{constructor(e,t,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=r}static range(e,t){return t?!e||!e.loc||!t.loc||e.loc.lexer!==t.loc.lexer?null:new Hn(e.loc.lexer,e.loc.start,t.loc.end):e&&e.loc}}class Nr{constructor(e,t){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=t}range(e,t){return new Nr(t,Hn.range(this,e))}}class Te{constructor(e,t){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,i,s,a=t&&t.loc;if(a&&a.start<=a.end){var o=a.lexer.input;i=a.start,s=a.end,i===o.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var l=o.slice(i,s).replace(/[^]/g,"$&̲"),u;i>15?u="…"+o.slice(i-15,i):u=o.slice(0,i);var c;s+15<o.length?c=o.slice(s,s+15)+"…":c=o.slice(s),r+=u+l+c}var h=new Error(r);return h.name="ParseError",h.__proto__=Te.prototype,h.position=i,i!=null&&s!=null&&(h.length=s-i),h.rawMessage=e,h}}Te.prototype.__proto__=Error.prototype;var n9=function(e,t){return e.indexOf(t)!==-1},r9=function(e,t){return e===void 0?t:e},i9=/([A-Z])/g,s9=function(e){return e.replace(i9,"-$1").toLowerCase()},a9={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},o9=/[&><"']/g;function l9(n){return String(n).replace(o9,e=>a9[e])}var hm=function n(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?n(e.body[0]):e:e.type==="font"?n(e.body):e},u9=function(e){var t=hm(e);return t.type==="mathord"||t.type==="textord"||t.type==="atom"},c9=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},h9=function(e){var t=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(e);return t!=null?t[1]:"_relative"},je={contains:n9,deflt:r9,escape:l9,hyphenate:s9,getBaseElem:hm,isCharacterBox:u9,protocolFromUrl:h9},a1={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:n=>"#"+n},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(n,e)=>(e.push(n),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:n=>Math.max(0,n),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:n=>Math.max(0,n),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:n=>Math.max(0,n),cli:"-e, --max-expand <n>",cliProcessor:n=>n==="Infinity"?1/0:parseInt(n)},globalGroup:{type:"boolean",cli:!1}};function f9(n){if(n.default)return n.default;var e=n.type,t=Array.isArray(e)?e[0]:e;if(typeof t!="string")return t.enum[0];switch(t){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class fu{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var t in a1)if(a1.hasOwnProperty(t)){var r=a1[t];this[t]=e[t]!==void 0?r.processor?r.processor(e[t]):e[t]:f9(r)}}reportNonstrict(e,t,r){var i=this.strict;if(typeof i=="function"&&(i=i(e,t,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new Te("LaTeX-incompatible input and strict mode is set to 'error': "+(t+" ["+e+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+t+" ["+e+"]"))}}useStrictBehavior(e,t,r){var i=this.strict;if(typeof i=="function")try{i=i(e,t,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+t+" ["+e+"]")),!1)}isTrusted(e){e.url&&!e.protocol&&(e.protocol=je.protocolFromUrl(e.url));var t=typeof this.trust=="function"?this.trust(e):this.trust;return!!t}}class gi{constructor(e,t,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=r}sup(){return Mr[d9[this.id]]}sub(){return Mr[p9[this.id]]}fracNum(){return Mr[m9[this.id]]}fracDen(){return Mr[g9[this.id]]}cramp(){return Mr[E9[this.id]]}text(){return Mr[T9[this.id]]}isTight(){return this.size>=2}}var du=0,_1=1,$s=2,ri=3,Ha=4,er=5,ea=6,vn=7,Mr=[new gi(du,0,!1),new gi(_1,0,!0),new gi($s,1,!1),new gi(ri,1,!0),new gi(Ha,2,!1),new gi(er,2,!0),new gi(ea,3,!1),new gi(vn,3,!0)],d9=[Ha,er,Ha,er,ea,vn,ea,vn],p9=[er,er,er,er,vn,vn,vn,vn],m9=[$s,ri,Ha,er,ea,vn,ea,vn],g9=[ri,ri,er,er,vn,vn,vn,vn],E9=[_1,_1,ri,ri,er,er,vn,vn],T9=[du,_1,$s,ri,$s,ri,$s,ri],qe={DISPLAY:Mr[du],TEXT:Mr[$s],SCRIPT:Mr[Ha],SCRIPTSCRIPT:Mr[ea]},Ll=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function _9(n){for(var e=0;e<Ll.length;e++)for(var t=Ll[e],r=0;r<t.blocks.length;r++){var i=t.blocks[r];if(n>=i[0]&&n<=i[1])return t.name}return null}var o1=[];Ll.forEach(n=>n.blocks.forEach(e=>o1.push(...e)));function fm(n){for(var e=0;e<o1.length;e+=2)if(n>=o1[e]&&n<=o1[e+1])return!0;return!1}var xs=80,v9=function(e,t){return"M95,"+(622+e+t)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},x9=function(e,t){return"M263,"+(601+e+t)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},A9=function(e,t){return"M983 "+(10+e+t)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},y9=function(e,t){return"M424,"+(2398+e+t)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+t+`
h400000v`+(40+e)+"h-400000z"},S9=function(e,t){return"M473,"+(2713+e+t)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+t+"h400000v"+(40+e)+"H1017.7z"},b9=function(e){var t=e/2;return"M400000 "+e+" H0 L"+t+" 0 l65 45 L145 "+(e-80)+" H400000z"},M9=function(e,t,r){var i=r-54-t-e;return"M702 "+(e+t)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+t+"H400000v"+(40+e)+"H742z"},C9=function(e,t,r){t=1e3*t;var i="";switch(e){case"sqrtMain":i=v9(t,xs);break;case"sqrtSize1":i=x9(t,xs);break;case"sqrtSize2":i=A9(t,xs);break;case"sqrtSize3":i=y9(t,xs);break;case"sqrtSize4":i=S9(t,xs);break;case"sqrtTall":i=M9(t,xs,r)}return i},D9=function(e,t){switch(e){case"⎜":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"∣":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"∥":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z"+("M367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z");case"⎟":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"⎢":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"⎥":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"⎪":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"⏐":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"‖":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257z"+("M478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z");default:return""}},Ac={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},w9=function(e,t){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+t+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+t+" v1759 h84z";case"vert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+" v585 h43z";case"doublevert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+` v585 h43z
M367 15 v585 v`+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+t+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+t+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+t+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v602 h84z
M403 1759 V0 H319 V1759 v`+t+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v602 h84z
M347 1759 V0 h-84 V1759 v`+t+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(t+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(t+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(t+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(t+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Ya{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return je.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}toMarkup(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e}toText(){var e=t=>t.toText();return this.children.map(e).join("")}}var Rr={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},uo={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},yc={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function R9(n,e){Rr[n]=e}function pu(n,e,t){if(!Rr[e])throw new Error("Font metrics not found for font: "+e+".");var r=n.charCodeAt(0),i=Rr[e][r];if(!i&&n[0]in yc&&(r=yc[n[0]].charCodeAt(0),i=Rr[e][r]),!i&&t==="text"&&fm(r)&&(i=Rr[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var c0={};function N9(n){var e;if(n>=5?e=0:n>=3?e=1:e=2,!c0[e]){var t=c0[e]={cssEmPerMu:uo.quad[e]/18};for(var r in uo)uo.hasOwnProperty(r)&&(t[r]=uo[r][e])}return c0[e]}var I9=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Sc=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],bc=function(e,t){return t.size<2?e:I9[e-1][t.size-1]};class ei{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||ei.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=Sc[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var t={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return new ei(t)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:bc(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:Sc[e-1]})}havingBaseStyle(e){e=e||this.style.text();var t=bc(ei.BASESIZE,e);return this.size===t&&this.textSize===ei.BASESIZE&&this.style===e?this:this.extend({style:e,size:t})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==ei.BASESIZE?["sizing","reset-size"+this.size,"size"+ei.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=N9(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}ei.BASESIZE=6;var Fl={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},L9={ex:!0,em:!0,mu:!0},dm=function(e){return typeof e!="string"&&(e=e.unit),e in Fl||e in L9||e==="ex"},Bt=function(e,t){var r;if(e.unit in Fl)r=Fl[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if(e.unit==="mu")r=t.fontMetrics().cssEmPerMu;else{var i;if(t.style.isTight()?i=t.havingStyle(t.style.text()):i=t,e.unit==="ex")r=i.fontMetrics().xHeight;else if(e.unit==="em")r=i.fontMetrics().quad;else throw new Te("Invalid unit: '"+e.unit+"'");i!==t&&(r*=i.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*r,t.maxSize)},Se=function(e){return+e.toFixed(4)+"em"},ki=function(e){return e.filter(t=>t).join(" ")},pm=function(e,t,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},t){t.style.isTight()&&this.classes.push("mtight");var i=t.getColor();i&&(this.style.color=i)}},mm=function(e){var t=document.createElement(e);t.className=ki(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(t.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&t.setAttribute(i,this.attributes[i]);for(var s=0;s<this.children.length;s++)t.appendChild(this.children[s].toNode());return t},gm=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+je.escape(ki(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=je.hyphenate(i)+":"+this.style[i]+";");r&&(t+=' style="'+je.escape(r)+'"');for(var s in this.attributes)this.attributes.hasOwnProperty(s)&&(t+=" "+s+'="'+je.escape(this.attributes[s])+'"');t+=">";for(var a=0;a<this.children.length;a++)t+=this.children[a].toMarkup();return t+="</"+e+">",t};class Ka{constructor(e,t,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,pm.call(this,e,r,i),this.children=t||[]}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return je.contains(this.classes,e)}toNode(){return mm.call(this,"span")}toMarkup(){return gm.call(this,"span")}}class mu{constructor(e,t,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,pm.call(this,t,i),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return je.contains(this.classes,e)}toNode(){return mm.call(this,"a")}toMarkup(){return gm.call(this,"a")}}class F9{constructor(e,t,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return je.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var t in this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e}toMarkup(){var e="<img  src='"+this.src+" 'alt='"+this.alt+"' ",t="";for(var r in this.style)this.style.hasOwnProperty(r)&&(t+=je.hyphenate(r)+":"+this.style[r]+";");return t&&(e+=' style="'+je.escape(t)+'"'),e+="'/>",e}}var P9={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class nr{constructor(e,t,r,i,s,a,o,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=r||0,this.italic=i||0,this.skew=s||0,this.width=a||0,this.classes=o||[],this.style=l||{},this.maxFontSize=0;var u=_9(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=P9[this.text])}hasClass(e){return je.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),t=null;this.italic>0&&(t=document.createElement("span"),t.style.marginRight=Se(this.italic)),this.classes.length>0&&(t=t||document.createElement("span"),t.className=ki(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(t=t||document.createElement("span"),t.style[r]=this.style[r]);return t?(t.appendChild(e),t):e}toMarkup(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=je.escape(ki(this.classes)),t+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=je.hyphenate(i)+":"+this.style[i]+";");r&&(e=!0,t+=' style="'+je.escape(r)+'"');var s=je.escape(this.text);return e?(t+=">",t+=s,t+="</span>",t):s}}class li{constructor(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&t.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)t.appendChild(this.children[i].toNode());return t}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class Bi{constructor(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"path");return this.alternate?t.setAttribute("d",this.alternate):t.setAttribute("d",Ac[this.pathName]),t}toMarkup(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+Ac[this.pathName]+"'/>"}}class Pl{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&t.setAttribute(r,this.attributes[r]);return t}toMarkup(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");return e+="/>",e}}function Mc(n){if(n instanceof nr)return n;throw new Error("Expected symbolNode but got "+String(n)+".")}function O9(n){if(n instanceof Ka)return n;throw new Error("Expected span<HtmlDomNode> but got "+String(n)+".")}var k9={bin:1,close:1,inner:1,open:1,punct:1,rel:1},B9={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Rt={math:{},text:{}};function m(n,e,t,r,i,s){Rt[n][i]={font:e,group:t,replace:r},s&&r&&(Rt[n][r]=Rt[n][i])}var v="math",me="text",b="main",O="ams",Pt="accent-token",Ne="bin",An="close",sa="inner",Xe="mathord",Qt="op-token",qn="open",N1="punct",k="rel",fi="spacing",W="textord";m(v,b,k,"≡","\\equiv",!0);m(v,b,k,"≺","\\prec",!0);m(v,b,k,"≻","\\succ",!0);m(v,b,k,"∼","\\sim",!0);m(v,b,k,"⊥","\\perp");m(v,b,k,"⪯","\\preceq",!0);m(v,b,k,"⪰","\\succeq",!0);m(v,b,k,"≃","\\simeq",!0);m(v,b,k,"∣","\\mid",!0);m(v,b,k,"≪","\\ll",!0);m(v,b,k,"≫","\\gg",!0);m(v,b,k,"≍","\\asymp",!0);m(v,b,k,"∥","\\parallel");m(v,b,k,"⋈","\\bowtie",!0);m(v,b,k,"⌣","\\smile",!0);m(v,b,k,"⊑","\\sqsubseteq",!0);m(v,b,k,"⊒","\\sqsupseteq",!0);m(v,b,k,"≐","\\doteq",!0);m(v,b,k,"⌢","\\frown",!0);m(v,b,k,"∋","\\ni",!0);m(v,b,k,"∝","\\propto",!0);m(v,b,k,"⊢","\\vdash",!0);m(v,b,k,"⊣","\\dashv",!0);m(v,b,k,"∋","\\owns");m(v,b,N1,".","\\ldotp");m(v,b,N1,"⋅","\\cdotp");m(v,b,W,"#","\\#");m(me,b,W,"#","\\#");m(v,b,W,"&","\\&");m(me,b,W,"&","\\&");m(v,b,W,"ℵ","\\aleph",!0);m(v,b,W,"∀","\\forall",!0);m(v,b,W,"ℏ","\\hbar",!0);m(v,b,W,"∃","\\exists",!0);m(v,b,W,"∇","\\nabla",!0);m(v,b,W,"♭","\\flat",!0);m(v,b,W,"ℓ","\\ell",!0);m(v,b,W,"♮","\\natural",!0);m(v,b,W,"♣","\\clubsuit",!0);m(v,b,W,"℘","\\wp",!0);m(v,b,W,"♯","\\sharp",!0);m(v,b,W,"♢","\\diamondsuit",!0);m(v,b,W,"ℜ","\\Re",!0);m(v,b,W,"♡","\\heartsuit",!0);m(v,b,W,"ℑ","\\Im",!0);m(v,b,W,"♠","\\spadesuit",!0);m(v,b,W,"§","\\S",!0);m(me,b,W,"§","\\S");m(v,b,W,"¶","\\P",!0);m(me,b,W,"¶","\\P");m(v,b,W,"†","\\dag");m(me,b,W,"†","\\dag");m(me,b,W,"†","\\textdagger");m(v,b,W,"‡","\\ddag");m(me,b,W,"‡","\\ddag");m(me,b,W,"‡","\\textdaggerdbl");m(v,b,An,"⎱","\\rmoustache",!0);m(v,b,qn,"⎰","\\lmoustache",!0);m(v,b,An,"⟯","\\rgroup",!0);m(v,b,qn,"⟮","\\lgroup",!0);m(v,b,Ne,"∓","\\mp",!0);m(v,b,Ne,"⊖","\\ominus",!0);m(v,b,Ne,"⊎","\\uplus",!0);m(v,b,Ne,"⊓","\\sqcap",!0);m(v,b,Ne,"∗","\\ast");m(v,b,Ne,"⊔","\\sqcup",!0);m(v,b,Ne,"◯","\\bigcirc",!0);m(v,b,Ne,"∙","\\bullet",!0);m(v,b,Ne,"‡","\\ddagger");m(v,b,Ne,"≀","\\wr",!0);m(v,b,Ne,"⨿","\\amalg");m(v,b,Ne,"&","\\And");m(v,b,k,"⟵","\\longleftarrow",!0);m(v,b,k,"⇐","\\Leftarrow",!0);m(v,b,k,"⟸","\\Longleftarrow",!0);m(v,b,k,"⟶","\\longrightarrow",!0);m(v,b,k,"⇒","\\Rightarrow",!0);m(v,b,k,"⟹","\\Longrightarrow",!0);m(v,b,k,"↔","\\leftrightarrow",!0);m(v,b,k,"⟷","\\longleftrightarrow",!0);m(v,b,k,"⇔","\\Leftrightarrow",!0);m(v,b,k,"⟺","\\Longleftrightarrow",!0);m(v,b,k,"↦","\\mapsto",!0);m(v,b,k,"⟼","\\longmapsto",!0);m(v,b,k,"↗","\\nearrow",!0);m(v,b,k,"↩","\\hookleftarrow",!0);m(v,b,k,"↪","\\hookrightarrow",!0);m(v,b,k,"↘","\\searrow",!0);m(v,b,k,"↼","\\leftharpoonup",!0);m(v,b,k,"⇀","\\rightharpoonup",!0);m(v,b,k,"↙","\\swarrow",!0);m(v,b,k,"↽","\\leftharpoondown",!0);m(v,b,k,"⇁","\\rightharpoondown",!0);m(v,b,k,"↖","\\nwarrow",!0);m(v,b,k,"⇌","\\rightleftharpoons",!0);m(v,O,k,"≮","\\nless",!0);m(v,O,k,"","\\@nleqslant");m(v,O,k,"","\\@nleqq");m(v,O,k,"⪇","\\lneq",!0);m(v,O,k,"≨","\\lneqq",!0);m(v,O,k,"","\\@lvertneqq");m(v,O,k,"⋦","\\lnsim",!0);m(v,O,k,"⪉","\\lnapprox",!0);m(v,O,k,"⊀","\\nprec",!0);m(v,O,k,"⋠","\\npreceq",!0);m(v,O,k,"⋨","\\precnsim",!0);m(v,O,k,"⪹","\\precnapprox",!0);m(v,O,k,"≁","\\nsim",!0);m(v,O,k,"","\\@nshortmid");m(v,O,k,"∤","\\nmid",!0);m(v,O,k,"⊬","\\nvdash",!0);m(v,O,k,"⊭","\\nvDash",!0);m(v,O,k,"⋪","\\ntriangleleft");m(v,O,k,"⋬","\\ntrianglelefteq",!0);m(v,O,k,"⊊","\\subsetneq",!0);m(v,O,k,"","\\@varsubsetneq");m(v,O,k,"⫋","\\subsetneqq",!0);m(v,O,k,"","\\@varsubsetneqq");m(v,O,k,"≯","\\ngtr",!0);m(v,O,k,"","\\@ngeqslant");m(v,O,k,"","\\@ngeqq");m(v,O,k,"⪈","\\gneq",!0);m(v,O,k,"≩","\\gneqq",!0);m(v,O,k,"","\\@gvertneqq");m(v,O,k,"⋧","\\gnsim",!0);m(v,O,k,"⪊","\\gnapprox",!0);m(v,O,k,"⊁","\\nsucc",!0);m(v,O,k,"⋡","\\nsucceq",!0);m(v,O,k,"⋩","\\succnsim",!0);m(v,O,k,"⪺","\\succnapprox",!0);m(v,O,k,"≆","\\ncong",!0);m(v,O,k,"","\\@nshortparallel");m(v,O,k,"∦","\\nparallel",!0);m(v,O,k,"⊯","\\nVDash",!0);m(v,O,k,"⋫","\\ntriangleright");m(v,O,k,"⋭","\\ntrianglerighteq",!0);m(v,O,k,"","\\@nsupseteqq");m(v,O,k,"⊋","\\supsetneq",!0);m(v,O,k,"","\\@varsupsetneq");m(v,O,k,"⫌","\\supsetneqq",!0);m(v,O,k,"","\\@varsupsetneqq");m(v,O,k,"⊮","\\nVdash",!0);m(v,O,k,"⪵","\\precneqq",!0);m(v,O,k,"⪶","\\succneqq",!0);m(v,O,k,"","\\@nsubseteqq");m(v,O,Ne,"⊴","\\unlhd");m(v,O,Ne,"⊵","\\unrhd");m(v,O,k,"↚","\\nleftarrow",!0);m(v,O,k,"↛","\\nrightarrow",!0);m(v,O,k,"⇍","\\nLeftarrow",!0);m(v,O,k,"⇏","\\nRightarrow",!0);m(v,O,k,"↮","\\nleftrightarrow",!0);m(v,O,k,"⇎","\\nLeftrightarrow",!0);m(v,O,k,"△","\\vartriangle");m(v,O,W,"ℏ","\\hslash");m(v,O,W,"▽","\\triangledown");m(v,O,W,"◊","\\lozenge");m(v,O,W,"Ⓢ","\\circledS");m(v,O,W,"®","\\circledR");m(me,O,W,"®","\\circledR");m(v,O,W,"∡","\\measuredangle",!0);m(v,O,W,"∄","\\nexists");m(v,O,W,"℧","\\mho");m(v,O,W,"Ⅎ","\\Finv",!0);m(v,O,W,"⅁","\\Game",!0);m(v,O,W,"‵","\\backprime");m(v,O,W,"▲","\\blacktriangle");m(v,O,W,"▼","\\blacktriangledown");m(v,O,W,"■","\\blacksquare");m(v,O,W,"⧫","\\blacklozenge");m(v,O,W,"★","\\bigstar");m(v,O,W,"∢","\\sphericalangle",!0);m(v,O,W,"∁","\\complement",!0);m(v,O,W,"ð","\\eth",!0);m(me,b,W,"ð","ð");m(v,O,W,"╱","\\diagup");m(v,O,W,"╲","\\diagdown");m(v,O,W,"□","\\square");m(v,O,W,"□","\\Box");m(v,O,W,"◊","\\Diamond");m(v,O,W,"¥","\\yen",!0);m(me,O,W,"¥","\\yen",!0);m(v,O,W,"✓","\\checkmark",!0);m(me,O,W,"✓","\\checkmark");m(v,O,W,"ℶ","\\beth",!0);m(v,O,W,"ℸ","\\daleth",!0);m(v,O,W,"ℷ","\\gimel",!0);m(v,O,W,"ϝ","\\digamma",!0);m(v,O,W,"ϰ","\\varkappa");m(v,O,qn,"┌","\\@ulcorner",!0);m(v,O,An,"┐","\\@urcorner",!0);m(v,O,qn,"└","\\@llcorner",!0);m(v,O,An,"┘","\\@lrcorner",!0);m(v,O,k,"≦","\\leqq",!0);m(v,O,k,"⩽","\\leqslant",!0);m(v,O,k,"⪕","\\eqslantless",!0);m(v,O,k,"≲","\\lesssim",!0);m(v,O,k,"⪅","\\lessapprox",!0);m(v,O,k,"≊","\\approxeq",!0);m(v,O,Ne,"⋖","\\lessdot");m(v,O,k,"⋘","\\lll",!0);m(v,O,k,"≶","\\lessgtr",!0);m(v,O,k,"⋚","\\lesseqgtr",!0);m(v,O,k,"⪋","\\lesseqqgtr",!0);m(v,O,k,"≑","\\doteqdot");m(v,O,k,"≓","\\risingdotseq",!0);m(v,O,k,"≒","\\fallingdotseq",!0);m(v,O,k,"∽","\\backsim",!0);m(v,O,k,"⋍","\\backsimeq",!0);m(v,O,k,"⫅","\\subseteqq",!0);m(v,O,k,"⋐","\\Subset",!0);m(v,O,k,"⊏","\\sqsubset",!0);m(v,O,k,"≼","\\preccurlyeq",!0);m(v,O,k,"⋞","\\curlyeqprec",!0);m(v,O,k,"≾","\\precsim",!0);m(v,O,k,"⪷","\\precapprox",!0);m(v,O,k,"⊲","\\vartriangleleft");m(v,O,k,"⊴","\\trianglelefteq");m(v,O,k,"⊨","\\vDash",!0);m(v,O,k,"⊪","\\Vvdash",!0);m(v,O,k,"⌣","\\smallsmile");m(v,O,k,"⌢","\\smallfrown");m(v,O,k,"≏","\\bumpeq",!0);m(v,O,k,"≎","\\Bumpeq",!0);m(v,O,k,"≧","\\geqq",!0);m(v,O,k,"⩾","\\geqslant",!0);m(v,O,k,"⪖","\\eqslantgtr",!0);m(v,O,k,"≳","\\gtrsim",!0);m(v,O,k,"⪆","\\gtrapprox",!0);m(v,O,Ne,"⋗","\\gtrdot");m(v,O,k,"⋙","\\ggg",!0);m(v,O,k,"≷","\\gtrless",!0);m(v,O,k,"⋛","\\gtreqless",!0);m(v,O,k,"⪌","\\gtreqqless",!0);m(v,O,k,"≖","\\eqcirc",!0);m(v,O,k,"≗","\\circeq",!0);m(v,O,k,"≜","\\triangleq",!0);m(v,O,k,"∼","\\thicksim");m(v,O,k,"≈","\\thickapprox");m(v,O,k,"⫆","\\supseteqq",!0);m(v,O,k,"⋑","\\Supset",!0);m(v,O,k,"⊐","\\sqsupset",!0);m(v,O,k,"≽","\\succcurlyeq",!0);m(v,O,k,"⋟","\\curlyeqsucc",!0);m(v,O,k,"≿","\\succsim",!0);m(v,O,k,"⪸","\\succapprox",!0);m(v,O,k,"⊳","\\vartriangleright");m(v,O,k,"⊵","\\trianglerighteq");m(v,O,k,"⊩","\\Vdash",!0);m(v,O,k,"∣","\\shortmid");m(v,O,k,"∥","\\shortparallel");m(v,O,k,"≬","\\between",!0);m(v,O,k,"⋔","\\pitchfork",!0);m(v,O,k,"∝","\\varpropto");m(v,O,k,"◀","\\blacktriangleleft");m(v,O,k,"∴","\\therefore",!0);m(v,O,k,"∍","\\backepsilon");m(v,O,k,"▶","\\blacktriangleright");m(v,O,k,"∵","\\because",!0);m(v,O,k,"⋘","\\llless");m(v,O,k,"⋙","\\gggtr");m(v,O,Ne,"⊲","\\lhd");m(v,O,Ne,"⊳","\\rhd");m(v,O,k,"≂","\\eqsim",!0);m(v,b,k,"⋈","\\Join");m(v,O,k,"≑","\\Doteq",!0);m(v,O,Ne,"∔","\\dotplus",!0);m(v,O,Ne,"∖","\\smallsetminus");m(v,O,Ne,"⋒","\\Cap",!0);m(v,O,Ne,"⋓","\\Cup",!0);m(v,O,Ne,"⩞","\\doublebarwedge",!0);m(v,O,Ne,"⊟","\\boxminus",!0);m(v,O,Ne,"⊞","\\boxplus",!0);m(v,O,Ne,"⋇","\\divideontimes",!0);m(v,O,Ne,"⋉","\\ltimes",!0);m(v,O,Ne,"⋊","\\rtimes",!0);m(v,O,Ne,"⋋","\\leftthreetimes",!0);m(v,O,Ne,"⋌","\\rightthreetimes",!0);m(v,O,Ne,"⋏","\\curlywedge",!0);m(v,O,Ne,"⋎","\\curlyvee",!0);m(v,O,Ne,"⊝","\\circleddash",!0);m(v,O,Ne,"⊛","\\circledast",!0);m(v,O,Ne,"⋅","\\centerdot");m(v,O,Ne,"⊺","\\intercal",!0);m(v,O,Ne,"⋒","\\doublecap");m(v,O,Ne,"⋓","\\doublecup");m(v,O,Ne,"⊠","\\boxtimes",!0);m(v,O,k,"⇢","\\dashrightarrow",!0);m(v,O,k,"⇠","\\dashleftarrow",!0);m(v,O,k,"⇇","\\leftleftarrows",!0);m(v,O,k,"⇆","\\leftrightarrows",!0);m(v,O,k,"⇚","\\Lleftarrow",!0);m(v,O,k,"↞","\\twoheadleftarrow",!0);m(v,O,k,"↢","\\leftarrowtail",!0);m(v,O,k,"↫","\\looparrowleft",!0);m(v,O,k,"⇋","\\leftrightharpoons",!0);m(v,O,k,"↶","\\curvearrowleft",!0);m(v,O,k,"↺","\\circlearrowleft",!0);m(v,O,k,"↰","\\Lsh",!0);m(v,O,k,"⇈","\\upuparrows",!0);m(v,O,k,"↿","\\upharpoonleft",!0);m(v,O,k,"⇃","\\downharpoonleft",!0);m(v,b,k,"⊶","\\origof",!0);m(v,b,k,"⊷","\\imageof",!0);m(v,O,k,"⊸","\\multimap",!0);m(v,O,k,"↭","\\leftrightsquigarrow",!0);m(v,O,k,"⇉","\\rightrightarrows",!0);m(v,O,k,"⇄","\\rightleftarrows",!0);m(v,O,k,"↠","\\twoheadrightarrow",!0);m(v,O,k,"↣","\\rightarrowtail",!0);m(v,O,k,"↬","\\looparrowright",!0);m(v,O,k,"↷","\\curvearrowright",!0);m(v,O,k,"↻","\\circlearrowright",!0);m(v,O,k,"↱","\\Rsh",!0);m(v,O,k,"⇊","\\downdownarrows",!0);m(v,O,k,"↾","\\upharpoonright",!0);m(v,O,k,"⇂","\\downharpoonright",!0);m(v,O,k,"⇝","\\rightsquigarrow",!0);m(v,O,k,"⇝","\\leadsto");m(v,O,k,"⇛","\\Rrightarrow",!0);m(v,O,k,"↾","\\restriction");m(v,b,W,"‘","`");m(v,b,W,"$","\\$");m(me,b,W,"$","\\$");m(me,b,W,"$","\\textdollar");m(v,b,W,"%","\\%");m(me,b,W,"%","\\%");m(v,b,W,"_","\\_");m(me,b,W,"_","\\_");m(me,b,W,"_","\\textunderscore");m(v,b,W,"∠","\\angle",!0);m(v,b,W,"∞","\\infty",!0);m(v,b,W,"′","\\prime");m(v,b,W,"△","\\triangle");m(v,b,W,"Γ","\\Gamma",!0);m(v,b,W,"Δ","\\Delta",!0);m(v,b,W,"Θ","\\Theta",!0);m(v,b,W,"Λ","\\Lambda",!0);m(v,b,W,"Ξ","\\Xi",!0);m(v,b,W,"Π","\\Pi",!0);m(v,b,W,"Σ","\\Sigma",!0);m(v,b,W,"Υ","\\Upsilon",!0);m(v,b,W,"Φ","\\Phi",!0);m(v,b,W,"Ψ","\\Psi",!0);m(v,b,W,"Ω","\\Omega",!0);m(v,b,W,"A","Α");m(v,b,W,"B","Β");m(v,b,W,"E","Ε");m(v,b,W,"Z","Ζ");m(v,b,W,"H","Η");m(v,b,W,"I","Ι");m(v,b,W,"K","Κ");m(v,b,W,"M","Μ");m(v,b,W,"N","Ν");m(v,b,W,"O","Ο");m(v,b,W,"P","Ρ");m(v,b,W,"T","Τ");m(v,b,W,"X","Χ");m(v,b,W,"¬","\\neg",!0);m(v,b,W,"¬","\\lnot");m(v,b,W,"⊤","\\top");m(v,b,W,"⊥","\\bot");m(v,b,W,"∅","\\emptyset");m(v,O,W,"∅","\\varnothing");m(v,b,Xe,"α","\\alpha",!0);m(v,b,Xe,"β","\\beta",!0);m(v,b,Xe,"γ","\\gamma",!0);m(v,b,Xe,"δ","\\delta",!0);m(v,b,Xe,"ϵ","\\epsilon",!0);m(v,b,Xe,"ζ","\\zeta",!0);m(v,b,Xe,"η","\\eta",!0);m(v,b,Xe,"θ","\\theta",!0);m(v,b,Xe,"ι","\\iota",!0);m(v,b,Xe,"κ","\\kappa",!0);m(v,b,Xe,"λ","\\lambda",!0);m(v,b,Xe,"μ","\\mu",!0);m(v,b,Xe,"ν","\\nu",!0);m(v,b,Xe,"ξ","\\xi",!0);m(v,b,Xe,"ο","\\omicron",!0);m(v,b,Xe,"π","\\pi",!0);m(v,b,Xe,"ρ","\\rho",!0);m(v,b,Xe,"σ","\\sigma",!0);m(v,b,Xe,"τ","\\tau",!0);m(v,b,Xe,"υ","\\upsilon",!0);m(v,b,Xe,"ϕ","\\phi",!0);m(v,b,Xe,"χ","\\chi",!0);m(v,b,Xe,"ψ","\\psi",!0);m(v,b,Xe,"ω","\\omega",!0);m(v,b,Xe,"ε","\\varepsilon",!0);m(v,b,Xe,"ϑ","\\vartheta",!0);m(v,b,Xe,"ϖ","\\varpi",!0);m(v,b,Xe,"ϱ","\\varrho",!0);m(v,b,Xe,"ς","\\varsigma",!0);m(v,b,Xe,"φ","\\varphi",!0);m(v,b,Ne,"∗","*",!0);m(v,b,Ne,"+","+");m(v,b,Ne,"−","-",!0);m(v,b,Ne,"⋅","\\cdot",!0);m(v,b,Ne,"∘","\\circ",!0);m(v,b,Ne,"÷","\\div",!0);m(v,b,Ne,"±","\\pm",!0);m(v,b,Ne,"×","\\times",!0);m(v,b,Ne,"∩","\\cap",!0);m(v,b,Ne,"∪","\\cup",!0);m(v,b,Ne,"∖","\\setminus",!0);m(v,b,Ne,"∧","\\land");m(v,b,Ne,"∨","\\lor");m(v,b,Ne,"∧","\\wedge",!0);m(v,b,Ne,"∨","\\vee",!0);m(v,b,W,"√","\\surd");m(v,b,qn,"⟨","\\langle",!0);m(v,b,qn,"∣","\\lvert");m(v,b,qn,"∥","\\lVert");m(v,b,An,"?","?");m(v,b,An,"!","!");m(v,b,An,"⟩","\\rangle",!0);m(v,b,An,"∣","\\rvert");m(v,b,An,"∥","\\rVert");m(v,b,k,"=","=");m(v,b,k,":",":");m(v,b,k,"≈","\\approx",!0);m(v,b,k,"≅","\\cong",!0);m(v,b,k,"≥","\\ge");m(v,b,k,"≥","\\geq",!0);m(v,b,k,"←","\\gets");m(v,b,k,">","\\gt",!0);m(v,b,k,"∈","\\in",!0);m(v,b,k,"","\\@not");m(v,b,k,"⊂","\\subset",!0);m(v,b,k,"⊃","\\supset",!0);m(v,b,k,"⊆","\\subseteq",!0);m(v,b,k,"⊇","\\supseteq",!0);m(v,O,k,"⊈","\\nsubseteq",!0);m(v,O,k,"⊉","\\nsupseteq",!0);m(v,b,k,"⊨","\\models");m(v,b,k,"←","\\leftarrow",!0);m(v,b,k,"≤","\\le");m(v,b,k,"≤","\\leq",!0);m(v,b,k,"<","\\lt",!0);m(v,b,k,"→","\\rightarrow",!0);m(v,b,k,"→","\\to");m(v,O,k,"≱","\\ngeq",!0);m(v,O,k,"≰","\\nleq",!0);m(v,b,fi," ","\\ ");m(v,b,fi," ","\\space");m(v,b,fi," ","\\nobreakspace");m(me,b,fi," ","\\ ");m(me,b,fi," "," ");m(me,b,fi," ","\\space");m(me,b,fi," ","\\nobreakspace");m(v,b,fi,null,"\\nobreak");m(v,b,fi,null,"\\allowbreak");m(v,b,N1,",",",");m(v,b,N1,";",";");m(v,O,Ne,"⊼","\\barwedge",!0);m(v,O,Ne,"⊻","\\veebar",!0);m(v,b,Ne,"⊙","\\odot",!0);m(v,b,Ne,"⊕","\\oplus",!0);m(v,b,Ne,"⊗","\\otimes",!0);m(v,b,W,"∂","\\partial",!0);m(v,b,Ne,"⊘","\\oslash",!0);m(v,O,Ne,"⊚","\\circledcirc",!0);m(v,O,Ne,"⊡","\\boxdot",!0);m(v,b,Ne,"△","\\bigtriangleup");m(v,b,Ne,"▽","\\bigtriangledown");m(v,b,Ne,"†","\\dagger");m(v,b,Ne,"⋄","\\diamond");m(v,b,Ne,"⋆","\\star");m(v,b,Ne,"◃","\\triangleleft");m(v,b,Ne,"▹","\\triangleright");m(v,b,qn,"{","\\{");m(me,b,W,"{","\\{");m(me,b,W,"{","\\textbraceleft");m(v,b,An,"}","\\}");m(me,b,W,"}","\\}");m(me,b,W,"}","\\textbraceright");m(v,b,qn,"{","\\lbrace");m(v,b,An,"}","\\rbrace");m(v,b,qn,"[","\\lbrack",!0);m(me,b,W,"[","\\lbrack",!0);m(v,b,An,"]","\\rbrack",!0);m(me,b,W,"]","\\rbrack",!0);m(v,b,qn,"(","\\lparen",!0);m(v,b,An,")","\\rparen",!0);m(me,b,W,"<","\\textless",!0);m(me,b,W,">","\\textgreater",!0);m(v,b,qn,"⌊","\\lfloor",!0);m(v,b,An,"⌋","\\rfloor",!0);m(v,b,qn,"⌈","\\lceil",!0);m(v,b,An,"⌉","\\rceil",!0);m(v,b,W,"\\","\\backslash");m(v,b,W,"∣","|");m(v,b,W,"∣","\\vert");m(me,b,W,"|","\\textbar",!0);m(v,b,W,"∥","\\|");m(v,b,W,"∥","\\Vert");m(me,b,W,"∥","\\textbardbl");m(me,b,W,"~","\\textasciitilde");m(me,b,W,"\\","\\textbackslash");m(me,b,W,"^","\\textasciicircum");m(v,b,k,"↑","\\uparrow",!0);m(v,b,k,"⇑","\\Uparrow",!0);m(v,b,k,"↓","\\downarrow",!0);m(v,b,k,"⇓","\\Downarrow",!0);m(v,b,k,"↕","\\updownarrow",!0);m(v,b,k,"⇕","\\Updownarrow",!0);m(v,b,Qt,"∐","\\coprod");m(v,b,Qt,"⋁","\\bigvee");m(v,b,Qt,"⋀","\\bigwedge");m(v,b,Qt,"⨄","\\biguplus");m(v,b,Qt,"⋂","\\bigcap");m(v,b,Qt,"⋃","\\bigcup");m(v,b,Qt,"∫","\\int");m(v,b,Qt,"∫","\\intop");m(v,b,Qt,"∬","\\iint");m(v,b,Qt,"∭","\\iiint");m(v,b,Qt,"∏","\\prod");m(v,b,Qt,"∑","\\sum");m(v,b,Qt,"⨂","\\bigotimes");m(v,b,Qt,"⨁","\\bigoplus");m(v,b,Qt,"⨀","\\bigodot");m(v,b,Qt,"∮","\\oint");m(v,b,Qt,"∯","\\oiint");m(v,b,Qt,"∰","\\oiiint");m(v,b,Qt,"⨆","\\bigsqcup");m(v,b,Qt,"∫","\\smallint");m(me,b,sa,"…","\\textellipsis");m(v,b,sa,"…","\\mathellipsis");m(me,b,sa,"…","\\ldots",!0);m(v,b,sa,"…","\\ldots",!0);m(v,b,sa,"⋯","\\@cdots",!0);m(v,b,sa,"⋱","\\ddots",!0);m(v,b,W,"⋮","\\varvdots");m(v,b,Pt,"ˊ","\\acute");m(v,b,Pt,"ˋ","\\grave");m(v,b,Pt,"¨","\\ddot");m(v,b,Pt,"~","\\tilde");m(v,b,Pt,"ˉ","\\bar");m(v,b,Pt,"˘","\\breve");m(v,b,Pt,"ˇ","\\check");m(v,b,Pt,"^","\\hat");m(v,b,Pt,"⃗","\\vec");m(v,b,Pt,"˙","\\dot");m(v,b,Pt,"˚","\\mathring");m(v,b,Xe,"","\\@imath");m(v,b,Xe,"","\\@jmath");m(v,b,W,"ı","ı");m(v,b,W,"ȷ","ȷ");m(me,b,W,"ı","\\i",!0);m(me,b,W,"ȷ","\\j",!0);m(me,b,W,"ß","\\ss",!0);m(me,b,W,"æ","\\ae",!0);m(me,b,W,"œ","\\oe",!0);m(me,b,W,"ø","\\o",!0);m(me,b,W,"Æ","\\AE",!0);m(me,b,W,"Œ","\\OE",!0);m(me,b,W,"Ø","\\O",!0);m(me,b,Pt,"ˊ","\\'");m(me,b,Pt,"ˋ","\\`");m(me,b,Pt,"ˆ","\\^");m(me,b,Pt,"˜","\\~");m(me,b,Pt,"ˉ","\\=");m(me,b,Pt,"˘","\\u");m(me,b,Pt,"˙","\\.");m(me,b,Pt,"¸","\\c");m(me,b,Pt,"˚","\\r");m(me,b,Pt,"ˇ","\\v");m(me,b,Pt,"¨",'\\"');m(me,b,Pt,"˝","\\H");m(me,b,Pt,"◯","\\textcircled");var Em={"--":!0,"---":!0,"``":!0,"''":!0};m(me,b,W,"–","--",!0);m(me,b,W,"–","\\textendash");m(me,b,W,"—","---",!0);m(me,b,W,"—","\\textemdash");m(me,b,W,"‘","`",!0);m(me,b,W,"‘","\\textquoteleft");m(me,b,W,"’","'",!0);m(me,b,W,"’","\\textquoteright");m(me,b,W,"“","``",!0);m(me,b,W,"“","\\textquotedblleft");m(me,b,W,"”","''",!0);m(me,b,W,"”","\\textquotedblright");m(v,b,W,"°","\\degree",!0);m(me,b,W,"°","\\degree");m(me,b,W,"°","\\textdegree",!0);m(v,b,W,"£","\\pounds");m(v,b,W,"£","\\mathsterling",!0);m(me,b,W,"£","\\pounds");m(me,b,W,"£","\\textsterling",!0);m(v,O,W,"✠","\\maltese");m(me,O,W,"✠","\\maltese");var Cc='0123456789/@."';for(var h0=0;h0<Cc.length;h0++){var Dc=Cc.charAt(h0);m(v,b,W,Dc,Dc)}var wc='0123456789!@*()-=+";:?/.,';for(var f0=0;f0<wc.length;f0++){var Rc=wc.charAt(f0);m(me,b,W,Rc,Rc)}var v1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var d0=0;d0<v1.length;d0++){var co=v1.charAt(d0);m(v,b,Xe,co,co),m(me,b,W,co,co)}m(v,O,W,"C","ℂ");m(me,O,W,"C","ℂ");m(v,O,W,"H","ℍ");m(me,O,W,"H","ℍ");m(v,O,W,"N","ℕ");m(me,O,W,"N","ℕ");m(v,O,W,"P","ℙ");m(me,O,W,"P","ℙ");m(v,O,W,"Q","ℚ");m(me,O,W,"Q","ℚ");m(v,O,W,"R","ℝ");m(me,O,W,"R","ℝ");m(v,O,W,"Z","ℤ");m(me,O,W,"Z","ℤ");m(v,b,Xe,"h","ℎ");m(me,b,Xe,"h","ℎ");var rt="";for(var Sn=0;Sn<v1.length;Sn++){var Kt=v1.charAt(Sn);rt=String.fromCharCode(55349,56320+Sn),m(v,b,Xe,Kt,rt),m(me,b,W,Kt,rt),rt=String.fromCharCode(55349,56372+Sn),m(v,b,Xe,Kt,rt),m(me,b,W,Kt,rt),rt=String.fromCharCode(55349,56424+Sn),m(v,b,Xe,Kt,rt),m(me,b,W,Kt,rt),rt=String.fromCharCode(55349,56580+Sn),m(v,b,Xe,Kt,rt),m(me,b,W,Kt,rt),rt=String.fromCharCode(55349,56736+Sn),m(v,b,Xe,Kt,rt),m(me,b,W,Kt,rt),rt=String.fromCharCode(55349,56788+Sn),m(v,b,Xe,Kt,rt),m(me,b,W,Kt,rt),rt=String.fromCharCode(55349,56840+Sn),m(v,b,Xe,Kt,rt),m(me,b,W,Kt,rt),rt=String.fromCharCode(55349,56944+Sn),m(v,b,Xe,Kt,rt),m(me,b,W,Kt,rt),Sn<26&&(rt=String.fromCharCode(55349,56632+Sn),m(v,b,Xe,Kt,rt),m(me,b,W,Kt,rt),rt=String.fromCharCode(55349,56476+Sn),m(v,b,Xe,Kt,rt),m(me,b,W,Kt,rt))}rt=String.fromCharCode(55349,56668);m(v,b,Xe,"k",rt);m(me,b,W,"k",rt);for(var Ki=0;Ki<10;Ki++){var Ei=Ki.toString();rt=String.fromCharCode(55349,57294+Ki),m(v,b,Xe,Ei,rt),m(me,b,W,Ei,rt),rt=String.fromCharCode(55349,57314+Ki),m(v,b,Xe,Ei,rt),m(me,b,W,Ei,rt),rt=String.fromCharCode(55349,57324+Ki),m(v,b,Xe,Ei,rt),m(me,b,W,Ei,rt),rt=String.fromCharCode(55349,57334+Ki),m(v,b,Xe,Ei,rt),m(me,b,W,Ei,rt)}var Ol="ÐÞþ";for(var p0=0;p0<Ol.length;p0++){var ho=Ol.charAt(p0);m(v,b,Xe,ho,ho),m(me,b,W,ho,ho)}var fo=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Nc=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],U9=function(e,t){var r=e.charCodeAt(0),i=e.charCodeAt(1),s=(r-55296)*1024+(i-56320)+65536,a=t==="math"?0:1;if(119808<=s&&s<120484){var o=Math.floor((s-119808)/26);return[fo[o][2],fo[o][a]]}else if(120782<=s&&s<=120831){var l=Math.floor((s-120782)/10);return[Nc[l][2],Nc[l][a]]}else{if(s===120485||s===120486)return[fo[0][2],fo[0][a]];if(120486<s&&s<120782)return["",""];throw new Te("Unsupported character: "+e)}},I1=function(e,t,r){return Rt[r][e]&&Rt[r][e].replace&&(e=Rt[r][e].replace),{value:e,metrics:pu(e,t,r)}},mr=function(e,t,r,i,s){var a=I1(e,t,r),o=a.metrics;e=a.value;var l;if(o){var u=o.italic;(r==="text"||i&&i.font==="mathit")&&(u=0),l=new nr(e,o.height,o.depth,u,o.skew,o.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+t+"' and mode '"+r+"'")),l=new nr(e,0,0,0,0,0,s);if(i){l.maxFontSize=i.sizeMultiplier,i.style.isTight()&&l.classes.push("mtight");var c=i.getColor();c&&(l.style.color=c)}return l},z9=function(e,t,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&I1(e,"Main-Bold",t).metrics?mr(e,"Main-Bold",t,r,i.concat(["mathbf"])):e==="\\"||Rt[t][e].font==="main"?mr(e,"Main-Regular",t,r,i):mr(e,"AMS-Regular",t,r,i.concat(["amsrm"]))},H9=function(e,t,r,i,s){return s!=="textord"&&I1(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},G9=function(e,t,r){var i=e.mode,s=e.text,a=["mord"],o=i==="math"||i==="text"&&t.font,l=o?t.font:t.fontFamily;if(s.charCodeAt(0)===55349){var[u,c]=U9(s,i);return mr(s,u,i,t,a.concat(c))}else if(l){var h,f;if(l==="boldsymbol"){var d=H9(s,i,t,a,r);h=d.fontName,f=[d.fontClass]}else o?(h=vm[l].fontName,f=[l]):(h=po(l,t.fontWeight,t.fontShape),f=[l,t.fontWeight,t.fontShape]);if(I1(s,h,i).metrics)return mr(s,h,i,t,a.concat(f));if(Em.hasOwnProperty(s)&&h.slice(0,10)==="Typewriter"){for(var T=[],E=0;E<s.length;E++)T.push(mr(s[E],h,i,t,a.concat(f)));return _m(T)}}if(r==="mathord")return mr(s,"Math-Italic",i,t,a.concat(["mathnormal"]));if(r==="textord"){var g=Rt[i][s]&&Rt[i][s].font;if(g==="ams"){var p=po("amsrm",t.fontWeight,t.fontShape);return mr(s,p,i,t,a.concat("amsrm",t.fontWeight,t.fontShape))}else if(g==="main"||!g){var A=po("textrm",t.fontWeight,t.fontShape);return mr(s,A,i,t,a.concat(t.fontWeight,t.fontShape))}else{var _=po(g,t.fontWeight,t.fontShape);return mr(s,_,i,t,a.concat(_,t.fontWeight,t.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},V9=(n,e)=>{if(ki(n.classes)!==ki(e.classes)||n.skew!==e.skew||n.maxFontSize!==e.maxFontSize)return!1;if(n.classes.length===1){var t=n.classes[0];if(t==="mbin"||t==="mord")return!1}for(var r in n.style)if(n.style.hasOwnProperty(r)&&n.style[r]!==e.style[r])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&n.style[i]!==e.style[i])return!1;return!0},W9=n=>{for(var e=0;e<n.length-1;e++){var t=n[e],r=n[e+1];t instanceof nr&&r instanceof nr&&V9(t,r)&&(t.text+=r.text,t.height=Math.max(t.height,r.height),t.depth=Math.max(t.depth,r.depth),t.italic=r.italic,n.splice(e+1,1),e--)}return n},gu=function(e){for(var t=0,r=0,i=0,s=0;s<e.children.length;s++){var a=e.children[s];a.height>t&&(t=a.height),a.depth>r&&(r=a.depth),a.maxFontSize>i&&(i=a.maxFontSize)}e.height=t,e.depth=r,e.maxFontSize=i},wn=function(e,t,r,i){var s=new Ka(e,t,r,i);return gu(s),s},Tm=(n,e,t,r)=>new Ka(n,e,t,r),q9=function(e,t,r){var i=wn([e],[],t);return i.height=Math.max(r||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),i.style.borderBottomWidth=Se(i.height),i.maxFontSize=1,i},X9=function(e,t,r,i){var s=new mu(e,t,r,i);return gu(s),s},_m=function(e){var t=new Ya(e);return gu(t),t},Y9=function(e,t){return e instanceof Ya?wn([],[e],t):e},K9=function(e){if(e.positionType==="individualShift"){for(var t=e.children,r=[t[0]],i=-t[0].shift-t[0].elem.depth,s=i,a=1;a<t.length;a++){var o=-t[a].shift-s-t[a].elem.depth,l=o-(t[a-1].elem.height+t[a-1].elem.depth);s=s+o,r.push({type:"kern",size:l}),r.push(t[a])}return{children:r,depth:i}}var u;if(e.positionType==="top"){for(var c=e.positionData,h=0;h<e.children.length;h++){var f=e.children[h];c-=f.type==="kern"?f.size:f.elem.height+f.elem.depth}u=c}else if(e.positionType==="bottom")u=-e.positionData;else{var d=e.children[0];if(d.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-d.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")u=-d.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:u}},$9=function(e,t){for(var{children:r,depth:i}=K9(e),s=0,a=0;a<r.length;a++){var o=r[a];if(o.type==="elem"){var l=o.elem;s=Math.max(s,l.maxFontSize,l.height)}}s+=2;var u=wn(["pstrut"],[]);u.style.height=Se(s);for(var c=[],h=i,f=i,d=i,T=0;T<r.length;T++){var E=r[T];if(E.type==="kern")d+=E.size;else{var g=E.elem,p=E.wrapperClasses||[],A=E.wrapperStyle||{},_=wn(p,[u,g],void 0,A);_.style.top=Se(-s-d-g.depth),E.marginLeft&&(_.style.marginLeft=E.marginLeft),E.marginRight&&(_.style.marginRight=E.marginRight),c.push(_),d+=g.height+g.depth}h=Math.min(h,d),f=Math.max(f,d)}var D=wn(["vlist"],c);D.style.height=Se(f);var M;if(h<0){var y=wn([],[]),C=wn(["vlist"],[y]);C.style.height=Se(-h);var B=wn(["vlist-s"],[new nr("​")]);M=[wn(["vlist-r"],[D,B]),wn(["vlist-r"],[C])]}else M=[wn(["vlist-r"],[D])];var S=wn(["vlist-t"],M);return M.length===2&&S.classes.push("vlist-t2"),S.height=f,S.depth=-h,S},j9=(n,e)=>{var t=wn(["mspace"],[],e),r=Bt(n,e);return t.style.marginRight=Se(r),t},po=function(e,t,r){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var s;return t==="textbf"&&r==="textit"?s="BoldItalic":t==="textbf"?s="Bold":t==="textit"?s="Italic":s="Regular",i+"-"+s},vm={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},xm={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Q9=function(e,t){var[r,i,s]=xm[e],a=new Bi(r),o=new li([a],{width:Se(i),height:Se(s),style:"width:"+Se(i),viewBox:"0 0 "+1e3*i+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),l=Tm(["overlay"],[o],t);return l.height=s,l.style.height=Se(s),l.style.width=Se(i),l},J={fontMap:vm,makeSymbol:mr,mathsym:z9,makeSpan:wn,makeSvgSpan:Tm,makeLineSpan:q9,makeAnchor:X9,makeFragment:_m,wrapFragment:Y9,makeVList:$9,makeOrd:G9,makeGlue:j9,staticSvg:Q9,svgData:xm,tryCombineChars:W9},kt={number:3,unit:"mu"},$i={number:4,unit:"mu"},zr={number:5,unit:"mu"},Z9={mord:{mop:kt,mbin:$i,mrel:zr,minner:kt},mop:{mord:kt,mop:kt,mrel:zr,minner:kt},mbin:{mord:$i,mop:$i,mopen:$i,minner:$i},mrel:{mord:zr,mop:zr,mopen:zr,minner:zr},mopen:{},mclose:{mop:kt,mbin:$i,mrel:zr,minner:kt},mpunct:{mord:kt,mop:kt,mrel:zr,mopen:kt,mclose:kt,mpunct:kt,minner:kt},minner:{mord:kt,mop:kt,mbin:$i,mrel:zr,mopen:kt,mpunct:kt,minner:kt}},J9={mord:{mop:kt},mop:{mord:kt,mop:kt},mbin:{},mrel:{},mopen:{},mclose:{mop:kt},mpunct:{},minner:{mop:kt}},Am={},x1={},A1={};function we(n){for(var{type:e,names:t,props:r,handler:i,htmlBuilder:s,mathmlBuilder:a}=n,o={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},l=0;l<t.length;++l)Am[t[l]]=o;e&&(s&&(x1[e]=s),a&&(A1[e]=a))}function ms(n){var{type:e,htmlBuilder:t,mathmlBuilder:r}=n;we({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:t,mathmlBuilder:r})}var y1=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},Vt=function(e){return e.type==="ordgroup"?e.body:[e]},ui=J.makeSpan,e3=["leftmost","mbin","mopen","mrel","mop","mpunct"],t3=["rightmost","mrel","mclose","mpunct"],n3={display:qe.DISPLAY,text:qe.TEXT,script:qe.SCRIPT,scriptscript:qe.SCRIPTSCRIPT},r3={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},en=function(e,t,r,i){i===void 0&&(i=[null,null]);for(var s=[],a=0;a<e.length;a++){var o=Et(e[a],t);if(o instanceof Ya){var l=o.children;s.push(...l)}else s.push(o)}if(J.tryCombineChars(s),!r)return s;var u=t;if(e.length===1){var c=e[0];c.type==="sizing"?u=t.havingSize(c.size):c.type==="styling"&&(u=t.havingStyle(n3[c.style]))}var h=ui([i[0]||"leftmost"],[],t),f=ui([i[1]||"rightmost"],[],t),d=r==="root";return Ic(s,(T,E)=>{var g=E.classes[0],p=T.classes[0];g==="mbin"&&je.contains(t3,p)?E.classes[0]="mord":p==="mbin"&&je.contains(e3,g)&&(T.classes[0]="mord")},{node:h},f,d),Ic(s,(T,E)=>{var g=kl(E),p=kl(T),A=g&&p?T.hasClass("mtight")?J9[g][p]:Z9[g][p]:null;if(A)return J.makeGlue(A,u)},{node:h},f,d),s},Ic=function n(e,t,r,i,s){i&&e.push(i);for(var a=0;a<e.length;a++){var o=e[a],l=ym(o);if(l){n(l.children,t,r,null,s);continue}var u=!o.hasClass("mspace");if(u){var c=t(o,r.node);c&&(r.insertAfter?r.insertAfter(c):(e.unshift(c),a++))}u?r.node=o:s&&o.hasClass("newline")&&(r.node=ui(["leftmost"])),r.insertAfter=(h=>f=>{e.splice(h+1,0,f),a++})(a)}i&&e.pop()},ym=function(e){return e instanceof Ya||e instanceof mu||e instanceof Ka&&e.hasClass("enclosing")?e:null},i3=function n(e,t){var r=ym(e);if(r){var i=r.children;if(i.length){if(t==="right")return n(i[i.length-1],"right");if(t==="left")return n(i[0],"left")}}return e},kl=function(e,t){return e?(t&&(e=i3(e,t)),r3[e.classes[0]]||null):null},Ga=function(e,t){var r=["nulldelimiter"].concat(e.baseSizingClasses());return ui(t.concat(r))},Et=function(e,t,r){if(!e)return ui();if(x1[e.type]){var i=x1[e.type](e,t);if(r&&t.size!==r.size){i=ui(t.sizingClasses(r),[i],t);var s=t.sizeMultiplier/r.sizeMultiplier;i.height*=s,i.depth*=s}return i}else throw new Te("Got group of unknown type: '"+e.type+"'")};function mo(n,e){var t=ui(["base"],n,e),r=ui(["strut"]);return r.style.height=Se(t.height+t.depth),t.depth&&(r.style.verticalAlign=Se(-t.depth)),t.children.unshift(r),t}function Bl(n,e){var t=null;n.length===1&&n[0].type==="tag"&&(t=n[0].tag,n=n[0].body);var r=en(n,e,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var s=[],a=[],o=0;o<r.length;o++)if(a.push(r[o]),r[o].hasClass("mbin")||r[o].hasClass("mrel")||r[o].hasClass("allowbreak")){for(var l=!1;o<r.length-1&&r[o+1].hasClass("mspace")&&!r[o+1].hasClass("newline");)o++,a.push(r[o]),r[o].hasClass("nobreak")&&(l=!0);l||(s.push(mo(a,e)),a=[])}else r[o].hasClass("newline")&&(a.pop(),a.length>0&&(s.push(mo(a,e)),a=[]),s.push(r[o]));a.length>0&&s.push(mo(a,e));var u;t?(u=mo(en(t,e,!0)),u.classes=["tag"],s.push(u)):i&&s.push(i);var c=ui(["katex-html"],s);if(c.setAttribute("aria-hidden","true"),u){var h=u.children[0];h.style.height=Se(c.height+c.depth),c.depth&&(h.style.verticalAlign=Se(-c.depth))}return c}function Sm(n){return new Ya(n)}class Jn{constructor(e,t,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=r||[]}setAttribute(e,t){this.attributes[e]=t}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=ki(this.classes));for(var r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=je.escape(this.attributes[t]),e+='"');this.classes.length>0&&(e+=' class ="'+je.escape(ki(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class Na{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return je.escape(this.toText())}toText(){return this.text}}class s3{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character=" ":e>=.1666&&e<=.1667?this.character=" ":e>=.2222&&e<=.2223?this.character=" ":e>=.2777&&e<=.2778?this.character="  ":e>=-.05556&&e<=-.05555?this.character=" ⁣":e>=-.1667&&e<=-.1666?this.character=" ⁣":e>=-.2223&&e<=-.2222?this.character=" ⁣":e>=-.2778&&e<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",Se(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Se(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var ge={MathNode:Jn,TextNode:Na,SpaceNode:s3,newDocumentFragment:Sm},rr=function(e,t,r){return Rt[t][e]&&Rt[t][e].replace&&e.charCodeAt(0)!==55349&&!(Em.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=Rt[t][e].replace),new ge.TextNode(e)},Eu=function(e){return e.length===1?e[0]:new ge.MathNode("mrow",e)},Tu=function(e,t){if(t.fontFamily==="texttt")return"monospace";if(t.fontFamily==="textsf")return t.fontShape==="textit"&&t.fontWeight==="textbf"?"sans-serif-bold-italic":t.fontShape==="textit"?"sans-serif-italic":t.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(t.fontShape==="textit"&&t.fontWeight==="textbf")return"bold-italic";if(t.fontShape==="textit")return"italic";if(t.fontWeight==="textbf")return"bold";var r=t.font;if(!r||r==="mathnormal")return null;var i=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var s=e.text;if(je.contains(["\\imath","\\jmath"],s))return null;Rt[i][s]&&Rt[i][s].replace&&(s=Rt[i][s].replace);var a=J.fontMap[r].fontName;return pu(s,a,i)?J.fontMap[r].variant:null},Fn=function(e,t,r){if(e.length===1){var i=Dt(e[0],t);return r&&i instanceof Jn&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var s=[],a,o=0;o<e.length;o++){var l=Dt(e[o],t);if(l instanceof Jn&&a instanceof Jn){if(l.type==="mtext"&&a.type==="mtext"&&l.getAttribute("mathvariant")===a.getAttribute("mathvariant")){a.children.push(...l.children);continue}else if(l.type==="mn"&&a.type==="mn"){a.children.push(...l.children);continue}else if(l.type==="mi"&&l.children.length===1&&a.type==="mn"){var u=l.children[0];if(u instanceof Na&&u.text==="."){a.children.push(...l.children);continue}}else if(a.type==="mi"&&a.children.length===1){var c=a.children[0];if(c instanceof Na&&c.text==="̸"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var h=l.children[0];h instanceof Na&&h.text.length>0&&(h.text=h.text.slice(0,1)+"̸"+h.text.slice(1),s.pop())}}}s.push(l),a=l}return s},Ui=function(e,t,r){return Eu(Fn(e,t,r))},Dt=function(e,t){if(!e)return new ge.MathNode("mrow");if(A1[e.type]){var r=A1[e.type](e,t);return r}else throw new Te("Got group of unknown type: '"+e.type+"'")};function Lc(n,e,t,r,i){var s=Fn(n,t),a;s.length===1&&s[0]instanceof Jn&&je.contains(["mrow","mtable"],s[0].type)?a=s[0]:a=new ge.MathNode("mrow",s);var o=new ge.MathNode("annotation",[new ge.TextNode(e)]);o.setAttribute("encoding","application/x-tex");var l=new ge.MathNode("semantics",[a,o]),u=new ge.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&u.setAttribute("display","block");var c=i?"katex":"katex-mathml";return J.makeSpan([c],[u])}var bm=function(e){return new ei({style:e.displayMode?qe.DISPLAY:qe.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},Mm=function(e,t){if(t.displayMode){var r=["katex-display"];t.leqno&&r.push("leqno"),t.fleqn&&r.push("fleqn"),e=J.makeSpan(r,[e])}return e},a3=function(e,t,r){var i=bm(r),s;if(r.output==="mathml")return Lc(e,t,i,r.displayMode,!0);if(r.output==="html"){var a=Bl(e,i);s=J.makeSpan(["katex"],[a])}else{var o=Lc(e,t,i,r.displayMode,!1),l=Bl(e,i);s=J.makeSpan(["katex"],[o,l])}return Mm(s,r)},o3=function(e,t,r){var i=bm(r),s=Bl(e,i),a=J.makeSpan(["katex"],[s]);return Mm(a,r)},l3={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},u3=function(e){var t=new ge.MathNode("mo",[new ge.TextNode(l3[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},c3={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},h3=function(e){return e.type==="ordgroup"?e.body.length:1},f3=function(e,t){function r(){var o=4e5,l=e.label.slice(1);if(je.contains(["widehat","widecheck","widetilde","utilde"],l)){var u=e,c=h3(u.base),h,f,d;if(c>5)l==="widehat"||l==="widecheck"?(h=420,o=2364,d=.42,f=l+"4"):(h=312,o=2340,d=.34,f="tilde4");else{var T=[1,1,2,2,3,3][c];l==="widehat"||l==="widecheck"?(o=[0,1062,2364,2364,2364][T],h=[0,239,300,360,420][T],d=[0,.24,.3,.3,.36,.42][T],f=l+T):(o=[0,600,1033,2339,2340][T],h=[0,260,286,306,312][T],d=[0,.26,.286,.3,.306,.34][T],f="tilde"+T)}var E=new Bi(f),g=new li([E],{width:"100%",height:Se(d),viewBox:"0 0 "+o+" "+h,preserveAspectRatio:"none"});return{span:J.makeSvgSpan([],[g],t),minWidth:0,height:d}}else{var p=[],A=c3[l],[_,D,M]=A,y=M/1e3,C=_.length,B,S;if(C===1){var I=A[3];B=["hide-tail"],S=[I]}else if(C===2)B=["halfarrow-left","halfarrow-right"],S=["xMinYMin","xMaxYMin"];else if(C===3)B=["brace-left","brace-center","brace-right"],S=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+C+" children.");for(var V=0;V<C;V++){var Y=new Bi(_[V]),X=new li([Y],{width:"400em",height:Se(y),viewBox:"0 0 "+o+" "+M,preserveAspectRatio:S[V]+" slice"}),j=J.makeSvgSpan([B[V]],[X],t);if(C===1)return{span:j,minWidth:D,height:y};j.style.height=Se(y),p.push(j)}return{span:J.makeSpan(["stretchy"],p,t),minWidth:D,height:y}}}var{span:i,minWidth:s,height:a}=r();return i.height=a,i.style.height=Se(a),s>0&&(i.style.minWidth=Se(s)),i},d3=function(e,t,r,i,s){var a,o=e.height+e.depth+r+i;if(/fbox|color|angl/.test(t)){if(a=J.makeSpan(["stretchy",t],[],s),t==="fbox"){var l=s.color&&s.getColor();l&&(a.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(t)&&u.push(new Pl({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&u.push(new Pl({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var c=new li(u,{width:"100%",height:Se(o)});a=J.makeSvgSpan([],[c],s)}return a.height=o,a.style.height=Se(o),a},ci={encloseSpan:d3,mathMLnode:u3,svgSpan:f3};function at(n,e){if(!n||n.type!==e)throw new Error("Expected node of type "+e+", but got "+(n?"node of type "+n.type:String(n)));return n}function _u(n){var e=L1(n);if(!e)throw new Error("Expected node of symbol group type, but got "+(n?"node of type "+n.type:String(n)));return e}function L1(n){return n&&(n.type==="atom"||B9.hasOwnProperty(n.type))?n:null}var vu=(n,e)=>{var t,r,i;n&&n.type==="supsub"?(r=at(n.base,"accent"),t=r.base,n.base=t,i=O9(Et(n,e)),n.base=r):(r=at(n,"accent"),t=r.base);var s=Et(t,e.havingCrampedStyle()),a=r.isShifty&&je.isCharacterBox(t),o=0;if(a){var l=je.getBaseElem(t),u=Et(l,e.havingCrampedStyle());o=Mc(u).skew}var c=r.label==="\\c",h=c?s.height+s.depth:Math.min(s.height,e.fontMetrics().xHeight),f;if(r.isStretchy)f=ci.svgSpan(r,e),f=J.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:f,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+Se(2*o)+")",marginLeft:Se(2*o)}:void 0}]},e);else{var d,T;r.label==="\\vec"?(d=J.staticSvg("vec",e),T=J.svgData.vec[1]):(d=J.makeOrd({mode:r.mode,text:r.label},e,"textord"),d=Mc(d),d.italic=0,T=d.width,c&&(h+=d.depth)),f=J.makeSpan(["accent-body"],[d]);var E=r.label==="\\textcircled";E&&(f.classes.push("accent-full"),h=s.height);var g=o;E||(g-=T/2),f.style.left=Se(g),r.label==="\\textcircled"&&(f.style.top=".2em"),f=J.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-h},{type:"elem",elem:f}]},e)}var p=J.makeSpan(["mord","accent"],[f],e);return i?(i.children[0]=p,i.height=Math.max(p.height,i.height),i.classes[0]="mord",i):p},Cm=(n,e)=>{var t=n.isStretchy?ci.mathMLnode(n.label):new ge.MathNode("mo",[rr(n.label,n.mode)]),r=new ge.MathNode("mover",[Dt(n.base,e),t]);return r.setAttribute("accent","true"),r},p3=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(n=>"\\"+n).join("|"));we({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(n,e)=>{var t=y1(e[0]),r=!p3.test(n.funcName),i=!r||n.funcName==="\\widehat"||n.funcName==="\\widetilde"||n.funcName==="\\widecheck";return{type:"accent",mode:n.parser.mode,label:n.funcName,isStretchy:r,isShifty:i,base:t}},htmlBuilder:vu,mathmlBuilder:Cm});we({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(n,e)=>{var t=e[0],r=n.parser.mode;return r==="math"&&(n.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+n.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:n.funcName,isStretchy:!1,isShifty:!0,base:t}},htmlBuilder:vu,mathmlBuilder:Cm});we({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=e[0];return{type:"accentUnder",mode:t.mode,label:r,base:i}},htmlBuilder:(n,e)=>{var t=Et(n.base,e),r=ci.svgSpan(n,e),i=n.label==="\\utilde"?.12:0,s=J.makeVList({positionType:"top",positionData:t.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:t}]},e);return J.makeSpan(["mord","accentunder"],[s],e)},mathmlBuilder:(n,e)=>{var t=ci.mathMLnode(n.label),r=new ge.MathNode("munder",[Dt(n.base,e),t]);return r.setAttribute("accentunder","true"),r}});var go=n=>{var e=new ge.MathNode("mpadded",n?[n]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};we({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(n,e,t){var{parser:r,funcName:i}=n;return{type:"xArrow",mode:r.mode,label:i,body:e[0],below:t[0]}},htmlBuilder(n,e){var t=e.style,r=e.havingStyle(t.sup()),i=J.wrapFragment(Et(n.body,r,e),e),s=n.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(s+"-arrow-pad");var a;n.below&&(r=e.havingStyle(t.sub()),a=J.wrapFragment(Et(n.below,r,e),e),a.classes.push(s+"-arrow-pad"));var o=ci.svgSpan(n,e),l=-e.fontMetrics().axisHeight+.5*o.height,u=-e.fontMetrics().axisHeight-.5*o.height-.111;(i.depth>.25||n.label==="\\xleftequilibrium")&&(u-=i.depth);var c;if(a){var h=-e.fontMetrics().axisHeight+a.height+.5*o.height+.111;c=J.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:o,shift:l},{type:"elem",elem:a,shift:h}]},e)}else c=J.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:o,shift:l}]},e);return c.children[0].children[0].children[1].classes.push("svg-align"),J.makeSpan(["mrel","x-arrow"],[c],e)},mathmlBuilder(n,e){var t=ci.mathMLnode(n.label);t.setAttribute("minsize",n.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(n.body){var i=go(Dt(n.body,e));if(n.below){var s=go(Dt(n.below,e));r=new ge.MathNode("munderover",[t,s,i])}else r=new ge.MathNode("mover",[t,i])}else if(n.below){var a=go(Dt(n.below,e));r=new ge.MathNode("munder",[t,a])}else r=go(),r=new ge.MathNode("mover",[t,r]);return r}});var m3=J.makeSpan;function Dm(n,e){var t=en(n.body,e,!0);return m3([n.mclass],t,e)}function wm(n,e){var t,r=Fn(n.body,e);return n.mclass==="minner"?t=new ge.MathNode("mpadded",r):n.mclass==="mord"?n.isCharacterBox?(t=r[0],t.type="mi"):t=new ge.MathNode("mi",r):(n.isCharacterBox?(t=r[0],t.type="mo"):t=new ge.MathNode("mo",r),n.mclass==="mbin"?(t.attributes.lspace="0.22em",t.attributes.rspace="0.22em"):n.mclass==="mpunct"?(t.attributes.lspace="0em",t.attributes.rspace="0.17em"):n.mclass==="mopen"||n.mclass==="mclose"?(t.attributes.lspace="0em",t.attributes.rspace="0em"):n.mclass==="minner"&&(t.attributes.lspace="0.0556em",t.attributes.width="+0.1111em")),t}we({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(n,e){var{parser:t,funcName:r}=n,i=e[0];return{type:"mclass",mode:t.mode,mclass:"m"+r.slice(5),body:Vt(i),isCharacterBox:je.isCharacterBox(i)}},htmlBuilder:Dm,mathmlBuilder:wm});var F1=n=>{var e=n.type==="ordgroup"&&n.body.length?n.body[0]:n;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};we({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(n,e){var{parser:t}=n;return{type:"mclass",mode:t.mode,mclass:F1(e[0]),body:Vt(e[1]),isCharacterBox:je.isCharacterBox(e[1])}}});we({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(n,e){var{parser:t,funcName:r}=n,i=e[1],s=e[0],a;r!=="\\stackrel"?a=F1(i):a="mrel";var o={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:Vt(i)},l={type:"supsub",mode:s.mode,base:o,sup:r==="\\underset"?null:s,sub:r==="\\underset"?s:null};return{type:"mclass",mode:t.mode,mclass:a,body:[l],isCharacterBox:je.isCharacterBox(l)}},htmlBuilder:Dm,mathmlBuilder:wm});we({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(n,e){var{parser:t}=n;return{type:"pmb",mode:t.mode,mclass:F1(e[0]),body:Vt(e[0])}},htmlBuilder(n,e){var t=en(n.body,e,!0),r=J.makeSpan([n.mclass],t,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(n,e){var t=Fn(n.body,e),r=new ge.MathNode("mstyle",t);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var g3={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},Fc=()=>({type:"styling",body:[],mode:"math",style:"display"}),Pc=n=>n.type==="textord"&&n.text==="@",E3=(n,e)=>(n.type==="mathord"||n.type==="atom")&&n.text===e;function T3(n,e,t){var r=g3[n];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return t.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=t.callFunction("\\\\cdleft",[e[0]],[]),s={type:"atom",text:r,mode:"math",family:"rel"},a=t.callFunction("\\Big",[s],[]),o=t.callFunction("\\\\cdright",[e[1]],[]),l={type:"ordgroup",mode:"math",body:[i,a,o]};return t.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return t.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return t.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function _3(n){var e=[];for(n.gullet.beginGroup(),n.gullet.macros.set("\\cr","\\\\\\relax"),n.gullet.beginGroup();;){e.push(n.parseExpression(!1,"\\\\")),n.gullet.endGroup(),n.gullet.beginGroup();var t=n.fetch().text;if(t==="&"||t==="\\\\")n.consume();else if(t==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new Te("Expected \\\\ or \\cr or \\end",n.nextToken)}for(var r=[],i=[r],s=0;s<e.length;s++){for(var a=e[s],o=Fc(),l=0;l<a.length;l++)if(!Pc(a[l]))o.body.push(a[l]);else{r.push(o),l+=1;var u=_u(a[l]).text,c=new Array(2);if(c[0]={type:"ordgroup",mode:"math",body:[]},c[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var h=0;h<2;h++){for(var f=!0,d=l+1;d<a.length;d++){if(E3(a[d],u)){f=!1,l=d;break}if(Pc(a[d]))throw new Te("Missing a "+u+" character to complete a CD arrow.",a[d]);c[h].body.push(a[d])}if(f)throw new Te("Missing a "+u+" character to complete a CD arrow.",a[l])}else throw new Te('Expected one of "<>AV=|." after @',a[l]);var T=T3(u,c,n),E={type:"styling",body:[T],mode:"math",style:"display"};r.push(E),o=Fc()}s%2===0?r.push(o):r.shift(),r=[],i.push(r)}n.gullet.endGroup(),n.gullet.endGroup();var g=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:g,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}we({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(n,e){var{parser:t,funcName:r}=n;return{type:"cdlabel",mode:t.mode,side:r.slice(4),label:e[0]}},htmlBuilder(n,e){var t=e.havingStyle(e.style.sup()),r=J.wrapFragment(Et(n.label,t,e),e);return r.classes.push("cd-label-"+n.side),r.style.bottom=Se(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(n,e){var t=new ge.MathNode("mrow",[Dt(n.label,e)]);return t=new ge.MathNode("mpadded",[t]),t.setAttribute("width","0"),n.side==="left"&&t.setAttribute("lspace","-1width"),t.setAttribute("voffset","0.7em"),t=new ge.MathNode("mstyle",[t]),t.setAttribute("displaystyle","false"),t.setAttribute("scriptlevel","1"),t}});we({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(n,e){var{parser:t}=n;return{type:"cdlabelparent",mode:t.mode,fragment:e[0]}},htmlBuilder(n,e){var t=J.wrapFragment(Et(n.fragment,e),e);return t.classes.push("cd-vert-arrow"),t},mathmlBuilder(n,e){return new ge.MathNode("mrow",[Dt(n.fragment,e)])}});we({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(n,e){for(var{parser:t}=n,r=at(e[0],"ordgroup"),i=r.body,s="",a=0;a<i.length;a++){var o=at(i[a],"textord");s+=o.text}var l=parseInt(s),u;if(isNaN(l))throw new Te("\\@char has non-numeric argument "+s);if(l<0||l>=1114111)throw new Te("\\@char with invalid code point "+s);return l<=65535?u=String.fromCharCode(l):(l-=65536,u=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:t.mode,text:u}}});var Rm=(n,e)=>{var t=en(n.body,e.withColor(n.color),!1);return J.makeFragment(t)},Nm=(n,e)=>{var t=Fn(n.body,e.withColor(n.color)),r=new ge.MathNode("mstyle",t);return r.setAttribute("mathcolor",n.color),r};we({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(n,e){var{parser:t}=n,r=at(e[0],"color-token").color,i=e[1];return{type:"color",mode:t.mode,color:r,body:Vt(i)}},htmlBuilder:Rm,mathmlBuilder:Nm});we({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(n,e){var{parser:t,breakOnTokenText:r}=n,i=at(e[0],"color-token").color;t.gullet.macros.set("\\current@color",i);var s=t.parseExpression(!0,r);return{type:"color",mode:t.mode,color:i,body:s}},htmlBuilder:Rm,mathmlBuilder:Nm});we({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(n,e,t){var{parser:r}=n,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,s=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:s,size:i&&at(i,"size").value}},htmlBuilder(n,e){var t=J.makeSpan(["mspace"],[],e);return n.newLine&&(t.classes.push("newline"),n.size&&(t.style.marginTop=Se(Bt(n.size,e)))),t},mathmlBuilder(n,e){var t=new ge.MathNode("mspace");return n.newLine&&(t.setAttribute("linebreak","newline"),n.size&&t.setAttribute("height",Se(Bt(n.size,e)))),t}});var Ul={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Im=n=>{var e=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new Te("Expected a control sequence",n);return e},v3=n=>{var e=n.gullet.popToken();return e.text==="="&&(e=n.gullet.popToken(),e.text===" "&&(e=n.gullet.popToken())),e},Lm=(n,e,t,r)=>{var i=n.gullet.macros.get(t.text);i==null&&(t.noexpand=!0,i={tokens:[t],numArgs:0,unexpandable:!n.gullet.isExpandable(t.text)}),n.gullet.macros.set(e,i,r)};we({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(n){var{parser:e,funcName:t}=n;e.consumeSpaces();var r=e.fetch();if(Ul[r.text])return(t==="\\global"||t==="\\\\globallong")&&(r.text=Ul[r.text]),at(e.parseFunction(),"internal");throw new Te("Invalid token after macro prefix",r)}});we({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n){var{parser:e,funcName:t}=n,r=e.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new Te("Expected a control sequence",r);for(var s=0,a,o=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){a=e.gullet.future(),o[s].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new Te('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==s+1)throw new Te('Argument number "'+r.text+'" out of order');s++,o.push([])}else{if(r.text==="EOF")throw new Te("Expected a macro definition");o[s].push(r.text)}var{tokens:l}=e.gullet.consumeArg();return a&&l.unshift(a),(t==="\\edef"||t==="\\xdef")&&(l=e.gullet.expandTokens(l),l.reverse()),e.gullet.macros.set(i,{tokens:l,numArgs:s,delimiters:o},t===Ul[t]),{type:"internal",mode:e.mode}}});we({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n){var{parser:e,funcName:t}=n,r=Im(e.gullet.popToken());e.gullet.consumeSpaces();var i=v3(e);return Lm(e,r,i,t==="\\\\globallet"),{type:"internal",mode:e.mode}}});we({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n){var{parser:e,funcName:t}=n,r=Im(e.gullet.popToken()),i=e.gullet.popToken(),s=e.gullet.popToken();return Lm(e,r,s,t==="\\\\globalfuture"),e.gullet.pushToken(s),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var Da=function(e,t,r){var i=Rt.math[e]&&Rt.math[e].replace,s=pu(i||e,t,r);if(!s)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return s},xu=function(e,t,r,i){var s=r.havingBaseStyle(t),a=J.makeSpan(i.concat(s.sizingClasses(r)),[e],r),o=s.sizeMultiplier/r.sizeMultiplier;return a.height*=o,a.depth*=o,a.maxFontSize=s.sizeMultiplier,a},Fm=function(e,t,r){var i=t.havingBaseStyle(r),s=(1-t.sizeMultiplier/i.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=Se(s),e.height-=s,e.depth+=s},x3=function(e,t,r,i,s,a){var o=J.makeSymbol(e,"Main-Regular",s,i),l=xu(o,t,i,a);return r&&Fm(l,i,t),l},A3=function(e,t,r,i){return J.makeSymbol(e,"Size"+t+"-Regular",r,i)},Pm=function(e,t,r,i,s,a){var o=A3(e,t,s,i),l=xu(J.makeSpan(["delimsizing","size"+t],[o],i),qe.TEXT,i,a);return r&&Fm(l,i,qe.TEXT),l},m0=function(e,t,r){var i;t==="Size1-Regular"?i="delim-size1":i="delim-size4";var s=J.makeSpan(["delimsizinginner",i],[J.makeSpan([],[J.makeSymbol(e,t,r)])]);return{type:"elem",elem:s}},g0=function(e,t,r){var i=Rr["Size4-Regular"][e.charCodeAt(0)]?Rr["Size4-Regular"][e.charCodeAt(0)][4]:Rr["Size1-Regular"][e.charCodeAt(0)][4],s=new Bi("inner",D9(e,Math.round(1e3*t))),a=new li([s],{width:Se(i),height:Se(t),style:"width:"+Se(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),o=J.makeSvgSpan([],[a],r);return o.height=t,o.style.height=Se(t),o.style.width=Se(i),{type:"elem",elem:o}},zl=.008,Eo={type:"kern",size:-1*zl},y3=["|","\\lvert","\\rvert","\\vert"],S3=["\\|","\\lVert","\\rVert","\\Vert"],Om=function(e,t,r,i,s,a){var o,l,u,c,h="",f=0;o=u=c=e,l=null;var d="Size1-Regular";e==="\\uparrow"?u=c="⏐":e==="\\Uparrow"?u=c="‖":e==="\\downarrow"?o=u="⏐":e==="\\Downarrow"?o=u="‖":e==="\\updownarrow"?(o="\\uparrow",u="⏐",c="\\downarrow"):e==="\\Updownarrow"?(o="\\Uparrow",u="‖",c="\\Downarrow"):je.contains(y3,e)?(u="∣",h="vert",f=333):je.contains(S3,e)?(u="∥",h="doublevert",f=556):e==="["||e==="\\lbrack"?(o="⎡",u="⎢",c="⎣",d="Size4-Regular",h="lbrack",f=667):e==="]"||e==="\\rbrack"?(o="⎤",u="⎥",c="⎦",d="Size4-Regular",h="rbrack",f=667):e==="\\lfloor"||e==="⌊"?(u=o="⎢",c="⎣",d="Size4-Regular",h="lfloor",f=667):e==="\\lceil"||e==="⌈"?(o="⎡",u=c="⎢",d="Size4-Regular",h="lceil",f=667):e==="\\rfloor"||e==="⌋"?(u=o="⎥",c="⎦",d="Size4-Regular",h="rfloor",f=667):e==="\\rceil"||e==="⌉"?(o="⎤",u=c="⎥",d="Size4-Regular",h="rceil",f=667):e==="("||e==="\\lparen"?(o="⎛",u="⎜",c="⎝",d="Size4-Regular",h="lparen",f=875):e===")"||e==="\\rparen"?(o="⎞",u="⎟",c="⎠",d="Size4-Regular",h="rparen",f=875):e==="\\{"||e==="\\lbrace"?(o="⎧",l="⎨",c="⎩",u="⎪",d="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(o="⎫",l="⎬",c="⎭",u="⎪",d="Size4-Regular"):e==="\\lgroup"||e==="⟮"?(o="⎧",c="⎩",u="⎪",d="Size4-Regular"):e==="\\rgroup"||e==="⟯"?(o="⎫",c="⎭",u="⎪",d="Size4-Regular"):e==="\\lmoustache"||e==="⎰"?(o="⎧",c="⎭",u="⎪",d="Size4-Regular"):(e==="\\rmoustache"||e==="⎱")&&(o="⎫",c="⎩",u="⎪",d="Size4-Regular");var T=Da(o,d,s),E=T.height+T.depth,g=Da(u,d,s),p=g.height+g.depth,A=Da(c,d,s),_=A.height+A.depth,D=0,M=1;if(l!==null){var y=Da(l,d,s);D=y.height+y.depth,M=2}var C=E+_+D,B=Math.max(0,Math.ceil((t-C)/(M*p))),S=C+B*M*p,I=i.fontMetrics().axisHeight;r&&(I*=i.sizeMultiplier);var V=S/2-I,Y=[];if(h.length>0){var X=S-E-_,j=Math.round(S*1e3),q=w9(h,Math.round(X*1e3)),he=new Bi(h,q),ae=(f/1e3).toFixed(3)+"em",ie=(j/1e3).toFixed(3)+"em",ce=new li([he],{width:ae,height:ie,viewBox:"0 0 "+f+" "+j}),R=J.makeSvgSpan([],[ce],i);R.height=j/1e3,R.style.width=ae,R.style.height=ie,Y.push({type:"elem",elem:R})}else{if(Y.push(m0(c,d,s)),Y.push(Eo),l===null){var K=S-E-_+2*zl;Y.push(g0(u,K,i))}else{var re=(S-E-_-D)/2+2*zl;Y.push(g0(u,re,i)),Y.push(Eo),Y.push(m0(l,d,s)),Y.push(Eo),Y.push(g0(u,re,i))}Y.push(Eo),Y.push(m0(o,d,s))}var L=i.havingBaseStyle(qe.TEXT),Ee=J.makeVList({positionType:"bottom",positionData:V,children:Y},L);return xu(J.makeSpan(["delimsizing","mult"],[Ee],L),qe.TEXT,i,a)},E0=80,T0=.08,_0=function(e,t,r,i,s){var a=C9(e,i,r),o=new Bi(e,a),l=new li([o],{width:"400em",height:Se(t),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return J.makeSvgSpan(["hide-tail"],[l],s)},b3=function(e,t){var r=t.havingBaseSizing(),i=zm("\\surd",e*r.sizeMultiplier,Um,r),s=r.sizeMultiplier,a=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),o,l=0,u=0,c=0,h;return i.type==="small"?(c=1e3+1e3*a+E0,e<1?s=1:e<1.4&&(s=.7),l=(1+a+T0)/s,u=(1+a)/s,o=_0("sqrtMain",l,c,a,t),o.style.minWidth="0.853em",h=.833/s):i.type==="large"?(c=(1e3+E0)*Ia[i.size],u=(Ia[i.size]+a)/s,l=(Ia[i.size]+a+T0)/s,o=_0("sqrtSize"+i.size,l,c,a,t),o.style.minWidth="1.02em",h=1/s):(l=e+a+T0,u=e+a,c=Math.floor(1e3*e+a)+E0,o=_0("sqrtTall",l,c,a,t),o.style.minWidth="0.742em",h=1.056),o.height=u,o.style.height=Se(l),{span:o,advanceWidth:h,ruleWidth:(t.fontMetrics().sqrtRuleThickness+a)*s}},km=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],M3=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],Bm=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Ia=[0,1.2,1.8,2.4,3],C3=function(e,t,r,i,s){if(e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle"),je.contains(km,e)||je.contains(Bm,e))return Pm(e,t,!1,r,i,s);if(je.contains(M3,e))return Om(e,Ia[t],!1,r,i,s);throw new Te("Illegal delimiter: '"+e+"'")},D3=[{type:"small",style:qe.SCRIPTSCRIPT},{type:"small",style:qe.SCRIPT},{type:"small",style:qe.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],w3=[{type:"small",style:qe.SCRIPTSCRIPT},{type:"small",style:qe.SCRIPT},{type:"small",style:qe.TEXT},{type:"stack"}],Um=[{type:"small",style:qe.SCRIPTSCRIPT},{type:"small",style:qe.SCRIPT},{type:"small",style:qe.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],R3=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},zm=function(e,t,r,i){for(var s=Math.min(2,3-i.style.size),a=s;a<r.length&&r[a].type!=="stack";a++){var o=Da(e,R3(r[a]),"math"),l=o.height+o.depth;if(r[a].type==="small"){var u=i.havingBaseStyle(r[a].style);l*=u.sizeMultiplier}if(l>t)return r[a]}return r[r.length-1]},Hm=function(e,t,r,i,s,a){e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle");var o;je.contains(Bm,e)?o=D3:je.contains(km,e)?o=Um:o=w3;var l=zm(e,t,o,i);return l.type==="small"?x3(e,l.style,r,i,s,a):l.type==="large"?Pm(e,l.size,r,i,s,a):Om(e,t,r,i,s,a)},N3=function(e,t,r,i,s,a){var o=i.fontMetrics().axisHeight*i.sizeMultiplier,l=901,u=5/i.fontMetrics().ptPerEm,c=Math.max(t-o,r+o),h=Math.max(c/500*l,2*c-u);return Hm(e,h,!0,i,s,a)},ii={sqrtImage:b3,sizedDelim:C3,sizeToMaxHeight:Ia,customSizedDelim:Hm,leftRightDelim:N3},Oc={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},I3=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function P1(n,e){var t=L1(n);if(t&&je.contains(I3,t.text))return t;throw t?new Te("Invalid delimiter '"+t.text+"' after '"+e.funcName+"'",n):new Te("Invalid delimiter type '"+n.type+"'",n)}we({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(n,e)=>{var t=P1(e[0],n);return{type:"delimsizing",mode:n.parser.mode,size:Oc[n.funcName].size,mclass:Oc[n.funcName].mclass,delim:t.text}},htmlBuilder:(n,e)=>n.delim==="."?J.makeSpan([n.mclass]):ii.sizedDelim(n.delim,n.size,e,n.mode,[n.mclass]),mathmlBuilder:n=>{var e=[];n.delim!=="."&&e.push(rr(n.delim,n.mode));var t=new ge.MathNode("mo",e);n.mclass==="mopen"||n.mclass==="mclose"?t.setAttribute("fence","true"):t.setAttribute("fence","false"),t.setAttribute("stretchy","true");var r=Se(ii.sizeToMaxHeight[n.size]);return t.setAttribute("minsize",r),t.setAttribute("maxsize",r),t}});function kc(n){if(!n.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}we({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var t=n.parser.gullet.macros.get("\\current@color");if(t&&typeof t!="string")throw new Te("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:n.parser.mode,delim:P1(e[0],n).text,color:t}}});we({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var t=P1(e[0],n),r=n.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var s=at(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:t.text,right:s.delim,rightColor:s.color}},htmlBuilder:(n,e)=>{kc(n);for(var t=en(n.body,e,!0,["mopen","mclose"]),r=0,i=0,s=!1,a=0;a<t.length;a++)t[a].isMiddle?s=!0:(r=Math.max(t[a].height,r),i=Math.max(t[a].depth,i));r*=e.sizeMultiplier,i*=e.sizeMultiplier;var o;if(n.left==="."?o=Ga(e,["mopen"]):o=ii.leftRightDelim(n.left,r,i,e,n.mode,["mopen"]),t.unshift(o),s)for(var l=1;l<t.length;l++){var u=t[l],c=u.isMiddle;c&&(t[l]=ii.leftRightDelim(c.delim,r,i,c.options,n.mode,[]))}var h;if(n.right===".")h=Ga(e,["mclose"]);else{var f=n.rightColor?e.withColor(n.rightColor):e;h=ii.leftRightDelim(n.right,r,i,f,n.mode,["mclose"])}return t.push(h),J.makeSpan(["minner"],t,e)},mathmlBuilder:(n,e)=>{kc(n);var t=Fn(n.body,e);if(n.left!=="."){var r=new ge.MathNode("mo",[rr(n.left,n.mode)]);r.setAttribute("fence","true"),t.unshift(r)}if(n.right!=="."){var i=new ge.MathNode("mo",[rr(n.right,n.mode)]);i.setAttribute("fence","true"),n.rightColor&&i.setAttribute("mathcolor",n.rightColor),t.push(i)}return Eu(t)}});we({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var t=P1(e[0],n);if(!n.parser.leftrightDepth)throw new Te("\\middle without preceding \\left",t);return{type:"middle",mode:n.parser.mode,delim:t.text}},htmlBuilder:(n,e)=>{var t;if(n.delim===".")t=Ga(e,[]);else{t=ii.sizedDelim(n.delim,1,e,n.mode,[]);var r={delim:n.delim,options:e};t.isMiddle=r}return t},mathmlBuilder:(n,e)=>{var t=n.delim==="\\vert"||n.delim==="|"?rr("|","text"):rr(n.delim,n.mode),r=new ge.MathNode("mo",[t]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var Au=(n,e)=>{var t=J.wrapFragment(Et(n.body,e),e),r=n.label.slice(1),i=e.sizeMultiplier,s,a=0,o=je.isCharacterBox(n.body);if(r==="sout")s=J.makeSpan(["stretchy","sout"]),s.height=e.fontMetrics().defaultRuleThickness/i,a=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var l=Bt({number:.6,unit:"pt"},e),u=Bt({number:.35,unit:"ex"},e),c=e.havingBaseSizing();i=i/c.sizeMultiplier;var h=t.height+t.depth+l+u;t.style.paddingLeft=Se(h/2+l);var f=Math.floor(1e3*h*i),d=b9(f),T=new li([new Bi("phase",d)],{width:"400em",height:Se(f/1e3),viewBox:"0 0 400000 "+f,preserveAspectRatio:"xMinYMin slice"});s=J.makeSvgSpan(["hide-tail"],[T],e),s.style.height=Se(h),a=t.depth+l+u}else{/cancel/.test(r)?o||t.classes.push("cancel-pad"):r==="angl"?t.classes.push("anglpad"):t.classes.push("boxpad");var E=0,g=0,p=0;/box/.test(r)?(p=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),E=e.fontMetrics().fboxsep+(r==="colorbox"?0:p),g=E):r==="angl"?(p=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),E=4*p,g=Math.max(0,.25-t.depth)):(E=o?.2:0,g=E),s=ci.encloseSpan(t,r,E,g,e),/fbox|boxed|fcolorbox/.test(r)?(s.style.borderStyle="solid",s.style.borderWidth=Se(p)):r==="angl"&&p!==.049&&(s.style.borderTopWidth=Se(p),s.style.borderRightWidth=Se(p)),a=t.depth+g,n.backgroundColor&&(s.style.backgroundColor=n.backgroundColor,n.borderColor&&(s.style.borderColor=n.borderColor))}var A;if(n.backgroundColor)A=J.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:a},{type:"elem",elem:t,shift:0}]},e);else{var _=/cancel|phase/.test(r)?["svg-align"]:[];A=J.makeVList({positionType:"individualShift",children:[{type:"elem",elem:t,shift:0},{type:"elem",elem:s,shift:a,wrapperClasses:_}]},e)}return/cancel/.test(r)&&(A.height=t.height,A.depth=t.depth),/cancel/.test(r)&&!o?J.makeSpan(["mord","cancel-lap"],[A],e):J.makeSpan(["mord"],[A],e)},yu=(n,e)=>{var t=0,r=new ge.MathNode(n.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Dt(n.body,e)]);switch(n.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(t=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*t+"pt"),r.setAttribute("height","+"+2*t+"pt"),r.setAttribute("lspace",t+"pt"),r.setAttribute("voffset",t+"pt"),n.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(n.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return n.backgroundColor&&r.setAttribute("mathbackground",n.backgroundColor),r};we({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(n,e,t){var{parser:r,funcName:i}=n,s=at(e[0],"color-token").color,a=e[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,body:a}},htmlBuilder:Au,mathmlBuilder:yu});we({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(n,e,t){var{parser:r,funcName:i}=n,s=at(e[0],"color-token").color,a=at(e[1],"color-token").color,o=e[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:a,borderColor:s,body:o}},htmlBuilder:Au,mathmlBuilder:yu});we({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(n,e){var{parser:t}=n;return{type:"enclose",mode:t.mode,label:"\\fbox",body:e[0]}}});we({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(n,e){var{parser:t,funcName:r}=n,i=e[0];return{type:"enclose",mode:t.mode,label:r,body:i}},htmlBuilder:Au,mathmlBuilder:yu});we({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(n,e){var{parser:t}=n;return{type:"enclose",mode:t.mode,label:"\\angl",body:e[0]}}});var Gm={};function Pr(n){for(var{type:e,names:t,props:r,handler:i,htmlBuilder:s,mathmlBuilder:a}=n,o={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<t.length;++l)Gm[t[l]]=o;s&&(x1[e]=s),a&&(A1[e]=a)}var Vm={};function w(n,e){Vm[n]=e}function Bc(n){var e=[];n.consumeSpaces();var t=n.fetch().text;for(t==="\\relax"&&(n.consume(),n.consumeSpaces(),t=n.fetch().text);t==="\\hline"||t==="\\hdashline";)n.consume(),e.push(t==="\\hdashline"),n.consumeSpaces(),t=n.fetch().text;return e}var O1=n=>{var e=n.parser.settings;if(!e.displayMode)throw new Te("{"+n.envName+"} can be used only in display mode.")};function Su(n){if(n.indexOf("ed")===-1)return n.indexOf("*")===-1}function Vi(n,e,t){var{hskipBeforeAndAfter:r,addJot:i,cols:s,arraystretch:a,colSeparationType:o,autoTag:l,singleRow:u,emptySingleRow:c,maxNumCols:h,leqno:f}=e;if(n.gullet.beginGroup(),u||n.gullet.macros.set("\\cr","\\\\\\relax"),!a){var d=n.gullet.expandMacroAsText("\\arraystretch");if(d==null)a=1;else if(a=parseFloat(d),!a||a<0)throw new Te("Invalid \\arraystretch: "+d)}n.gullet.beginGroup();var T=[],E=[T],g=[],p=[],A=l!=null?[]:void 0;function _(){l&&n.gullet.macros.set("\\@eqnsw","1",!0)}function D(){A&&(n.gullet.macros.get("\\df@tag")?(A.push(n.subparse([new Nr("\\df@tag")])),n.gullet.macros.set("\\df@tag",void 0,!0)):A.push(!!l&&n.gullet.macros.get("\\@eqnsw")==="1"))}for(_(),p.push(Bc(n));;){var M=n.parseExpression(!1,u?"\\end":"\\\\");n.gullet.endGroup(),n.gullet.beginGroup(),M={type:"ordgroup",mode:n.mode,body:M},t&&(M={type:"styling",mode:n.mode,style:t,body:[M]}),T.push(M);var y=n.fetch().text;if(y==="&"){if(h&&T.length===h){if(u||o)throw new Te("Too many tab characters: &",n.nextToken);n.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}n.consume()}else if(y==="\\end"){D(),T.length===1&&M.type==="styling"&&M.body[0].body.length===0&&(E.length>1||!c)&&E.pop(),p.length<E.length+1&&p.push([]);break}else if(y==="\\\\"){n.consume();var C=void 0;n.gullet.future().text!==" "&&(C=n.parseSizeGroup(!0)),g.push(C?C.value:null),D(),p.push(Bc(n)),T=[],E.push(T),_()}else throw new Te("Expected & or \\\\ or \\cr or \\end",n.nextToken)}return n.gullet.endGroup(),n.gullet.endGroup(),{type:"array",mode:n.mode,addJot:i,arraystretch:a,body:E,cols:s,rowGaps:g,hskipBeforeAndAfter:r,hLinesBeforeRow:p,colSeparationType:o,tags:A,leqno:f}}function bu(n){return n.slice(0,1)==="d"?"display":"text"}var Or=function(e,t){var r,i,s=e.body.length,a=e.hLinesBeforeRow,o=0,l=new Array(s),u=[],c=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),h=1/t.fontMetrics().ptPerEm,f=5*h;if(e.colSeparationType&&e.colSeparationType==="small"){var d=t.havingStyle(qe.SCRIPT).sizeMultiplier;f=.2778*(d/t.sizeMultiplier)}var T=e.colSeparationType==="CD"?Bt({number:3,unit:"ex"},t):12*h,E=3*h,g=e.arraystretch*T,p=.7*g,A=.3*g,_=0;function D(st){for(var et=0;et<st.length;++et)et>0&&(_+=.25),u.push({pos:_,isDashed:st[et]})}for(D(a[0]),r=0;r<e.body.length;++r){var M=e.body[r],y=p,C=A;o<M.length&&(o=M.length);var B=new Array(M.length);for(i=0;i<M.length;++i){var S=Et(M[i],t);C<S.depth&&(C=S.depth),y<S.height&&(y=S.height),B[i]=S}var I=e.rowGaps[r],V=0;I&&(V=Bt(I,t),V>0&&(V+=A,C<V&&(C=V),V=0)),e.addJot&&(C+=E),B.height=y,B.depth=C,_+=y,B.pos=_,_+=C+V,l[r]=B,D(a[r+1])}var Y=_/2+t.fontMetrics().axisHeight,X=e.cols||[],j=[],q,he,ae=[];if(e.tags&&e.tags.some(st=>st))for(r=0;r<s;++r){var ie=l[r],ce=ie.pos-Y,R=e.tags[r],K=void 0;R===!0?K=J.makeSpan(["eqn-num"],[],t):R===!1?K=J.makeSpan([],[],t):K=J.makeSpan([],en(R,t,!0),t),K.depth=ie.depth,K.height=ie.height,ae.push({type:"elem",elem:K,shift:ce})}for(i=0,he=0;i<o||he<X.length;++i,++he){for(var re=X[he]||{},L=!0;re.type==="separator";){if(L||(q=J.makeSpan(["arraycolsep"],[]),q.style.width=Se(t.fontMetrics().doubleRuleSep),j.push(q)),re.separator==="|"||re.separator===":"){var Ee=re.separator==="|"?"solid":"dashed",Ae=J.makeSpan(["vertical-separator"],[],t);Ae.style.height=Se(_),Ae.style.borderRightWidth=Se(c),Ae.style.borderRightStyle=Ee,Ae.style.margin="0 "+Se(-c/2);var Ce=_-Y;Ce&&(Ae.style.verticalAlign=Se(-Ce)),j.push(Ae)}else throw new Te("Invalid separator type: "+re.separator);he++,re=X[he]||{},L=!1}if(!(i>=o)){var ze=void 0;(i>0||e.hskipBeforeAndAfter)&&(ze=je.deflt(re.pregap,f),ze!==0&&(q=J.makeSpan(["arraycolsep"],[]),q.style.width=Se(ze),j.push(q)));var Ie=[];for(r=0;r<s;++r){var it=l[r],vt=it[i];if(vt){var Ke=it.pos-Y;vt.depth=it.depth,vt.height=it.height,Ie.push({type:"elem",elem:vt,shift:Ke})}}Ie=J.makeVList({positionType:"individualShift",children:Ie},t),Ie=J.makeSpan(["col-align-"+(re.align||"c")],[Ie]),j.push(Ie),(i<o-1||e.hskipBeforeAndAfter)&&(ze=je.deflt(re.postgap,f),ze!==0&&(q=J.makeSpan(["arraycolsep"],[]),q.style.width=Se(ze),j.push(q)))}}if(l=J.makeSpan(["mtable"],j),u.length>0){for(var ee=J.makeLineSpan("hline",t,c),Ft=J.makeLineSpan("hdashline",t,c),We=[{type:"elem",elem:l,shift:0}];u.length>0;){var Je=u.pop(),$e=Je.pos-Y;Je.isDashed?We.push({type:"elem",elem:Ft,shift:$e}):We.push({type:"elem",elem:ee,shift:$e})}l=J.makeVList({positionType:"individualShift",children:We},t)}if(ae.length===0)return J.makeSpan(["mord"],[l],t);var xt=J.makeVList({positionType:"individualShift",children:ae},t);return xt=J.makeSpan(["tag"],[xt],t),J.makeFragment([l,xt])},L3={c:"center ",l:"left ",r:"right "},kr=function(e,t){for(var r=[],i=new ge.MathNode("mtd",[],["mtr-glue"]),s=new ge.MathNode("mtd",[],["mml-eqn-num"]),a=0;a<e.body.length;a++){for(var o=e.body[a],l=[],u=0;u<o.length;u++)l.push(new ge.MathNode("mtd",[Dt(o[u],t)]));e.tags&&e.tags[a]&&(l.unshift(i),l.push(i),e.leqno?l.unshift(s):l.push(s)),r.push(new ge.MathNode("mtr",l))}var c=new ge.MathNode("mtable",r),h=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);c.setAttribute("rowspacing",Se(h));var f="",d="";if(e.cols&&e.cols.length>0){var T=e.cols,E="",g=!1,p=0,A=T.length;T[0].type==="separator"&&(f+="top ",p=1),T[T.length-1].type==="separator"&&(f+="bottom ",A-=1);for(var _=p;_<A;_++)T[_].type==="align"?(d+=L3[T[_].align],g&&(E+="none "),g=!0):T[_].type==="separator"&&g&&(E+=T[_].separator==="|"?"solid ":"dashed ",g=!1);c.setAttribute("columnalign",d.trim()),/[sd]/.test(E)&&c.setAttribute("columnlines",E.trim())}if(e.colSeparationType==="align"){for(var D=e.cols||[],M="",y=1;y<D.length;y++)M+=y%2?"0em ":"1em ";c.setAttribute("columnspacing",M.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?c.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?c.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?c.setAttribute("columnspacing","0.5em"):c.setAttribute("columnspacing","1em");var C="",B=e.hLinesBeforeRow;f+=B[0].length>0?"left ":"",f+=B[B.length-1].length>0?"right ":"";for(var S=1;S<B.length-1;S++)C+=B[S].length===0?"none ":B[S][0]?"dashed ":"solid ";return/[sd]/.test(C)&&c.setAttribute("rowlines",C.trim()),f!==""&&(c=new ge.MathNode("menclose",[c]),c.setAttribute("notation",f.trim())),e.arraystretch&&e.arraystretch<1&&(c=new ge.MathNode("mstyle",[c]),c.setAttribute("scriptlevel","1")),c},Wm=function(e,t){e.envName.indexOf("ed")===-1&&O1(e);var r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",s=e.envName==="split",a=Vi(e.parser,{cols:r,addJot:!0,autoTag:s?void 0:Su(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),o,l=0,u={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&t[0].type==="ordgroup"){for(var c="",h=0;h<t[0].body.length;h++){var f=at(t[0].body[h],"textord");c+=f.text}o=Number(c),l=o*2}var d=!l;a.body.forEach(function(p){for(var A=1;A<p.length;A+=2){var _=at(p[A],"styling"),D=at(_.body[0],"ordgroup");D.body.unshift(u)}if(d)l<p.length&&(l=p.length);else{var M=p.length/2;if(o<M)throw new Te("Too many math in a row: "+("expected "+o+", but got "+M),p[0])}});for(var T=0;T<l;++T){var E="r",g=0;T%2===1?E="l":T>0&&d&&(g=1),r[T]={type:"align",align:E,pregap:g,postgap:0}}return a.colSeparationType=d?"align":"alignat",a};Pr({type:"array",names:["array","darray"],props:{numArgs:1},handler(n,e){var t=L1(e[0]),r=t?[e[0]]:at(e[0],"ordgroup").body,i=r.map(function(a){var o=_u(a),l=o.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new Te("Unknown column alignment: "+l,a)}),s={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return Vi(n.parser,s,bu(n.envName))},htmlBuilder:Or,mathmlBuilder:kr});Pr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(n){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[n.envName.replace("*","")],t="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:t}]};if(n.envName.charAt(n.envName.length-1)==="*"){var i=n.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),t=i.fetch().text,"lcr".indexOf(t)===-1)throw new Te("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:t}]}}var s=Vi(n.parser,r,bu(n.envName)),a=Math.max(0,...s.body.map(o=>o.length));return s.cols=new Array(a).fill({type:"align",align:t}),e?{type:"leftright",mode:n.mode,body:[s],left:e[0],right:e[1],rightColor:void 0}:s},htmlBuilder:Or,mathmlBuilder:kr});Pr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(n){var e={arraystretch:.5},t=Vi(n.parser,e,"script");return t.colSeparationType="small",t},htmlBuilder:Or,mathmlBuilder:kr});Pr({type:"array",names:["subarray"],props:{numArgs:1},handler(n,e){var t=L1(e[0]),r=t?[e[0]]:at(e[0],"ordgroup").body,i=r.map(function(a){var o=_u(a),l=o.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new Te("Unknown column alignment: "+l,a)});if(i.length>1)throw new Te("{subarray} can contain only one column");var s={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=Vi(n.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new Te("{subarray} can contain only one column");return s},htmlBuilder:Or,mathmlBuilder:kr});Pr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(n){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},t=Vi(n.parser,e,bu(n.envName));return{type:"leftright",mode:n.mode,body:[t],left:n.envName.indexOf("r")>-1?".":"\\{",right:n.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Or,mathmlBuilder:kr});Pr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Wm,htmlBuilder:Or,mathmlBuilder:kr});Pr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(n){je.contains(["gather","gather*"],n.envName)&&O1(n);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Su(n.envName),emptySingleRow:!0,leqno:n.parser.settings.leqno};return Vi(n.parser,e,"display")},htmlBuilder:Or,mathmlBuilder:kr});Pr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Wm,htmlBuilder:Or,mathmlBuilder:kr});Pr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(n){O1(n);var e={autoTag:Su(n.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:n.parser.settings.leqno};return Vi(n.parser,e,"display")},htmlBuilder:Or,mathmlBuilder:kr});Pr({type:"array",names:["CD"],props:{numArgs:0},handler(n){return O1(n),_3(n.parser)},htmlBuilder:Or,mathmlBuilder:kr});w("\\nonumber","\\gdef\\@eqnsw{0}");w("\\notag","\\nonumber");we({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(n,e){throw new Te(n.funcName+" valid only within array environment")}});var Uc=Gm;we({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(n,e){var{parser:t,funcName:r}=n,i=e[0];if(i.type!=="ordgroup")throw new Te("Invalid environment name",i);for(var s="",a=0;a<i.body.length;++a)s+=at(i.body[a],"textord").text;if(r==="\\begin"){if(!Uc.hasOwnProperty(s))throw new Te("No such environment: "+s,i);var o=Uc[s],{args:l,optArgs:u}=t.parseArguments("\\begin{"+s+"}",o),c={mode:t.mode,envName:s,parser:t},h=o.handler(c,l,u);t.expect("\\end",!1);var f=t.nextToken,d=at(t.parseFunction(),"environment");if(d.name!==s)throw new Te("Mismatch: \\begin{"+s+"} matched by \\end{"+d.name+"}",f);return h}return{type:"environment",mode:t.mode,name:s,nameGroup:i}}});var qm=(n,e)=>{var t=n.font,r=e.withFont(t);return Et(n.body,r)},Xm=(n,e)=>{var t=n.font,r=e.withFont(t);return Dt(n.body,r)},zc={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};we({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=y1(e[0]),s=r;return s in zc&&(s=zc[s]),{type:"font",mode:t.mode,font:s.slice(1),body:i}},htmlBuilder:qm,mathmlBuilder:Xm});we({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(n,e)=>{var{parser:t}=n,r=e[0],i=je.isCharacterBox(r);return{type:"mclass",mode:t.mode,mclass:F1(r),body:[{type:"font",mode:t.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});we({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(n,e)=>{var{parser:t,funcName:r,breakOnTokenText:i}=n,{mode:s}=t,a=t.parseExpression(!0,i),o="math"+r.slice(1);return{type:"font",mode:s,font:o,body:{type:"ordgroup",mode:t.mode,body:a}}},htmlBuilder:qm,mathmlBuilder:Xm});var Ym=(n,e)=>{var t=e;return n==="display"?t=t.id>=qe.SCRIPT.id?t.text():qe.DISPLAY:n==="text"&&t.size===qe.DISPLAY.size?t=qe.TEXT:n==="script"?t=qe.SCRIPT:n==="scriptscript"&&(t=qe.SCRIPTSCRIPT),t},Mu=(n,e)=>{var t=Ym(n.size,e.style),r=t.fracNum(),i=t.fracDen(),s;s=e.havingStyle(r);var a=Et(n.numer,s,e);if(n.continued){var o=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;a.height=a.height<o?o:a.height,a.depth=a.depth<l?l:a.depth}s=e.havingStyle(i);var u=Et(n.denom,s,e),c,h,f;n.hasBarLine?(n.barSize?(h=Bt(n.barSize,e),c=J.makeLineSpan("frac-line",e,h)):c=J.makeLineSpan("frac-line",e),h=c.height,f=c.height):(c=null,h=0,f=e.fontMetrics().defaultRuleThickness);var d,T,E;t.size===qe.DISPLAY.size||n.size==="display"?(d=e.fontMetrics().num1,h>0?T=3*f:T=7*f,E=e.fontMetrics().denom1):(h>0?(d=e.fontMetrics().num2,T=f):(d=e.fontMetrics().num3,T=3*f),E=e.fontMetrics().denom2);var g;if(c){var A=e.fontMetrics().axisHeight;d-a.depth-(A+.5*h)<T&&(d+=T-(d-a.depth-(A+.5*h))),A-.5*h-(u.height-E)<T&&(E+=T-(A-.5*h-(u.height-E)));var _=-(A-.5*h);g=J.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:E},{type:"elem",elem:c,shift:_},{type:"elem",elem:a,shift:-d}]},e)}else{var p=d-a.depth-(u.height-E);p<T&&(d+=.5*(T-p),E+=.5*(T-p)),g=J.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:E},{type:"elem",elem:a,shift:-d}]},e)}s=e.havingStyle(t),g.height*=s.sizeMultiplier/e.sizeMultiplier,g.depth*=s.sizeMultiplier/e.sizeMultiplier;var D;t.size===qe.DISPLAY.size?D=e.fontMetrics().delim1:t.size===qe.SCRIPTSCRIPT.size?D=e.havingStyle(qe.SCRIPT).fontMetrics().delim2:D=e.fontMetrics().delim2;var M,y;return n.leftDelim==null?M=Ga(e,["mopen"]):M=ii.customSizedDelim(n.leftDelim,D,!0,e.havingStyle(t),n.mode,["mopen"]),n.continued?y=J.makeSpan([]):n.rightDelim==null?y=Ga(e,["mclose"]):y=ii.customSizedDelim(n.rightDelim,D,!0,e.havingStyle(t),n.mode,["mclose"]),J.makeSpan(["mord"].concat(s.sizingClasses(e)),[M,J.makeSpan(["mfrac"],[g]),y],e)},Cu=(n,e)=>{var t=new ge.MathNode("mfrac",[Dt(n.numer,e),Dt(n.denom,e)]);if(!n.hasBarLine)t.setAttribute("linethickness","0px");else if(n.barSize){var r=Bt(n.barSize,e);t.setAttribute("linethickness",Se(r))}var i=Ym(n.size,e.style);if(i.size!==e.style.size){t=new ge.MathNode("mstyle",[t]);var s=i.size===qe.DISPLAY.size?"true":"false";t.setAttribute("displaystyle",s),t.setAttribute("scriptlevel","0")}if(n.leftDelim!=null||n.rightDelim!=null){var a=[];if(n.leftDelim!=null){var o=new ge.MathNode("mo",[new ge.TextNode(n.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),a.push(o)}if(a.push(t),n.rightDelim!=null){var l=new ge.MathNode("mo",[new ge.TextNode(n.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),a.push(l)}return Eu(a)}return t};we({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=e[0],s=e[1],a,o=null,l=null,u="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":a=!0;break;case"\\\\atopfrac":a=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":a=!1,o="(",l=")";break;case"\\\\bracefrac":a=!1,o="\\{",l="\\}";break;case"\\\\brackfrac":a=!1,o="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:t.mode,continued:!1,numer:i,denom:s,hasBarLine:a,leftDelim:o,rightDelim:l,size:u,barSize:null}},htmlBuilder:Mu,mathmlBuilder:Cu});we({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=e[0],s=e[1];return{type:"genfrac",mode:t.mode,continued:!0,numer:i,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});we({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(n){var{parser:e,funcName:t,token:r}=n,i;switch(t){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:r}}});var Hc=["display","text","script","scriptscript"],Gc=function(e){var t=null;return e.length>0&&(t=e,t=t==="."?null:t),t};we({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(n,e){var{parser:t}=n,r=e[4],i=e[5],s=y1(e[0]),a=s.type==="atom"&&s.family==="open"?Gc(s.text):null,o=y1(e[1]),l=o.type==="atom"&&o.family==="close"?Gc(o.text):null,u=at(e[2],"size"),c,h=null;u.isBlank?c=!0:(h=u.value,c=h.number>0);var f="auto",d=e[3];if(d.type==="ordgroup"){if(d.body.length>0){var T=at(d.body[0],"textord");f=Hc[Number(T.text)]}}else d=at(d,"textord"),f=Hc[Number(d.text)];return{type:"genfrac",mode:t.mode,numer:r,denom:i,continued:!1,hasBarLine:c,barSize:h,leftDelim:a,rightDelim:l,size:f}},htmlBuilder:Mu,mathmlBuilder:Cu});we({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(n,e){var{parser:t,funcName:r,token:i}=n;return{type:"infix",mode:t.mode,replaceWith:"\\\\abovefrac",size:at(e[0],"size").value,token:i}}});we({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=e[0],s=c9(at(e[1],"infix").size),a=e[2],o=s.number>0;return{type:"genfrac",mode:t.mode,numer:i,denom:a,continued:!1,hasBarLine:o,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Mu,mathmlBuilder:Cu});var Km=(n,e)=>{var t=e.style,r,i;n.type==="supsub"?(r=n.sup?Et(n.sup,e.havingStyle(t.sup()),e):Et(n.sub,e.havingStyle(t.sub()),e),i=at(n.base,"horizBrace")):i=at(n,"horizBrace");var s=Et(i.base,e.havingBaseStyle(qe.DISPLAY)),a=ci.svgSpan(i,e),o;if(i.isOver?(o=J.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e),o.children[0].children[0].children[1].classes.push("svg-align")):(o=J.makeVList({positionType:"bottom",positionData:s.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e),o.children[0].children[0].children[0].classes.push("svg-align")),r){var l=J.makeSpan(["mord",i.isOver?"mover":"munder"],[o],e);i.isOver?o=J.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:r}]},e):o=J.makeVList({positionType:"bottom",positionData:l.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return J.makeSpan(["mord",i.isOver?"mover":"munder"],[o],e)},F3=(n,e)=>{var t=ci.mathMLnode(n.label);return new ge.MathNode(n.isOver?"mover":"munder",[Dt(n.base,e),t])};we({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(n,e){var{parser:t,funcName:r}=n;return{type:"horizBrace",mode:t.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:Km,mathmlBuilder:F3});we({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,r=e[1],i=at(e[0],"url").url;return t.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:t.mode,href:i,body:Vt(r)}:t.formatUnsupportedCmd("\\href")},htmlBuilder:(n,e)=>{var t=en(n.body,e,!1);return J.makeAnchor(n.href,[],t,e)},mathmlBuilder:(n,e)=>{var t=Ui(n.body,e);return t instanceof Jn||(t=new Jn("mrow",[t])),t.setAttribute("href",n.href),t}});we({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,r=at(e[0],"url").url;if(!t.settings.isTrusted({command:"\\url",url:r}))return t.formatUnsupportedCmd("\\url");for(var i=[],s=0;s<r.length;s++){var a=r[s];a==="~"&&(a="\\textasciitilde"),i.push({type:"textord",mode:"text",text:a})}var o={type:"text",mode:t.mode,font:"\\texttt",body:i};return{type:"href",mode:t.mode,href:r,body:Vt(o)}}});we({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(n,e){var{parser:t}=n;return{type:"hbox",mode:t.mode,body:Vt(e[0])}},htmlBuilder(n,e){var t=en(n.body,e,!1);return J.makeFragment(t)},mathmlBuilder(n,e){return new ge.MathNode("mrow",Fn(n.body,e))}});we({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(n,e)=>{var{parser:t,funcName:r,token:i}=n,s=at(e[0],"raw").string,a=e[1];t.settings.strict&&t.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,l={};switch(r){case"\\htmlClass":l.class=s,o={command:"\\htmlClass",class:s};break;case"\\htmlId":l.id=s,o={command:"\\htmlId",id:s};break;case"\\htmlStyle":l.style=s,o={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var u=s.split(","),c=0;c<u.length;c++){var h=u[c].split("=");if(h.length!==2)throw new Te("Error parsing key-value for \\htmlData");l["data-"+h[0].trim()]=h[1].trim()}o={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return t.settings.isTrusted(o)?{type:"html",mode:t.mode,attributes:l,body:Vt(a)}:t.formatUnsupportedCmd(r)},htmlBuilder:(n,e)=>{var t=en(n.body,e,!1),r=["enclosing"];n.attributes.class&&r.push(...n.attributes.class.trim().split(/\s+/));var i=J.makeSpan(r,t,e);for(var s in n.attributes)s!=="class"&&n.attributes.hasOwnProperty(s)&&i.setAttribute(s,n.attributes[s]);return i},mathmlBuilder:(n,e)=>Ui(n.body,e)});we({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(n,e)=>{var{parser:t}=n;return{type:"htmlmathml",mode:t.mode,html:Vt(e[0]),mathml:Vt(e[1])}},htmlBuilder:(n,e)=>{var t=en(n.html,e,!1);return J.makeFragment(t)},mathmlBuilder:(n,e)=>Ui(n.mathml,e)});var v0=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new Te("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(t[1]+t[2]),unit:t[3]};if(!dm(r))throw new Te("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};we({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(n,e,t)=>{var{parser:r}=n,i={number:0,unit:"em"},s={number:.9,unit:"em"},a={number:0,unit:"em"},o="";if(t[0])for(var l=at(t[0],"raw").string,u=l.split(","),c=0;c<u.length;c++){var h=u[c].split("=");if(h.length===2){var f=h[1].trim();switch(h[0].trim()){case"alt":o=f;break;case"width":i=v0(f);break;case"height":s=v0(f);break;case"totalheight":a=v0(f);break;default:throw new Te("Invalid key: '"+h[0]+"' in \\includegraphics.")}}}var d=at(e[0],"url").url;return o===""&&(o=d,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:d})?{type:"includegraphics",mode:r.mode,alt:o,width:i,height:s,totalheight:a,src:d}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(n,e)=>{var t=Bt(n.height,e),r=0;n.totalheight.number>0&&(r=Bt(n.totalheight,e)-t);var i=0;n.width.number>0&&(i=Bt(n.width,e));var s={height:Se(t+r)};i>0&&(s.width=Se(i)),r>0&&(s.verticalAlign=Se(-r));var a=new F9(n.src,n.alt,s);return a.height=t,a.depth=r,a},mathmlBuilder:(n,e)=>{var t=new ge.MathNode("mglyph",[]);t.setAttribute("alt",n.alt);var r=Bt(n.height,e),i=0;if(n.totalheight.number>0&&(i=Bt(n.totalheight,e)-r,t.setAttribute("valign",Se(-i))),t.setAttribute("height",Se(r+i)),n.width.number>0){var s=Bt(n.width,e);t.setAttribute("width",Se(s))}return t.setAttribute("src",n.src),t}});we({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(n,e){var{parser:t,funcName:r}=n,i=at(e[0],"size");if(t.settings.strict){var s=r[1]==="m",a=i.value.unit==="mu";s?(a||t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),t.mode!=="math"&&t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):a&&t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:t.mode,dimension:i.value}},htmlBuilder(n,e){return J.makeGlue(n.dimension,e)},mathmlBuilder(n,e){var t=Bt(n.dimension,e);return new ge.SpaceNode(t)}});we({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=e[0];return{type:"lap",mode:t.mode,alignment:r.slice(5),body:i}},htmlBuilder:(n,e)=>{var t;n.alignment==="clap"?(t=J.makeSpan([],[Et(n.body,e)]),t=J.makeSpan(["inner"],[t],e)):t=J.makeSpan(["inner"],[Et(n.body,e)]);var r=J.makeSpan(["fix"],[]),i=J.makeSpan([n.alignment],[t,r],e),s=J.makeSpan(["strut"]);return s.style.height=Se(i.height+i.depth),i.depth&&(s.style.verticalAlign=Se(-i.depth)),i.children.unshift(s),i=J.makeSpan(["thinbox"],[i],e),J.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(n,e)=>{var t=new ge.MathNode("mpadded",[Dt(n.body,e)]);if(n.alignment!=="rlap"){var r=n.alignment==="llap"?"-1":"-0.5";t.setAttribute("lspace",r+"width")}return t.setAttribute("width","0px"),t}});we({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(n,e){var{funcName:t,parser:r}=n,i=r.mode;r.switchMode("math");var s=t==="\\("?"\\)":"$",a=r.parseExpression(!1,s);return r.expect(s),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:a}}});we({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(n,e){throw new Te("Mismatched "+n.funcName)}});var Vc=(n,e)=>{switch(e.style.size){case qe.DISPLAY.size:return n.display;case qe.TEXT.size:return n.text;case qe.SCRIPT.size:return n.script;case qe.SCRIPTSCRIPT.size:return n.scriptscript;default:return n.text}};we({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(n,e)=>{var{parser:t}=n;return{type:"mathchoice",mode:t.mode,display:Vt(e[0]),text:Vt(e[1]),script:Vt(e[2]),scriptscript:Vt(e[3])}},htmlBuilder:(n,e)=>{var t=Vc(n,e),r=en(t,e,!1);return J.makeFragment(r)},mathmlBuilder:(n,e)=>{var t=Vc(n,e);return Ui(t,e)}});var $m=(n,e,t,r,i,s,a)=>{n=J.makeSpan([],[n]);var o=t&&je.isCharacterBox(t),l,u;if(e){var c=Et(e,r.havingStyle(i.sup()),r);u={elem:c,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-c.depth)}}if(t){var h=Et(t,r.havingStyle(i.sub()),r);l={elem:h,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-h.height)}}var f;if(u&&l){var d=r.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+n.depth+a;f=J.makeVList({positionType:"bottom",positionData:d,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Se(-s)},{type:"kern",size:l.kern},{type:"elem",elem:n},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Se(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(l){var T=n.height-a;f=J.makeVList({positionType:"top",positionData:T,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Se(-s)},{type:"kern",size:l.kern},{type:"elem",elem:n}]},r)}else if(u){var E=n.depth+a;f=J.makeVList({positionType:"bottom",positionData:E,children:[{type:"elem",elem:n},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Se(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return n;var g=[f];if(l&&s!==0&&!o){var p=J.makeSpan(["mspace"],[],r);p.style.marginRight=Se(s),g.unshift(p)}return J.makeSpan(["mop","op-limits"],g,r)},jm=["\\smallint"],aa=(n,e)=>{var t,r,i=!1,s;n.type==="supsub"?(t=n.sup,r=n.sub,s=at(n.base,"op"),i=!0):s=at(n,"op");var a=e.style,o=!1;a.size===qe.DISPLAY.size&&s.symbol&&!je.contains(jm,s.name)&&(o=!0);var l;if(s.symbol){var u=o?"Size2-Regular":"Size1-Regular",c="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(c=s.name.slice(1),s.name=c==="oiint"?"\\iint":"\\iiint"),l=J.makeSymbol(s.name,u,"math",e,["mop","op-symbol",o?"large-op":"small-op"]),c.length>0){var h=l.italic,f=J.staticSvg(c+"Size"+(o?"2":"1"),e);l=J.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:f,shift:o?.08:0}]},e),s.name="\\"+c,l.classes.unshift("mop"),l.italic=h}}else if(s.body){var d=en(s.body,e,!0);d.length===1&&d[0]instanceof nr?(l=d[0],l.classes[0]="mop"):l=J.makeSpan(["mop"],d,e)}else{for(var T=[],E=1;E<s.name.length;E++)T.push(J.mathsym(s.name[E],s.mode,e));l=J.makeSpan(["mop"],T,e)}var g=0,p=0;return(l instanceof nr||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(g=(l.height-l.depth)/2-e.fontMetrics().axisHeight,p=l.italic),i?$m(l,t,r,e,a,p,g):(g&&(l.style.position="relative",l.style.top=Se(g)),l)},$a=(n,e)=>{var t;if(n.symbol)t=new Jn("mo",[rr(n.name,n.mode)]),je.contains(jm,n.name)&&t.setAttribute("largeop","false");else if(n.body)t=new Jn("mo",Fn(n.body,e));else{t=new Jn("mi",[new Na(n.name.slice(1))]);var r=new Jn("mo",[rr("⁡","text")]);n.parentIsSupSub?t=new Jn("mrow",[t,r]):t=Sm([t,r])}return t},P3={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};we({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=r;return i.length===1&&(i=P3[i]),{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:aa,mathmlBuilder:$a});we({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var{parser:t}=n,r=e[0];return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Vt(r)}},htmlBuilder:aa,mathmlBuilder:$a});var O3={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};we({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(n){var{parser:e,funcName:t}=n;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:t}},htmlBuilder:aa,mathmlBuilder:$a});we({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(n){var{parser:e,funcName:t}=n;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:t}},htmlBuilder:aa,mathmlBuilder:$a});we({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(n){var{parser:e,funcName:t}=n,r=t;return r.length===1&&(r=O3[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:aa,mathmlBuilder:$a});var Qm=(n,e)=>{var t,r,i=!1,s;n.type==="supsub"?(t=n.sup,r=n.sub,s=at(n.base,"operatorname"),i=!0):s=at(n,"operatorname");var a;if(s.body.length>0){for(var o=s.body.map(h=>{var f=h.text;return typeof f=="string"?{type:"textord",mode:h.mode,text:f}:h}),l=en(o,e.withFont("mathrm"),!0),u=0;u<l.length;u++){var c=l[u];c instanceof nr&&(c.text=c.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}a=J.makeSpan(["mop"],l,e)}else a=J.makeSpan(["mop"],[],e);return i?$m(a,t,r,e,e.style,0,0):a},k3=(n,e)=>{for(var t=Fn(n.body,e.withFont("mathrm")),r=!0,i=0;i<t.length;i++){var s=t[i];if(!(s instanceof ge.SpaceNode))if(s instanceof ge.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var a=s.children[0];s.children.length===1&&a instanceof ge.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var o=t.map(c=>c.toText()).join("");t=[new ge.TextNode(o)]}var l=new ge.MathNode("mi",t);l.setAttribute("mathvariant","normal");var u=new ge.MathNode("mo",[rr("⁡","text")]);return n.parentIsSupSub?new ge.MathNode("mrow",[l,u]):ge.newDocumentFragment([l,u])};we({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=e[0];return{type:"operatorname",mode:t.mode,body:Vt(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:Qm,mathmlBuilder:k3});w("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");ms({type:"ordgroup",htmlBuilder(n,e){return n.semisimple?J.makeFragment(en(n.body,e,!1)):J.makeSpan(["mord"],en(n.body,e,!0),e)},mathmlBuilder(n,e){return Ui(n.body,e,!0)}});we({type:"overline",names:["\\overline"],props:{numArgs:1},handler(n,e){var{parser:t}=n,r=e[0];return{type:"overline",mode:t.mode,body:r}},htmlBuilder(n,e){var t=Et(n.body,e.havingCrampedStyle()),r=J.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,s=J.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},e);return J.makeSpan(["mord","overline"],[s],e)},mathmlBuilder(n,e){var t=new ge.MathNode("mo",[new ge.TextNode("‾")]);t.setAttribute("stretchy","true");var r=new ge.MathNode("mover",[Dt(n.body,e),t]);return r.setAttribute("accent","true"),r}});we({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,r=e[0];return{type:"phantom",mode:t.mode,body:Vt(r)}},htmlBuilder:(n,e)=>{var t=en(n.body,e.withPhantom(),!1);return J.makeFragment(t)},mathmlBuilder:(n,e)=>{var t=Fn(n.body,e);return new ge.MathNode("mphantom",t)}});we({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,r=e[0];return{type:"hphantom",mode:t.mode,body:r}},htmlBuilder:(n,e)=>{var t=J.makeSpan([],[Et(n.body,e.withPhantom())]);if(t.height=0,t.depth=0,t.children)for(var r=0;r<t.children.length;r++)t.children[r].height=0,t.children[r].depth=0;return t=J.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t}]},e),J.makeSpan(["mord"],[t],e)},mathmlBuilder:(n,e)=>{var t=Fn(Vt(n.body),e),r=new ge.MathNode("mphantom",t),i=new ge.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});we({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,r=e[0];return{type:"vphantom",mode:t.mode,body:r}},htmlBuilder:(n,e)=>{var t=J.makeSpan(["inner"],[Et(n.body,e.withPhantom())]),r=J.makeSpan(["fix"],[]);return J.makeSpan(["mord","rlap"],[t,r],e)},mathmlBuilder:(n,e)=>{var t=Fn(Vt(n.body),e),r=new ge.MathNode("mphantom",t),i=new ge.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});we({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(n,e){var{parser:t}=n,r=at(e[0],"size").value,i=e[1];return{type:"raisebox",mode:t.mode,dy:r,body:i}},htmlBuilder(n,e){var t=Et(n.body,e),r=Bt(n.dy,e);return J.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:t}]},e)},mathmlBuilder(n,e){var t=new ge.MathNode("mpadded",[Dt(n.body,e)]),r=n.dy.number+n.dy.unit;return t.setAttribute("voffset",r),t}});we({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(n){var{parser:e}=n;return{type:"internal",mode:e.mode}}});we({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(n,e,t){var{parser:r}=n,i=t[0],s=at(e[0],"size"),a=at(e[1],"size");return{type:"rule",mode:r.mode,shift:i&&at(i,"size").value,width:s.value,height:a.value}},htmlBuilder(n,e){var t=J.makeSpan(["mord","rule"],[],e),r=Bt(n.width,e),i=Bt(n.height,e),s=n.shift?Bt(n.shift,e):0;return t.style.borderRightWidth=Se(r),t.style.borderTopWidth=Se(i),t.style.bottom=Se(s),t.width=r,t.height=i+s,t.depth=-s,t.maxFontSize=i*1.125*e.sizeMultiplier,t},mathmlBuilder(n,e){var t=Bt(n.width,e),r=Bt(n.height,e),i=n.shift?Bt(n.shift,e):0,s=e.color&&e.getColor()||"black",a=new ge.MathNode("mspace");a.setAttribute("mathbackground",s),a.setAttribute("width",Se(t)),a.setAttribute("height",Se(r));var o=new ge.MathNode("mpadded",[a]);return i>=0?o.setAttribute("height",Se(i)):(o.setAttribute("height",Se(i)),o.setAttribute("depth",Se(-i))),o.setAttribute("voffset",Se(i)),o}});function Zm(n,e,t){for(var r=en(n,e,!1),i=e.sizeMultiplier/t.sizeMultiplier,s=0;s<r.length;s++){var a=r[s].classes.indexOf("sizing");a<0?Array.prototype.push.apply(r[s].classes,e.sizingClasses(t)):r[s].classes[a+1]==="reset-size"+e.size&&(r[s].classes[a+1]="reset-size"+t.size),r[s].height*=i,r[s].depth*=i}return J.makeFragment(r)}var Wc=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],B3=(n,e)=>{var t=e.havingSize(n.size);return Zm(n.body,t,e)};we({type:"sizing",names:Wc,props:{numArgs:0,allowedInText:!0},handler:(n,e)=>{var{breakOnTokenText:t,funcName:r,parser:i}=n,s=i.parseExpression(!1,t);return{type:"sizing",mode:i.mode,size:Wc.indexOf(r)+1,body:s}},htmlBuilder:B3,mathmlBuilder:(n,e)=>{var t=e.havingSize(n.size),r=Fn(n.body,t),i=new ge.MathNode("mstyle",r);return i.setAttribute("mathsize",Se(t.sizeMultiplier)),i}});we({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(n,e,t)=>{var{parser:r}=n,i=!1,s=!1,a=t[0]&&at(t[0],"ordgroup");if(a)for(var o="",l=0;l<a.body.length;++l){var u=a.body[l];if(o=u.text,o==="t")i=!0;else if(o==="b")s=!0;else{i=!1,s=!1;break}}else i=!0,s=!0;var c=e[0];return{type:"smash",mode:r.mode,body:c,smashHeight:i,smashDepth:s}},htmlBuilder:(n,e)=>{var t=J.makeSpan([],[Et(n.body,e)]);if(!n.smashHeight&&!n.smashDepth)return t;if(n.smashHeight&&(t.height=0,t.children))for(var r=0;r<t.children.length;r++)t.children[r].height=0;if(n.smashDepth&&(t.depth=0,t.children))for(var i=0;i<t.children.length;i++)t.children[i].depth=0;var s=J.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t}]},e);return J.makeSpan(["mord"],[s],e)},mathmlBuilder:(n,e)=>{var t=new ge.MathNode("mpadded",[Dt(n.body,e)]);return n.smashHeight&&t.setAttribute("height","0px"),n.smashDepth&&t.setAttribute("depth","0px"),t}});we({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(n,e,t){var{parser:r}=n,i=t[0],s=e[0];return{type:"sqrt",mode:r.mode,body:s,index:i}},htmlBuilder(n,e){var t=Et(n.body,e.havingCrampedStyle());t.height===0&&(t.height=e.fontMetrics().xHeight),t=J.wrapFragment(t,e);var r=e.fontMetrics(),i=r.defaultRuleThickness,s=i;e.style.id<qe.TEXT.id&&(s=e.fontMetrics().xHeight);var a=i+s/4,o=t.height+t.depth+a+i,{span:l,ruleWidth:u,advanceWidth:c}=ii.sqrtImage(o,e),h=l.height-u;h>t.height+t.depth+a&&(a=(a+h-t.height-t.depth)/2);var f=l.height-t.height-a-u;t.style.paddingLeft=Se(c);var d=J.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t,wrapperClasses:["svg-align"]},{type:"kern",size:-(t.height+f)},{type:"elem",elem:l},{type:"kern",size:u}]},e);if(n.index){var T=e.havingStyle(qe.SCRIPTSCRIPT),E=Et(n.index,T,e),g=.6*(d.height-d.depth),p=J.makeVList({positionType:"shift",positionData:-g,children:[{type:"elem",elem:E}]},e),A=J.makeSpan(["root"],[p]);return J.makeSpan(["mord","sqrt"],[A,d],e)}else return J.makeSpan(["mord","sqrt"],[d],e)},mathmlBuilder(n,e){var{body:t,index:r}=n;return r?new ge.MathNode("mroot",[Dt(t,e),Dt(r,e)]):new ge.MathNode("msqrt",[Dt(t,e)])}});var qc={display:qe.DISPLAY,text:qe.TEXT,script:qe.SCRIPT,scriptscript:qe.SCRIPTSCRIPT};we({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n,e){var{breakOnTokenText:t,funcName:r,parser:i}=n,s=i.parseExpression(!0,t),a=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:a,body:s}},htmlBuilder(n,e){var t=qc[n.style],r=e.havingStyle(t).withFont("");return Zm(n.body,r,e)},mathmlBuilder(n,e){var t=qc[n.style],r=e.havingStyle(t),i=Fn(n.body,r),s=new ge.MathNode("mstyle",i),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=a[n.style];return s.setAttribute("scriptlevel",o[0]),s.setAttribute("displaystyle",o[1]),s}});var U3=function(e,t){var r=e.base;if(r)if(r.type==="op"){var i=r.limits&&(t.style.size===qe.DISPLAY.size||r.alwaysHandleSupSub);return i?aa:null}else if(r.type==="operatorname"){var s=r.alwaysHandleSupSub&&(t.style.size===qe.DISPLAY.size||r.limits);return s?Qm:null}else{if(r.type==="accent")return je.isCharacterBox(r.base)?vu:null;if(r.type==="horizBrace"){var a=!e.sub;return a===r.isOver?Km:null}else return null}else return null};ms({type:"supsub",htmlBuilder(n,e){var t=U3(n,e);if(t)return t(n,e);var{base:r,sup:i,sub:s}=n,a=Et(r,e),o,l,u=e.fontMetrics(),c=0,h=0,f=r&&je.isCharacterBox(r);if(i){var d=e.havingStyle(e.style.sup());o=Et(i,d,e),f||(c=a.height-d.fontMetrics().supDrop*d.sizeMultiplier/e.sizeMultiplier)}if(s){var T=e.havingStyle(e.style.sub());l=Et(s,T,e),f||(h=a.depth+T.fontMetrics().subDrop*T.sizeMultiplier/e.sizeMultiplier)}var E;e.style===qe.DISPLAY?E=u.sup1:e.style.cramped?E=u.sup3:E=u.sup2;var g=e.sizeMultiplier,p=Se(.5/u.ptPerEm/g),A=null;if(l){var _=n.base&&n.base.type==="op"&&n.base.name&&(n.base.name==="\\oiint"||n.base.name==="\\oiiint");(a instanceof nr||_)&&(A=Se(-a.italic))}var D;if(o&&l){c=Math.max(c,E,o.depth+.25*u.xHeight),h=Math.max(h,u.sub2);var M=u.defaultRuleThickness,y=4*M;if(c-o.depth-(l.height-h)<y){h=y-(c-o.depth)+l.height;var C=.8*u.xHeight-(c-o.depth);C>0&&(c+=C,h-=C)}var B=[{type:"elem",elem:l,shift:h,marginRight:p,marginLeft:A},{type:"elem",elem:o,shift:-c,marginRight:p}];D=J.makeVList({positionType:"individualShift",children:B},e)}else if(l){h=Math.max(h,u.sub1,l.height-.8*u.xHeight);var S=[{type:"elem",elem:l,marginLeft:A,marginRight:p}];D=J.makeVList({positionType:"shift",positionData:h,children:S},e)}else if(o)c=Math.max(c,E,o.depth+.25*u.xHeight),D=J.makeVList({positionType:"shift",positionData:-c,children:[{type:"elem",elem:o,marginRight:p}]},e);else throw new Error("supsub must have either sup or sub.");var I=kl(a,"right")||"mord";return J.makeSpan([I],[a,J.makeSpan(["msupsub"],[D])],e)},mathmlBuilder(n,e){var t=!1,r,i;n.base&&n.base.type==="horizBrace"&&(i=!!n.sup,i===n.base.isOver&&(t=!0,r=n.base.isOver)),n.base&&(n.base.type==="op"||n.base.type==="operatorname")&&(n.base.parentIsSupSub=!0);var s=[Dt(n.base,e)];n.sub&&s.push(Dt(n.sub,e)),n.sup&&s.push(Dt(n.sup,e));var a;if(t)a=r?"mover":"munder";else if(n.sub)if(n.sup){var u=n.base;u&&u.type==="op"&&u.limits&&e.style===qe.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(e.style===qe.DISPLAY||u.limits)?a="munderover":a="msubsup"}else{var l=n.base;l&&l.type==="op"&&l.limits&&(e.style===qe.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===qe.DISPLAY)?a="munder":a="msub"}else{var o=n.base;o&&o.type==="op"&&o.limits&&(e.style===qe.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||e.style===qe.DISPLAY)?a="mover":a="msup"}return new ge.MathNode(a,s)}});ms({type:"atom",htmlBuilder(n,e){return J.mathsym(n.text,n.mode,e,["m"+n.family])},mathmlBuilder(n,e){var t=new ge.MathNode("mo",[rr(n.text,n.mode)]);if(n.family==="bin"){var r=Tu(n,e);r==="bold-italic"&&t.setAttribute("mathvariant",r)}else n.family==="punct"?t.setAttribute("separator","true"):(n.family==="open"||n.family==="close")&&t.setAttribute("stretchy","false");return t}});var Jm={mi:"italic",mn:"normal",mtext:"normal"};ms({type:"mathord",htmlBuilder(n,e){return J.makeOrd(n,e,"mathord")},mathmlBuilder(n,e){var t=new ge.MathNode("mi",[rr(n.text,n.mode,e)]),r=Tu(n,e)||"italic";return r!==Jm[t.type]&&t.setAttribute("mathvariant",r),t}});ms({type:"textord",htmlBuilder(n,e){return J.makeOrd(n,e,"textord")},mathmlBuilder(n,e){var t=rr(n.text,n.mode,e),r=Tu(n,e)||"normal",i;return n.mode==="text"?i=new ge.MathNode("mtext",[t]):/[0-9]/.test(n.text)?i=new ge.MathNode("mn",[t]):n.text==="\\prime"?i=new ge.MathNode("mo",[t]):i=new ge.MathNode("mi",[t]),r!==Jm[i.type]&&i.setAttribute("mathvariant",r),i}});var x0={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},A0={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};ms({type:"spacing",htmlBuilder(n,e){if(A0.hasOwnProperty(n.text)){var t=A0[n.text].className||"";if(n.mode==="text"){var r=J.makeOrd(n,e,"textord");return r.classes.push(t),r}else return J.makeSpan(["mspace",t],[J.mathsym(n.text,n.mode,e)],e)}else{if(x0.hasOwnProperty(n.text))return J.makeSpan(["mspace",x0[n.text]],[],e);throw new Te('Unknown type of space "'+n.text+'"')}},mathmlBuilder(n,e){var t;if(A0.hasOwnProperty(n.text))t=new ge.MathNode("mtext",[new ge.TextNode(" ")]);else{if(x0.hasOwnProperty(n.text))return new ge.MathNode("mspace");throw new Te('Unknown type of space "'+n.text+'"')}return t}});var Xc=()=>{var n=new ge.MathNode("mtd",[]);return n.setAttribute("width","50%"),n};ms({type:"tag",mathmlBuilder(n,e){var t=new ge.MathNode("mtable",[new ge.MathNode("mtr",[Xc(),new ge.MathNode("mtd",[Ui(n.body,e)]),Xc(),new ge.MathNode("mtd",[Ui(n.tag,e)])])]);return t.setAttribute("width","100%"),t}});var Yc={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Kc={"\\textbf":"textbf","\\textmd":"textmd"},z3={"\\textit":"textit","\\textup":"textup"},$c=(n,e)=>{var t=n.font;return t?Yc[t]?e.withTextFontFamily(Yc[t]):Kc[t]?e.withTextFontWeight(Kc[t]):e.withTextFontShape(z3[t]):e};we({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(n,e){var{parser:t,funcName:r}=n,i=e[0];return{type:"text",mode:t.mode,body:Vt(i),font:r}},htmlBuilder(n,e){var t=$c(n,e),r=en(n.body,t,!0);return J.makeSpan(["mord","text"],r,t)},mathmlBuilder(n,e){var t=$c(n,e);return Ui(n.body,t)}});we({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(n,e){var{parser:t}=n;return{type:"underline",mode:t.mode,body:e[0]}},htmlBuilder(n,e){var t=Et(n.body,e),r=J.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,s=J.makeVList({positionType:"top",positionData:t.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:t}]},e);return J.makeSpan(["mord","underline"],[s],e)},mathmlBuilder(n,e){var t=new ge.MathNode("mo",[new ge.TextNode("‾")]);t.setAttribute("stretchy","true");var r=new ge.MathNode("munder",[Dt(n.body,e),t]);return r.setAttribute("accentunder","true"),r}});we({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(n,e){var{parser:t}=n;return{type:"vcenter",mode:t.mode,body:e[0]}},htmlBuilder(n,e){var t=Et(n.body,e),r=e.fontMetrics().axisHeight,i=.5*(t.height-r-(t.depth+r));return J.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:t}]},e)},mathmlBuilder(n,e){return new ge.MathNode("mpadded",[Dt(n.body,e)],["vcenter"])}});we({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(n,e,t){throw new Te("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(n,e){for(var t=jc(n),r=[],i=e.havingStyle(e.style.text()),s=0;s<t.length;s++){var a=t[s];a==="~"&&(a="\\textasciitilde"),r.push(J.makeSymbol(a,"Typewriter-Regular",n.mode,i,["mord","texttt"]))}return J.makeSpan(["mord","text"].concat(i.sizingClasses(e)),J.tryCombineChars(r),i)},mathmlBuilder(n,e){var t=new ge.TextNode(jc(n)),r=new ge.MathNode("mtext",[t]);return r.setAttribute("mathvariant","monospace"),r}});var jc=n=>n.body.replace(/ /g,n.star?"␣":" "),Ri=Am,e5=`[ \r
	]`,H3="\\\\[a-zA-Z@]+",G3="\\\\[^\uD800-\uDFFF]",V3="("+H3+")"+e5+"*",W3=`\\\\(
|[ \r	]+
?)[ \r	]*`,Hl="[̀-ͯ]",q3=new RegExp(Hl+"+$"),X3="("+e5+"+)|"+(W3+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(Hl+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Hl+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+V3)+("|"+G3+")");class Qc{constructor(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp(X3,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,t){this.catcodes[e]=t}lex(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new Nr("EOF",new Hn(this,t,t));var r=this.tokenRegex.exec(e);if(r===null||r.index!==t)throw new Te("Unexpected character: '"+e[t]+"'",new Nr(e[t],new Hn(this,t,t+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var s=e.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new Nr(i,new Hn(this,t,this.tokenRegex.lastIndex))}}class Y3{constructor(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Te("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(e[t]==null?delete this.current[t]:this.current[t]=e[t])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,t,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(e)&&(s[e]=this.current[e])}t==null?delete this.current[e]:this.current[e]=t}}var K3=Vm;w("\\noexpand",function(n){var e=n.popToken();return n.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});w("\\expandafter",function(n){var e=n.popToken();return n.expandOnce(!0),{tokens:[e],numArgs:0}});w("\\@firstoftwo",function(n){var e=n.consumeArgs(2);return{tokens:e[0],numArgs:0}});w("\\@secondoftwo",function(n){var e=n.consumeArgs(2);return{tokens:e[1],numArgs:0}});w("\\@ifnextchar",function(n){var e=n.consumeArgs(3);n.consumeSpaces();var t=n.future();return e[0].length===1&&e[0][0].text===t.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});w("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");w("\\TextOrMath",function(n){var e=n.consumeArgs(2);return n.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var Zc={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};w("\\char",function(n){var e=n.popToken(),t,r="";if(e.text==="'")t=8,e=n.popToken();else if(e.text==='"')t=16,e=n.popToken();else if(e.text==="`")if(e=n.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new Te("\\char` missing argument");r=e.text.charCodeAt(0)}else t=10;if(t){if(r=Zc[e.text],r==null||r>=t)throw new Te("Invalid base-"+t+" digit "+e.text);for(var i;(i=Zc[n.future().text])!=null&&i<t;)r*=t,r+=i,n.popToken()}return"\\@char{"+r+"}"});var Du=(n,e,t)=>{var r=n.consumeArg().tokens;if(r.length!==1)throw new Te("\\newcommand's first argument must be a macro name");var i=r[0].text,s=n.isDefined(i);if(s&&!e)throw new Te("\\newcommand{"+i+"} attempting to redefine "+(i+"; use \\renewcommand"));if(!s&&!t)throw new Te("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var a=0;if(r=n.consumeArg().tokens,r.length===1&&r[0].text==="["){for(var o="",l=n.expandNextToken();l.text!=="]"&&l.text!=="EOF";)o+=l.text,l=n.expandNextToken();if(!o.match(/^\s*[0-9]+\s*$/))throw new Te("Invalid number of arguments: "+o);a=parseInt(o),r=n.consumeArg().tokens}return n.macros.set(i,{tokens:r,numArgs:a}),""};w("\\newcommand",n=>Du(n,!1,!0));w("\\renewcommand",n=>Du(n,!0,!1));w("\\providecommand",n=>Du(n,!0,!0));w("\\message",n=>{var e=n.consumeArgs(1)[0];return console.log(e.reverse().map(t=>t.text).join("")),""});w("\\errmessage",n=>{var e=n.consumeArgs(1)[0];return console.error(e.reverse().map(t=>t.text).join("")),""});w("\\show",n=>{var e=n.popToken(),t=e.text;return console.log(e,n.macros.get(t),Ri[t],Rt.math[t],Rt.text[t]),""});w("\\bgroup","{");w("\\egroup","}");w("~","\\nobreakspace");w("\\lq","`");w("\\rq","'");w("\\aa","\\r a");w("\\AA","\\r A");w("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");w("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");w("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");w("ℬ","\\mathscr{B}");w("ℰ","\\mathscr{E}");w("ℱ","\\mathscr{F}");w("ℋ","\\mathscr{H}");w("ℐ","\\mathscr{I}");w("ℒ","\\mathscr{L}");w("ℳ","\\mathscr{M}");w("ℛ","\\mathscr{R}");w("ℭ","\\mathfrak{C}");w("ℌ","\\mathfrak{H}");w("ℨ","\\mathfrak{Z}");w("\\Bbbk","\\Bbb{k}");w("·","\\cdotp");w("\\llap","\\mathllap{\\textrm{#1}}");w("\\rlap","\\mathrlap{\\textrm{#1}}");w("\\clap","\\mathclap{\\textrm{#1}}");w("\\mathstrut","\\vphantom{(}");w("\\underbar","\\underline{\\text{#1}}");w("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');w("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");w("\\ne","\\neq");w("≠","\\neq");w("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");w("∉","\\notin");w("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");w("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");w("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");w("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");w("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");w("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");w("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");w("⟂","\\perp");w("‼","\\mathclose{!\\mkern-0.8mu!}");w("∌","\\notni");w("⌜","\\ulcorner");w("⌝","\\urcorner");w("⌞","\\llcorner");w("⌟","\\lrcorner");w("©","\\copyright");w("®","\\textregistered");w("️","\\textregistered");w("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');w("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');w("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');w("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');w("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");w("⋮","\\vdots");w("\\varGamma","\\mathit{\\Gamma}");w("\\varDelta","\\mathit{\\Delta}");w("\\varTheta","\\mathit{\\Theta}");w("\\varLambda","\\mathit{\\Lambda}");w("\\varXi","\\mathit{\\Xi}");w("\\varPi","\\mathit{\\Pi}");w("\\varSigma","\\mathit{\\Sigma}");w("\\varUpsilon","\\mathit{\\Upsilon}");w("\\varPhi","\\mathit{\\Phi}");w("\\varPsi","\\mathit{\\Psi}");w("\\varOmega","\\mathit{\\Omega}");w("\\substack","\\begin{subarray}{c}#1\\end{subarray}");w("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");w("\\boxed","\\fbox{$\\displaystyle{#1}$}");w("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");w("\\implies","\\DOTSB\\;\\Longrightarrow\\;");w("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var Jc={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};w("\\dots",function(n){var e="\\dotso",t=n.expandAfterFuture().text;return t in Jc?e=Jc[t]:(t.slice(0,4)==="\\not"||t in Rt.math&&je.contains(["bin","rel"],Rt.math[t].group))&&(e="\\dotsb"),e});var wu={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};w("\\dotso",function(n){var e=n.future().text;return e in wu?"\\ldots\\,":"\\ldots"});w("\\dotsc",function(n){var e=n.future().text;return e in wu&&e!==","?"\\ldots\\,":"\\ldots"});w("\\cdots",function(n){var e=n.future().text;return e in wu?"\\@cdots\\,":"\\@cdots"});w("\\dotsb","\\cdots");w("\\dotsm","\\cdots");w("\\dotsi","\\!\\cdots");w("\\dotsx","\\ldots\\,");w("\\DOTSI","\\relax");w("\\DOTSB","\\relax");w("\\DOTSX","\\relax");w("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");w("\\,","\\tmspace+{3mu}{.1667em}");w("\\thinspace","\\,");w("\\>","\\mskip{4mu}");w("\\:","\\tmspace+{4mu}{.2222em}");w("\\medspace","\\:");w("\\;","\\tmspace+{5mu}{.2777em}");w("\\thickspace","\\;");w("\\!","\\tmspace-{3mu}{.1667em}");w("\\negthinspace","\\!");w("\\negmedspace","\\tmspace-{4mu}{.2222em}");w("\\negthickspace","\\tmspace-{5mu}{.277em}");w("\\enspace","\\kern.5em ");w("\\enskip","\\hskip.5em\\relax");w("\\quad","\\hskip1em\\relax");w("\\qquad","\\hskip2em\\relax");w("\\tag","\\@ifstar\\tag@literal\\tag@paren");w("\\tag@paren","\\tag@literal{({#1})}");w("\\tag@literal",n=>{if(n.macros.get("\\df@tag"))throw new Te("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});w("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");w("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");w("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");w("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");w("\\newline","\\\\\\relax");w("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var t5=Se(Rr["Main-Regular"]["T".charCodeAt(0)][1]-.7*Rr["Main-Regular"]["A".charCodeAt(0)][1]);w("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+t5+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");w("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+t5+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");w("\\hspace","\\@ifstar\\@hspacer\\@hspace");w("\\@hspace","\\hskip #1\\relax");w("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");w("\\ordinarycolon",":");w("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");w("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');w("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');w("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');w("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');w("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');w("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');w("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');w("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');w("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');w("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');w("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');w("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');w("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');w("∷","\\dblcolon");w("∹","\\eqcolon");w("≔","\\coloneqq");w("≕","\\eqqcolon");w("⩴","\\Coloneqq");w("\\ratio","\\vcentcolon");w("\\coloncolon","\\dblcolon");w("\\colonequals","\\coloneqq");w("\\coloncolonequals","\\Coloneqq");w("\\equalscolon","\\eqqcolon");w("\\equalscoloncolon","\\Eqqcolon");w("\\colonminus","\\coloneq");w("\\coloncolonminus","\\Coloneq");w("\\minuscolon","\\eqcolon");w("\\minuscoloncolon","\\Eqcolon");w("\\coloncolonapprox","\\Colonapprox");w("\\coloncolonsim","\\Colonsim");w("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");w("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");w("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");w("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");w("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");w("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");w("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");w("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");w("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");w("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");w("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");w("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");w("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");w("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");w("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");w("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");w("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");w("\\nleqq","\\html@mathml{\\@nleqq}{≰}");w("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");w("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");w("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");w("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");w("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");w("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");w("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");w("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");w("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");w("\\imath","\\html@mathml{\\@imath}{ı}");w("\\jmath","\\html@mathml{\\@jmath}{ȷ}");w("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");w("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");w("⟦","\\llbracket");w("⟧","\\rrbracket");w("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");w("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");w("⦃","\\lBrace");w("⦄","\\rBrace");w("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");w("⦵","\\minuso");w("\\darr","\\downarrow");w("\\dArr","\\Downarrow");w("\\Darr","\\Downarrow");w("\\lang","\\langle");w("\\rang","\\rangle");w("\\uarr","\\uparrow");w("\\uArr","\\Uparrow");w("\\Uarr","\\Uparrow");w("\\N","\\mathbb{N}");w("\\R","\\mathbb{R}");w("\\Z","\\mathbb{Z}");w("\\alef","\\aleph");w("\\alefsym","\\aleph");w("\\Alpha","\\mathrm{A}");w("\\Beta","\\mathrm{B}");w("\\bull","\\bullet");w("\\Chi","\\mathrm{X}");w("\\clubs","\\clubsuit");w("\\cnums","\\mathbb{C}");w("\\Complex","\\mathbb{C}");w("\\Dagger","\\ddagger");w("\\diamonds","\\diamondsuit");w("\\empty","\\emptyset");w("\\Epsilon","\\mathrm{E}");w("\\Eta","\\mathrm{H}");w("\\exist","\\exists");w("\\harr","\\leftrightarrow");w("\\hArr","\\Leftrightarrow");w("\\Harr","\\Leftrightarrow");w("\\hearts","\\heartsuit");w("\\image","\\Im");w("\\infin","\\infty");w("\\Iota","\\mathrm{I}");w("\\isin","\\in");w("\\Kappa","\\mathrm{K}");w("\\larr","\\leftarrow");w("\\lArr","\\Leftarrow");w("\\Larr","\\Leftarrow");w("\\lrarr","\\leftrightarrow");w("\\lrArr","\\Leftrightarrow");w("\\Lrarr","\\Leftrightarrow");w("\\Mu","\\mathrm{M}");w("\\natnums","\\mathbb{N}");w("\\Nu","\\mathrm{N}");w("\\Omicron","\\mathrm{O}");w("\\plusmn","\\pm");w("\\rarr","\\rightarrow");w("\\rArr","\\Rightarrow");w("\\Rarr","\\Rightarrow");w("\\real","\\Re");w("\\reals","\\mathbb{R}");w("\\Reals","\\mathbb{R}");w("\\Rho","\\mathrm{P}");w("\\sdot","\\cdot");w("\\sect","\\S");w("\\spades","\\spadesuit");w("\\sub","\\subset");w("\\sube","\\subseteq");w("\\supe","\\supseteq");w("\\Tau","\\mathrm{T}");w("\\thetasym","\\vartheta");w("\\weierp","\\wp");w("\\Zeta","\\mathrm{Z}");w("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");w("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");w("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");w("\\bra","\\mathinner{\\langle{#1}|}");w("\\ket","\\mathinner{|{#1}\\rangle}");w("\\braket","\\mathinner{\\langle{#1}\\rangle}");w("\\Bra","\\left\\langle#1\\right|");w("\\Ket","\\left|#1\\right\\rangle");var n5=n=>e=>{var t=e.consumeArg().tokens,r=e.consumeArg().tokens,i=e.consumeArg().tokens,s=e.consumeArg().tokens,a=e.macros.get("|"),o=e.macros.get("\\|");e.macros.beginGroup();var l=h=>f=>{n&&(f.macros.set("|",a),i.length&&f.macros.set("\\|",o));var d=h;if(!h&&i.length){var T=f.future();T.text==="|"&&(f.popToken(),d=!0)}return{tokens:d?i:r,numArgs:0}};e.macros.set("|",l(!1)),i.length&&e.macros.set("\\|",l(!0));var u=e.consumeArg().tokens,c=e.expandTokens([...s,...u,...t]);return e.macros.endGroup(),{tokens:c.reverse(),numArgs:0}};w("\\bra@ket",n5(!1));w("\\bra@set",n5(!0));w("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");w("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");w("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");w("\\angln","{\\angl n}");w("\\blue","\\textcolor{##6495ed}{#1}");w("\\orange","\\textcolor{##ffa500}{#1}");w("\\pink","\\textcolor{##ff00af}{#1}");w("\\red","\\textcolor{##df0030}{#1}");w("\\green","\\textcolor{##28ae7b}{#1}");w("\\gray","\\textcolor{gray}{#1}");w("\\purple","\\textcolor{##9d38bd}{#1}");w("\\blueA","\\textcolor{##ccfaff}{#1}");w("\\blueB","\\textcolor{##80f6ff}{#1}");w("\\blueC","\\textcolor{##63d9ea}{#1}");w("\\blueD","\\textcolor{##11accd}{#1}");w("\\blueE","\\textcolor{##0c7f99}{#1}");w("\\tealA","\\textcolor{##94fff5}{#1}");w("\\tealB","\\textcolor{##26edd5}{#1}");w("\\tealC","\\textcolor{##01d1c1}{#1}");w("\\tealD","\\textcolor{##01a995}{#1}");w("\\tealE","\\textcolor{##208170}{#1}");w("\\greenA","\\textcolor{##b6ffb0}{#1}");w("\\greenB","\\textcolor{##8af281}{#1}");w("\\greenC","\\textcolor{##74cf70}{#1}");w("\\greenD","\\textcolor{##1fab54}{#1}");w("\\greenE","\\textcolor{##0d923f}{#1}");w("\\goldA","\\textcolor{##ffd0a9}{#1}");w("\\goldB","\\textcolor{##ffbb71}{#1}");w("\\goldC","\\textcolor{##ff9c39}{#1}");w("\\goldD","\\textcolor{##e07d10}{#1}");w("\\goldE","\\textcolor{##a75a05}{#1}");w("\\redA","\\textcolor{##fca9a9}{#1}");w("\\redB","\\textcolor{##ff8482}{#1}");w("\\redC","\\textcolor{##f9685d}{#1}");w("\\redD","\\textcolor{##e84d39}{#1}");w("\\redE","\\textcolor{##bc2612}{#1}");w("\\maroonA","\\textcolor{##ffbde0}{#1}");w("\\maroonB","\\textcolor{##ff92c6}{#1}");w("\\maroonC","\\textcolor{##ed5fa6}{#1}");w("\\maroonD","\\textcolor{##ca337c}{#1}");w("\\maroonE","\\textcolor{##9e034e}{#1}");w("\\purpleA","\\textcolor{##ddd7ff}{#1}");w("\\purpleB","\\textcolor{##c6b9fc}{#1}");w("\\purpleC","\\textcolor{##aa87ff}{#1}");w("\\purpleD","\\textcolor{##7854ab}{#1}");w("\\purpleE","\\textcolor{##543b78}{#1}");w("\\mintA","\\textcolor{##f5f9e8}{#1}");w("\\mintB","\\textcolor{##edf2df}{#1}");w("\\mintC","\\textcolor{##e0e5cc}{#1}");w("\\grayA","\\textcolor{##f6f7f7}{#1}");w("\\grayB","\\textcolor{##f0f1f2}{#1}");w("\\grayC","\\textcolor{##e3e5e6}{#1}");w("\\grayD","\\textcolor{##d6d8da}{#1}");w("\\grayE","\\textcolor{##babec2}{#1}");w("\\grayF","\\textcolor{##888d93}{#1}");w("\\grayG","\\textcolor{##626569}{#1}");w("\\grayH","\\textcolor{##3b3e40}{#1}");w("\\grayI","\\textcolor{##21242c}{#1}");w("\\kaBlue","\\textcolor{##314453}{#1}");w("\\kaGreen","\\textcolor{##71B307}{#1}");var r5={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class $3{constructor(e,t,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new Y3(K3,t.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new Qc(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var t,r,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;t=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:t,end:r}=this.consumeArg());return this.pushToken(new Nr("EOF",r.loc)),this.pushTokens(i),t.range(r,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var t=[],r=e&&e.length>0;r||this.consumeSpaces();var i=this.future(),s,a=0,o=0;do{if(s=this.popToken(),t.push(s),s.text==="{")++a;else if(s.text==="}"){if(--a,a===-1)throw new Te("Extra }",s)}else if(s.text==="EOF")throw new Te("Unexpected end of input in a macro argument, expected '"+(e&&r?e[o]:"}")+"'",s);if(e&&r)if((a===0||a===1&&e[o]==="{")&&s.text===e[o]){if(++o,o===e.length){t.splice(-o,o);break}}else o=0}while(a!==0||r);return i.text==="{"&&t[t.length-1].text==="}"&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:i,end:s}}consumeArgs(e,t){if(t){if(t.length!==e+1)throw new Te("The length of delimiters doesn't match the number of args!");for(var r=t[0],i=0;i<r.length;i++){var s=this.popToken();if(r[i]!==s.text)throw new Te("Use of the macro doesn't match its definition",s)}}for(var a=[],o=0;o<e;o++)a.push(this.consumeArg(t&&t[o+1]).tokens);return a}expandOnce(e){var t=this.popToken(),r=t.text,i=t.noexpand?null:this._getExpansion(r);if(i==null||e&&i.unexpandable){if(e&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new Te("Undefined control sequence: "+r);return this.pushToken(t),!1}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new Te("Too many expansions: infinite loop or need to increase maxExpand setting");var s=i.tokens,a=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){s=s.slice();for(var o=s.length-1;o>=0;--o){var l=s[o];if(l.text==="#"){if(o===0)throw new Te("Incomplete placeholder at end of macro body",l);if(l=s[--o],l.text==="#")s.splice(o+1,1);else if(/^[1-9]$/.test(l.text))s.splice(o,2,...a[+l.text-1]);else throw new Te("Not a valid argument number",l)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Nr(e)]):void 0}expandTokens(e){var t=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),t.push(i)}return t}expandMacroAsText(e){var t=this.expandMacro(e);return t&&t.map(r=>r.text).join("")}_getExpansion(e){var t=this.macros.get(e);if(t==null)return t;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var i=typeof t=="function"?t(this):t;if(typeof i=="string"){var s=0;if(i.indexOf("#")!==-1)for(var a=i.replace(/##/g,"");a.indexOf("#"+(s+1))!==-1;)++s;for(var o=new Qc(i,this.settings),l=[],u=o.lex();u.text!=="EOF";)l.push(u),u=o.lex();l.reverse();var c={tokens:l,numArgs:s};return c}return i}isDefined(e){return this.macros.has(e)||Ri.hasOwnProperty(e)||Rt.math.hasOwnProperty(e)||Rt.text.hasOwnProperty(e)||r5.hasOwnProperty(e)}isExpandable(e){var t=this.macros.get(e);return t!=null?typeof t=="string"||typeof t=="function"||!t.unexpandable:Ri.hasOwnProperty(e)&&!Ri[e].primitive}}var eh=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,To=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),y0={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},th={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};let i5=class Gl{constructor(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new $3(e,t,this.mode),this.settings=t,this.leftrightDepth=0}expect(e,t){if(t===void 0&&(t=!0),this.fetch().text!==e)throw new Te("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());t&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var t=this.nextToken;this.consume(),this.gullet.pushToken(new Nr("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=t,r}parseExpression(e,t){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(Gl.endOfExpression.indexOf(i.text)!==-1||t&&i.text===t||e&&Ri[i.text]&&Ri[i.text].infix)break;var s=this.parseAtom(t);if(s){if(s.type==="internal")continue}else break;r.push(s)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var t=-1,r,i=0;i<e.length;i++)if(e[i].type==="infix"){if(t!==-1)throw new Te("only one infix operator per group",e[i].token);t=i,r=e[i].replaceWith}if(t!==-1&&r){var s,a,o=e.slice(0,t),l=e.slice(t+1);o.length===1&&o[0].type==="ordgroup"?s=o[0]:s={type:"ordgroup",mode:this.mode,body:o},l.length===1&&l[0].type==="ordgroup"?a=l[0]:a={type:"ordgroup",mode:this.mode,body:l};var u;return r==="\\\\abovefrac"?u=this.callFunction(r,[s,e[t],a],[]):u=this.callFunction(r,[s,a],[]),[u]}else return e}handleSupSubscript(e){var t=this.fetch(),r=t.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(e);if(!i)throw new Te("Expected group after '"+r+"'",t);return i}formatUnsupportedCmd(e){for(var t=[],r=0;r<e.length;r++)t.push({type:"textord",mode:"text",text:e[r]});var i={type:"text",mode:this.mode,body:t},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return s}parseAtom(e){var t=this.parseGroup("atom",e);if(this.mode==="text")return t;for(var r,i;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(t&&t.type==="op"){var a=s.text==="\\limits";t.limits=a,t.alwaysHandleSupSub=!0}else if(t&&t.type==="operatorname")t.alwaysHandleSupSub&&(t.limits=s.text==="\\limits");else throw new Te("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(r)throw new Te("Double superscript",s);r=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(i)throw new Te("Double subscript",s);i=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(r)throw new Te("Double superscript",s);var o={type:"textord",mode:this.mode,text:"\\prime"},l=[o];for(this.consume();this.fetch().text==="'";)l.push(o),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:l}}else if(To[s.text]){var u=To[s.text],c=eh.test(s.text);for(this.consume();;){var h=this.fetch().text;if(!To[h]||eh.test(h)!==c)break;this.consume(),u+=To[h]}var f=new Gl(u,this.settings).parse();c?i={type:"ordgroup",mode:"math",body:f}:r={type:"ordgroup",mode:"math",body:f}}else break}return r||i?{type:"supsub",mode:this.mode,base:t,sup:r,sub:i}:t}parseFunction(e,t){var r=this.fetch(),i=r.text,s=Ri[i];if(!s)return null;if(this.consume(),t&&t!=="atom"&&!s.allowedInArgument)throw new Te("Got function '"+i+"' with no arguments"+(t?" as "+t:""),r);if(this.mode==="text"&&!s.allowedInText)throw new Te("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&s.allowedInMath===!1)throw new Te("Can't use function '"+i+"' in math mode",r);var{args:a,optArgs:o}=this.parseArguments(i,s);return this.callFunction(i,a,o,r,e)}callFunction(e,t,r,i,s){var a={funcName:e,parser:this,token:i,breakOnTokenText:s},o=Ri[e];if(o&&o.handler)return o.handler(a,t,r);throw new Te("No function handler for "+e)}parseArguments(e,t){var r=t.numArgs+t.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],s=[],a=0;a<r;a++){var o=t.argTypes&&t.argTypes[a],l=a<t.numOptionalArgs;(t.primitive&&o==null||t.type==="sqrt"&&a===1&&s[0]==null)&&(o="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",o,l);if(l)s.push(u);else if(u!=null)i.push(u);else throw new Te("Null argument, please report this as a bug")}return{args:i,optArgs:s}}parseGroupOfType(e,t,r){switch(t){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,t);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",r);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(r)throw new Te("A primitive argument cannot be optional");var a=this.parseGroup(e);if(a==null)throw new Te("Expected group as "+e,this.fetch());return a}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new Te("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,t){var r=this.gullet.scanArgument(t);if(r==null)return null;for(var i="",s;(s=this.fetch()).text!=="EOF";)i+=s.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(e,t){for(var r=this.fetch(),i=r,s="",a;(a=this.fetch()).text!=="EOF"&&e.test(s+a.text);)i=a,s+=i.text,this.consume();if(s==="")throw new Te("Invalid "+t+": '"+r.text+"'",r);return r.range(i,s)}parseColorGroup(e){var t=this.parseStringGroup("color",e);if(t==null)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!r)throw new Te("Invalid color: '"+t.text+"'",t);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var t,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?t=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):t=this.parseStringGroup("size",e),!t)return null;!e&&t.text.length===0&&(t.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!i)throw new Te("Invalid size: '"+t.text+"'",t);var s={number:+(i[1]+i[2]),unit:i[3]};if(!dm(s))throw new Te("Invalid unit: '"+s.unit+"'",t);return{type:"size",mode:this.mode,value:s,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var t=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),t==null)return null;var r=t.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,t){var r=this.gullet.scanArgument(e);if(r==null)return null;var i=this.mode;t&&this.switchMode(t),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var a={type:"ordgroup",mode:this.mode,loc:r.loc,body:s};return t&&this.switchMode(i),a}parseGroup(e,t){var r=this.fetch(),i=r.text,s;if(i==="{"||i==="\\begingroup"){this.consume();var a=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,a),l=this.fetch();this.expect(a),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:Hn.range(r,l),body:o,semisimple:i==="\\begingroup"||void 0}}else if(s=this.parseFunction(t,e)||this.parseSymbol(),s==null&&i[0]==="\\"&&!r5.hasOwnProperty(i)){if(this.settings.throwOnError)throw new Te("Undefined control sequence: "+i,r);s=this.formatUnsupportedCmd(i),this.consume()}return s}formLigatures(e){for(var t=e.length-1,r=0;r<t;++r){var i=e[r],s=i.text;s==="-"&&e[r+1].text==="-"&&(r+1<t&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:Hn.range(i,e[r+2]),text:"---"}),t-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:Hn.range(i,e[r+1]),text:"--"}),t-=1)),(s==="'"||s==="`")&&e[r+1].text===s&&(e.splice(r,2,{type:"textord",mode:"text",loc:Hn.range(i,e[r+1]),text:s+s}),t-=1)}}parseSymbol(){var e=this.fetch(),t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();var r=t.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new Te(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}th.hasOwnProperty(t[0])&&!Rt[this.mode][t[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+t[0]+'" used in math mode',e),t=th[t[0]]+t.slice(1));var s=q3.exec(t);s&&(t=t.substring(0,s.index),t==="i"?t="ı":t==="j"&&(t="ȷ"));var a;if(Rt[this.mode][t]){this.settings.strict&&this.mode==="math"&&Ol.indexOf(t)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+t[0]+'" used in math mode',e);var o=Rt[this.mode][t].group,l=Hn.range(e),u;if(k9.hasOwnProperty(o)){var c=o;u={type:"atom",mode:this.mode,family:c,loc:l,text:t}}else u={type:o,mode:this.mode,loc:l,text:t};a=u}else if(t.charCodeAt(0)>=128)this.settings.strict&&(fm(t.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+t[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+t[0]+'"'+(" ("+t.charCodeAt(0)+")"),e)),a={type:"textord",mode:"text",loc:Hn.range(e),text:t};else return null;if(this.consume(),s)for(var h=0;h<s[0].length;h++){var f=s[0][h];if(!y0[f])throw new Te("Unknown accent ' "+f+"'",e);var d=y0[f][this.mode]||y0[f].text;if(!d)throw new Te("Accent "+f+" unsupported in "+this.mode+" mode",e);a={type:"accent",mode:this.mode,loc:Hn.range(e),label:d,isStretchy:!1,isShifty:!0,base:a}}return a}};i5.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Ru=function(e,t){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new i5(e,t);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new Te("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new Nr("\\df@tag")])}]}return i},s5=function(e,t,r){t.textContent="";var i=Nu(e,r).toNode();t.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),s5=function(){throw new Te("KaTeX doesn't work in quirks mode.")});var j3=function(e,t){var r=Nu(e,t).toMarkup();return r},Q3=function(e,t){var r=new fu(t);return Ru(e,r)},a5=function(e,t,r){if(r.throwOnError||!(e instanceof Te))throw e;var i=J.makeSpan(["katex-error"],[new nr(t)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+r.errorColor),i},Nu=function(e,t){var r=new fu(t);try{var i=Ru(e,r);return a3(i,e,r)}catch(s){return a5(s,e,r)}},Z3=function(e,t){var r=new fu(t);try{var i=Ru(e,r);return o3(i,e,r)}catch(s){return a5(s,e,r)}},nh={version:"0.16.8",render:s5,renderToString:j3,ParseError:Te,SETTINGS_SCHEMA:a1,__parse:Q3,__renderToDomTree:Nu,__renderToHTMLTree:Z3,__setFontMetrics:R9,__defineSymbol:m,__defineFunction:we,__defineMacro:w,__domTree:{Span:Ka,Anchor:mu,SymbolNode:nr,SvgNode:li,PathNode:Bi,LineNode:Pl}};const di=function(n){if(n==null)return ng;if(typeof n=="string")return tg(n);if(typeof n=="object")return Array.isArray(n)?J3(n):eg(n);if(typeof n=="function")return k1(n);throw new Error("Expected function, string, or object as test")};function J3(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=di(n[t]);return k1(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].call(this,...i))return!0;return!1}}function eg(n){return k1(e);function e(t){let r;for(r in n)if(t[r]!==n[r])return!1;return!0}}function tg(n){return k1(e);function e(t){return t&&t.type===n}}function k1(n){return e;function e(t,...r){return!!(t&&typeof t=="object"&&"type"in t&&n.call(this,t,...r))}}function ng(){return!0}const rg=!0,rh=!1,ig="skip",sg=function(n,e,t,r){typeof e=="function"&&typeof t!="function"&&(r=t,t=e,e=null);const i=di(e),s=r?-1:1;a(n,void 0,[])();function a(o,l,u){const c=o&&typeof o=="object"?o:{};if(typeof c.type=="string"){const f=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(o.type+(f?"<"+f+">":""))+")"})}return h;function h(){let f=[],d,T,E;if((!e||i(o,l,u[u.length-1]||null))&&(f=ag(t(o,u)),f[0]===rh))return f;if(o.children&&f[0]!==ig)for(T=(r?o.children.length:-1)+s,E=u.concat(o);T>-1&&T<o.children.length;){if(d=a(o.children[T],T,E)(),d[0]===rh)return d;T=typeof d[1]=="number"?d[1]:T+s}return f}}};function ag(n){return Array.isArray(n)?n:typeof n=="number"?[rg,n]:[n]}const og=function(n,e,t,r){typeof e=="function"&&typeof t!="function"&&(r=t,t=e,e=null),sg(n,e,i,r);function i(s,a){const o=a[a.length-1];return t(s,o?o.children.indexOf(s):null,o)}},gs=function(n){if(n==null)return Iu;if(typeof n=="string")return ug(n);if(typeof n=="object")return lg(n);if(typeof n=="function")return o5(n);throw new Error("Expected function, string, or array as test")};function lg(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=gs(n[t]);return o5(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].call(this,...i))return!0;return!1}}function ug(n){return e;function e(t){return Iu(t)&&t.tagName===n}}function o5(n){return e;function e(t,...r){return Iu(t)&&!!n.call(this,t,...r)}}function Iu(n){return!!(n&&typeof n=="object"&&n.type==="element"&&typeof n.tagName=="string")}const ih=function(n,e,t){const r=di(t);if(!n||!n.type||!n.children)throw new Error("Expected parent node");if(typeof e=="number"){if(e<0||e===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(e=n.children.indexOf(e),e<0)throw new Error("Expected child node or index");for(;++e<n.children.length;)if(r(n.children[e],e,n))return n.children[e];return null},sh=/\n/g,ah=/[\t ]+/g,Vl=gs("br"),cg=gs("p"),oh=gs(["th","td"]),lh=gs("tr"),hg=gs(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",gg,Eg]),l5=gs(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function fg(n,e={}){const t="children"in n?n.children:[],r=l5(n),i=h5(n,{whitespace:e.whitespace||"normal",breakBefore:!1,breakAfter:!1}),s=[];(n.type==="text"||n.type==="comment")&&s.push(...c5(n,{whitespace:i,breakBefore:!0,breakAfter:!0}));let a=-1;for(;++a<t.length;)s.push(...u5(t[a],n,{whitespace:i,breakBefore:a?void 0:r,breakAfter:a<t.length-1?Vl(t[a+1]):r}));const o=[];let l;for(a=-1;++a<s.length;){const u=s[a];typeof u=="number"?l!==void 0&&u>l&&(l=u):u&&(l!==void 0&&l>-1&&o.push(`
`.repeat(l)||" "),l=-1,o.push(u))}return o.join("")}function u5(n,e,t){return n.type==="element"?dg(n,e,t):n.type==="text"?t.whitespace==="normal"?c5(n,t):pg(n):[]}function dg(n,e,t){const r=h5(n,t),i=n.children||[];let s=-1,a=[];if(hg(n))return a;let o,l;for(Vl(n)||lh(n)&&ih(e,n,lh)?l=`
`:cg(n)?(o=2,l=2):l5(n)&&(o=1,l=1);++s<i.length;)a=a.concat(u5(i[s],n,{whitespace:r,breakBefore:s?void 0:o,breakAfter:s<i.length-1?Vl(i[s+1]):l}));return oh(n)&&ih(e,n,oh)&&a.push("	"),o&&a.unshift(o),l&&a.push(l),a}function c5(n,e){const t=String(n.value),r=[],i=[];let s=0;for(;s<=t.length;){sh.lastIndex=s;const l=sh.exec(t),u=l&&"index"in l?l.index:t.length;r.push(mg(t.slice(s,u).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),s===0?e.breakBefore:!0,u===t.length?e.breakAfter:!0)),s=u+1}let a=-1,o;for(;++a<r.length;)r[a].charCodeAt(r[a].length-1)===8203||a<r.length-1&&r[a+1].charCodeAt(0)===8203?(i.push(r[a]),o=void 0):r[a]?(typeof o=="number"&&i.push(o),i.push(r[a]),o=0):(a===0||a===r.length-1)&&i.push(0);return i}function pg(n){return[String(n.value)]}function mg(n,e,t){const r=[];let i=0,s;for(;i<n.length;){ah.lastIndex=i;const a=ah.exec(n);s=a?a.index:n.length,!i&&!s&&a&&!e&&r.push(""),i!==s&&r.push(n.slice(i,s)),i=a?s+a[0].length:s}return i!==s&&!t&&r.push(""),r.join(" ")}function h5(n,e){if(n.type==="element"){const t=n.properties||{};switch(n.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return t.wrap?"pre-wrap":"pre";case"td":case"th":return t.noWrap?"nowrap":e.whitespace;case"textarea":return"pre-wrap"}}return e.whitespace}function gg(n){return!!(n.properties||{}).hidden}function Eg(n){return n.tagName==="dialog"&&!(n.properties||{}).open}const si={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};class ja{constructor(e,t,r){this.property=e,this.normal=t,r&&(this.space=r)}}ja.prototype.property={};ja.prototype.normal={};ja.prototype.space=null;function f5(n,e){const t={},r={};let i=-1;for(;++i<n.length;)Object.assign(t,n[i].property),Object.assign(r,n[i].normal);return new ja(t,r,e)}function Va(n){return n.toLowerCase()}class ir{constructor(e,t){this.property=e,this.attribute=t}}ir.prototype.space=null;ir.prototype.boolean=!1;ir.prototype.booleanish=!1;ir.prototype.overloadedBoolean=!1;ir.prototype.number=!1;ir.prototype.commaSeparated=!1;ir.prototype.spaceSeparated=!1;ir.prototype.commaOrSpaceSeparated=!1;ir.prototype.mustUseProperty=!1;ir.prototype.defined=!1;let Tg=0;const lt=Es(),jt=Es(),d5=Es(),_e=Es(),Lt=Es(),js=Es(),zn=Es();function Es(){return 2**++Tg}const Wl=Object.freeze(Object.defineProperty({__proto__:null,boolean:lt,booleanish:jt,commaOrSpaceSeparated:zn,commaSeparated:js,number:_e,overloadedBoolean:d5,spaceSeparated:Lt},Symbol.toStringTag,{value:"Module"})),S0=Object.keys(Wl);class Lu extends ir{constructor(e,t,r,i){let s=-1;if(super(e,t),uh(this,"space",i),typeof r=="number")for(;++s<S0.length;){const a=S0[s];uh(this,S0[s],(r&Wl[a])===Wl[a])}}}Lu.prototype.defined=!0;function uh(n,e,t){t&&(n[e]=t)}const _g={}.hasOwnProperty;function oa(n){const e={},t={};let r;for(r in n.properties)if(_g.call(n.properties,r)){const i=n.properties[r],s=new Lu(r,n.transform(n.attributes||{},r),i,n.space);n.mustUseProperty&&n.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,t[Va(r)]=r,t[Va(s.attribute)]=r}return new ja(e,t,n.space)}const p5=oa({space:"xlink",transform(n,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),m5=oa({space:"xml",transform(n,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function g5(n,e){return e in n?n[e]:e}function E5(n,e){return g5(n,e.toLowerCase())}const T5=oa({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:E5,properties:{xmlns:null,xmlnsXLink:null}}),_5=oa({transform(n,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:jt,ariaAutoComplete:null,ariaBusy:jt,ariaChecked:jt,ariaColCount:_e,ariaColIndex:_e,ariaColSpan:_e,ariaControls:Lt,ariaCurrent:null,ariaDescribedBy:Lt,ariaDetails:null,ariaDisabled:jt,ariaDropEffect:Lt,ariaErrorMessage:null,ariaExpanded:jt,ariaFlowTo:Lt,ariaGrabbed:jt,ariaHasPopup:null,ariaHidden:jt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Lt,ariaLevel:_e,ariaLive:null,ariaModal:jt,ariaMultiLine:jt,ariaMultiSelectable:jt,ariaOrientation:null,ariaOwns:Lt,ariaPlaceholder:null,ariaPosInSet:_e,ariaPressed:jt,ariaReadOnly:jt,ariaRelevant:null,ariaRequired:jt,ariaRoleDescription:Lt,ariaRowCount:_e,ariaRowIndex:_e,ariaRowSpan:_e,ariaSelected:jt,ariaSetSize:_e,ariaSort:null,ariaValueMax:_e,ariaValueMin:_e,ariaValueNow:_e,ariaValueText:null,role:null}}),vg=oa({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:E5,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:js,acceptCharset:Lt,accessKey:Lt,action:null,allow:null,allowFullScreen:lt,allowPaymentRequest:lt,allowUserMedia:lt,alt:null,as:null,async:lt,autoCapitalize:null,autoComplete:Lt,autoFocus:lt,autoPlay:lt,capture:lt,charSet:null,checked:lt,cite:null,className:Lt,cols:_e,colSpan:null,content:null,contentEditable:jt,controls:lt,controlsList:Lt,coords:_e|js,crossOrigin:null,data:null,dateTime:null,decoding:null,default:lt,defer:lt,dir:null,dirName:null,disabled:lt,download:d5,draggable:jt,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:lt,formTarget:null,headers:Lt,height:_e,hidden:lt,high:_e,href:null,hrefLang:null,htmlFor:Lt,httpEquiv:Lt,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:lt,itemId:null,itemProp:Lt,itemRef:Lt,itemScope:lt,itemType:Lt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:lt,low:_e,manifest:null,max:null,maxLength:_e,media:null,method:null,min:null,minLength:_e,multiple:lt,muted:lt,name:null,nonce:null,noModule:lt,noValidate:lt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:lt,optimum:_e,pattern:null,ping:Lt,placeholder:null,playsInline:lt,poster:null,preload:null,readOnly:lt,referrerPolicy:null,rel:Lt,required:lt,reversed:lt,rows:_e,rowSpan:_e,sandbox:Lt,scope:null,scoped:lt,seamless:lt,selected:lt,shape:null,size:_e,sizes:null,slot:null,span:_e,spellCheck:jt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:_e,step:null,style:null,tabIndex:_e,target:null,title:null,translate:null,type:null,typeMustMatch:lt,useMap:null,value:jt,width:_e,wrap:null,align:null,aLink:null,archive:Lt,axis:null,background:null,bgColor:null,border:_e,borderColor:null,bottomMargin:_e,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:lt,declare:lt,event:null,face:null,frame:null,frameBorder:null,hSpace:_e,leftMargin:_e,link:null,longDesc:null,lowSrc:null,marginHeight:_e,marginWidth:_e,noResize:lt,noHref:lt,noShade:lt,noWrap:lt,object:null,profile:null,prompt:null,rev:null,rightMargin:_e,rules:null,scheme:null,scrolling:jt,standby:null,summary:null,text:null,topMargin:_e,valueType:null,version:null,vAlign:null,vLink:null,vSpace:_e,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:lt,disableRemotePlayback:lt,prefix:null,property:null,results:_e,security:null,unselectable:null}}),xg=oa({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:g5,properties:{about:zn,accentHeight:_e,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:_e,amplitude:_e,arabicForm:null,ascent:_e,attributeName:null,attributeType:null,azimuth:_e,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:_e,by:null,calcMode:null,capHeight:_e,className:Lt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:_e,diffuseConstant:_e,direction:null,display:null,dur:null,divisor:_e,dominantBaseline:null,download:lt,dx:null,dy:null,edgeMode:null,editable:null,elevation:_e,enableBackground:null,end:null,event:null,exponent:_e,externalResourcesRequired:null,fill:null,fillOpacity:_e,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:js,g2:js,glyphName:js,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:_e,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:_e,horizOriginX:_e,horizOriginY:_e,id:null,ideographic:_e,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:_e,k:_e,k1:_e,k2:_e,k3:_e,k4:_e,kernelMatrix:zn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:_e,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:_e,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:_e,overlineThickness:_e,paintOrder:null,panose1:null,path:null,pathLength:_e,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Lt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:_e,pointsAtY:_e,pointsAtZ:_e,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:zn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:zn,rev:zn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:zn,requiredFeatures:zn,requiredFonts:zn,requiredFormats:zn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:_e,specularExponent:_e,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:_e,strikethroughThickness:_e,string:null,stroke:null,strokeDashArray:zn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:_e,strokeOpacity:_e,strokeWidth:null,style:null,surfaceScale:_e,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:zn,tabIndex:_e,tableValues:null,target:null,targetX:_e,targetY:_e,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:zn,to:null,transform:null,u1:null,u2:null,underlinePosition:_e,underlineThickness:_e,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:_e,values:null,vAlphabetic:_e,vMathematical:_e,vectorEffect:null,vHanging:_e,vIdeographic:_e,version:null,vertAdvY:_e,vertOriginX:_e,vertOriginY:_e,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:_e,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Ag=/^data[-\w.:]+$/i,ch=/-[a-z]/g,yg=/[A-Z]/g;function B1(n,e){const t=Va(e);let r=e,i=ir;if(t in n.normal)return n.property[n.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&Ag.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(ch,bg);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!ch.test(s)){let a=s.replace(yg,Sg);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=Lu}return new i(r,e)}function Sg(n){return"-"+n.toLowerCase()}function bg(n){return n.charAt(1).toUpperCase()}const Mg={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Qa=f5([m5,p5,T5,_5,vg],"html"),Ts=f5([m5,p5,T5,_5,xg],"svg"),hh=/[#.]/g;function Cg(n,e){const t=n||"",r={};let i=0,s,a;for(;i<t.length;){hh.lastIndex=i;const o=hh.exec(t),l=t.slice(i,o?o.index:t.length);l&&(s?s==="#"?r.id=l:Array.isArray(r.className)?r.className.push(l):r.className=[l]:a=l,i+=l.length),o&&(s=o[0],i++)}return{type:"element",tagName:a||e||"div",properties:r,children:[]}}function fh(n){const e=String(n||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function v5(n){return n.join(" ").trim()}function dh(n){const e=[],t=String(n||"");let r=t.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=t.length,s=!0);const a=t.slice(i,r).trim();(a||!s)&&e.push(a),i=r+1,r=t.indexOf(",",i)}return e}function x5(n,e){const t=e||{};return(n[n.length-1]===""?[...n,""]:n).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const Dg=new Set(["menu","submit","reset","button"]),ql={}.hasOwnProperty;function A5(n,e,t){const r=t&&Ig(t);return function(s,a,...o){let l=-1,u;if(s==null)u={type:"root",children:[]},o.unshift(a);else if(u=Cg(s,e),u.tagName=u.tagName.toLowerCase(),r&&ql.call(r,u.tagName)&&(u.tagName=r[u.tagName]),wg(a,u.tagName)){let c;for(c in a)ql.call(a,c)&&Rg(n,u.properties,c,a[c])}else o.unshift(a);for(;++l<o.length;)Xl(u.children,o[l]);return u.type==="element"&&u.tagName==="template"&&(u.content={type:"root",children:u.children},u.children=[]),u}}function wg(n,e){return n==null||typeof n!="object"||Array.isArray(n)?!1:e==="input"||!n.type||typeof n.type!="string"?!0:"children"in n&&Array.isArray(n.children)?!1:e==="button"?Dg.has(n.type.toLowerCase()):!("value"in n)}function Rg(n,e,t,r){const i=B1(n,t);let s=-1,a;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;a=r}else typeof r=="boolean"?a=r:typeof r=="string"?i.spaceSeparated?a=fh(r):i.commaSeparated?a=dh(r):i.commaOrSpaceSeparated?a=fh(dh(r).join(" ")):a=ph(i,i.property,r):Array.isArray(r)?a=r.concat():a=i.property==="style"?Ng(r):String(r);if(Array.isArray(a)){const o=[];for(;++s<a.length;)o[s]=ph(i,i.property,a[s]);a=o}i.property==="className"&&Array.isArray(e.className)&&(a=e.className.concat(a)),e[i.property]=a}}function Xl(n,e){let t=-1;if(e!=null)if(typeof e=="string"||typeof e=="number")n.push({type:"text",value:String(e)});else if(Array.isArray(e))for(;++t<e.length;)Xl(n,e[t]);else if(typeof e=="object"&&"type"in e)e.type==="root"?Xl(n,e.children):n.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function ph(n,e,t){if(typeof t=="string"){if(n.number&&t&&!Number.isNaN(Number(t)))return Number(t);if((n.boolean||n.overloadedBoolean)&&(t===""||Va(t)===Va(e)))return!0}return t}function Ng(n){const e=[];let t;for(t in n)ql.call(n,t)&&e.push([t,n[t]].join(": "));return e.join("; ")}function Ig(n){const e={};let t=-1;for(;++t<n.length;)e[n[t].toLowerCase()]=n[t];return e}const ai=A5(Qa,"div"),Lg=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],y5=A5(Ts,"g",Lg);function Fg(n,e){return(n?S5(n,e||{}):void 0)||{type:"root",children:[]}}function S5(n,e){const t=Pg(n,e);return t&&e.afterTransform&&e.afterTransform(n,t),t}function Pg(n,e){switch(n.nodeType){case 1:return Ug(n,e);case 3:return kg(n);case 8:return Bg(n);case 9:return mh(n,e);case 10:return Og();case 11:return mh(n,e);default:return}}function mh(n,e){return{type:"root",children:b5(n,e)}}function Og(){return{type:"doctype"}}function kg(n){return{type:"text",value:n.nodeValue||""}}function Bg(n){return{type:"comment",value:n.nodeValue||""}}function Ug(n,e){const t=n.namespaceURI,r=t===si.svg?y5:ai,i=t===si.html?n.tagName.toLowerCase():n.tagName,s=t===si.html&&i==="template"?n.content:n,a=n.getAttributeNames(),o={};let l=-1;for(;++l<a.length;)o[a[l]]=n.getAttribute(a[l])||"";return r(i,o,b5(s,e))}function b5(n,e){const t=n.childNodes,r=[];let i=-1;for(;++i<t.length;){const s=S5(t[i],e);s!==void 0&&r.push(s)}return r}const zg=new DOMParser;function Hg(n,e){const t=e!=null&&e.fragment?Gg(n):zg.parseFromString(n,"text/html");return Fg(t)}function Gg(n){const e=document.createElement("template");return e.innerHTML=n,e.content}const gh=Object.assign,Vg="rehype-katex";function Wg(n){const e=n||{},t=e.throwOnError||!1;return(r,i)=>{og(r,"element",s=>{const a=s.properties&&Array.isArray(s.properties.className)?s.properties.className:[],o=a.includes("math-inline"),l=a.includes("math-display");if(!o&&!l)return;const u=fg(s,{whitespace:"pre"});let c;try{c=nh.renderToString(u,gh({},e,{displayMode:l,throwOnError:!0}))}catch(f){const d=f,T=t?"fail":"message",E=[Vg,d.name.toLowerCase()].join(":");if(i[T](d.message,s.position,E),d.name!=="ParseError"){s.children=[{type:"element",tagName:"span",properties:{className:["katex-error"],title:String(d),style:"color:"+(e.errorColor||"#cc0000")},children:[{type:"text",value:u}]}];return}c=nh.renderToString(u,gh({},e,{displayMode:l,throwOnError:!1,strict:"ignore"}))}const h=Hg(c,{fragment:!0});s.children=h.children})}}var M5={exports:{}};(function(n){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var t=function(r){var i=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,s=0,a={},o={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function A(_){return _ instanceof l?new l(_.type,A(_.content),_.alias):Array.isArray(_)?_.map(A):_.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(A){return Object.prototype.toString.call(A).slice(8,-1)},objId:function(A){return A.__id||Object.defineProperty(A,"__id",{value:++s}),A.__id},clone:function A(_,D){D=D||{};var M,y;switch(o.util.type(_)){case"Object":if(y=o.util.objId(_),D[y])return D[y];M={},D[y]=M;for(var C in _)_.hasOwnProperty(C)&&(M[C]=A(_[C],D));return M;case"Array":return y=o.util.objId(_),D[y]?D[y]:(M=[],D[y]=M,_.forEach(function(B,S){M[S]=A(B,D)}),M);default:return _}},getLanguage:function(A){for(;A;){var _=i.exec(A.className);if(_)return _[1].toLowerCase();A=A.parentElement}return"none"},setLanguage:function(A,_){A.className=A.className.replace(RegExp(i,"gi"),""),A.classList.add("language-"+_)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(M){var A=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(M.stack)||[])[1];if(A){var _=document.getElementsByTagName("script");for(var D in _)if(_[D].src==A)return _[D]}return null}},isActive:function(A,_,D){for(var M="no-"+_;A;){var y=A.classList;if(y.contains(_))return!0;if(y.contains(M))return!1;A=A.parentElement}return!!D}},languages:{plain:a,plaintext:a,text:a,txt:a,extend:function(A,_){var D=o.util.clone(o.languages[A]);for(var M in _)D[M]=_[M];return D},insertBefore:function(A,_,D,M){M=M||o.languages;var y=M[A],C={};for(var B in y)if(y.hasOwnProperty(B)){if(B==_)for(var S in D)D.hasOwnProperty(S)&&(C[S]=D[S]);D.hasOwnProperty(B)||(C[B]=y[B])}var I=M[A];return M[A]=C,o.languages.DFS(o.languages,function(V,Y){Y===I&&V!=A&&(this[V]=C)}),C},DFS:function A(_,D,M,y){y=y||{};var C=o.util.objId;for(var B in _)if(_.hasOwnProperty(B)){D.call(_,B,_[B],M||B);var S=_[B],I=o.util.type(S);I==="Object"&&!y[C(S)]?(y[C(S)]=!0,A(S,D,null,y)):I==="Array"&&!y[C(S)]&&(y[C(S)]=!0,A(S,D,B,y))}}},plugins:{},highlightAll:function(A,_){o.highlightAllUnder(document,A,_)},highlightAllUnder:function(A,_,D){var M={callback:D,container:A,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",M),M.elements=Array.prototype.slice.apply(M.container.querySelectorAll(M.selector)),o.hooks.run("before-all-elements-highlight",M);for(var y=0,C;C=M.elements[y++];)o.highlightElement(C,_===!0,M.callback)},highlightElement:function(A,_,D){var M=o.util.getLanguage(A),y=o.languages[M];o.util.setLanguage(A,M);var C=A.parentElement;C&&C.nodeName.toLowerCase()==="pre"&&o.util.setLanguage(C,M);var B=A.textContent,S={element:A,language:M,grammar:y,code:B};function I(Y){S.highlightedCode=Y,o.hooks.run("before-insert",S),S.element.innerHTML=S.highlightedCode,o.hooks.run("after-highlight",S),o.hooks.run("complete",S),D&&D.call(S.element)}if(o.hooks.run("before-sanity-check",S),C=S.element.parentElement,C&&C.nodeName.toLowerCase()==="pre"&&!C.hasAttribute("tabindex")&&C.setAttribute("tabindex","0"),!S.code){o.hooks.run("complete",S),D&&D.call(S.element);return}if(o.hooks.run("before-highlight",S),!S.grammar){I(o.util.encode(S.code));return}if(_&&r.Worker){var V=new Worker(o.filename);V.onmessage=function(Y){I(Y.data)},V.postMessage(JSON.stringify({language:S.language,code:S.code,immediateClose:!0}))}else I(o.highlight(S.code,S.grammar,S.language))},highlight:function(A,_,D){var M={code:A,grammar:_,language:D};if(o.hooks.run("before-tokenize",M),!M.grammar)throw new Error('The language "'+M.language+'" has no grammar.');return M.tokens=o.tokenize(M.code,M.grammar),o.hooks.run("after-tokenize",M),l.stringify(o.util.encode(M.tokens),M.language)},tokenize:function(A,_){var D=_.rest;if(D){for(var M in D)_[M]=D[M];delete _.rest}var y=new h;return f(y,y.head,A),c(A,y,_,y.head,0),T(y)},hooks:{all:{},add:function(A,_){var D=o.hooks.all;D[A]=D[A]||[],D[A].push(_)},run:function(A,_){var D=o.hooks.all[A];if(!(!D||!D.length))for(var M=0,y;y=D[M++];)y(_)}},Token:l};r.Prism=o;function l(A,_,D,M){this.type=A,this.content=_,this.alias=D,this.length=(M||"").length|0}l.stringify=function A(_,D){if(typeof _=="string")return _;if(Array.isArray(_)){var M="";return _.forEach(function(I){M+=A(I,D)}),M}var y={type:_.type,content:A(_.content,D),tag:"span",classes:["token",_.type],attributes:{},language:D},C=_.alias;C&&(Array.isArray(C)?Array.prototype.push.apply(y.classes,C):y.classes.push(C)),o.hooks.run("wrap",y);var B="";for(var S in y.attributes)B+=" "+S+'="'+(y.attributes[S]||"").replace(/"/g,"&quot;")+'"';return"<"+y.tag+' class="'+y.classes.join(" ")+'"'+B+">"+y.content+"</"+y.tag+">"};function u(A,_,D,M){A.lastIndex=_;var y=A.exec(D);if(y&&M&&y[1]){var C=y[1].length;y.index+=C,y[0]=y[0].slice(C)}return y}function c(A,_,D,M,y,C){for(var B in D)if(!(!D.hasOwnProperty(B)||!D[B])){var S=D[B];S=Array.isArray(S)?S:[S];for(var I=0;I<S.length;++I){if(C&&C.cause==B+","+I)return;var V=S[I],Y=V.inside,X=!!V.lookbehind,j=!!V.greedy,q=V.alias;if(j&&!V.pattern.global){var he=V.pattern.toString().match(/[imsuy]*$/)[0];V.pattern=RegExp(V.pattern.source,he+"g")}for(var ae=V.pattern||V,ie=M.next,ce=y;ie!==_.tail&&!(C&&ce>=C.reach);ce+=ie.value.length,ie=ie.next){var R=ie.value;if(_.length>A.length)return;if(!(R instanceof l)){var K=1,re;if(j){if(re=u(ae,ce,A,X),!re||re.index>=A.length)break;var Ce=re.index,L=re.index+re[0].length,Ee=ce;for(Ee+=ie.value.length;Ce>=Ee;)ie=ie.next,Ee+=ie.value.length;if(Ee-=ie.value.length,ce=Ee,ie.value instanceof l)continue;for(var Ae=ie;Ae!==_.tail&&(Ee<L||typeof Ae.value=="string");Ae=Ae.next)K++,Ee+=Ae.value.length;K--,R=A.slice(ce,Ee),re.index-=ce}else if(re=u(ae,0,R,X),!re)continue;var Ce=re.index,ze=re[0],Ie=R.slice(0,Ce),it=R.slice(Ce+ze.length),vt=ce+R.length;C&&vt>C.reach&&(C.reach=vt);var Ke=ie.prev;Ie&&(Ke=f(_,Ke,Ie),ce+=Ie.length),d(_,Ke,K);var ee=new l(B,Y?o.tokenize(ze,Y):ze,q,ze);if(ie=f(_,Ke,ee),it&&f(_,ie,it),K>1){var Ft={cause:B+","+I,reach:vt};c(A,_,D,ie.prev,ce,Ft),C&&Ft.reach>C.reach&&(C.reach=Ft.reach)}}}}}}function h(){var A={value:null,prev:null,next:null},_={value:null,prev:A,next:null};A.next=_,this.head=A,this.tail=_,this.length=0}function f(A,_,D){var M=_.next,y={value:D,prev:_,next:M};return _.next=y,M.prev=y,A.length++,y}function d(A,_,D){for(var M=_.next,y=0;y<D&&M!==A.tail;y++)M=M.next;_.next=M,M.prev=_,A.length-=y}function T(A){for(var _=[],D=A.head.next;D!==A.tail;)_.push(D.value),D=D.next;return _}if(!r.document)return r.addEventListener&&(o.disableWorkerMessageHandler||r.addEventListener("message",function(A){var _=JSON.parse(A.data),D=_.language,M=_.code,y=_.immediateClose;r.postMessage(o.highlight(M,o.languages[D],D)),y&&r.close()},!1)),o;var E=o.util.currentScript();E&&(o.filename=E.src,E.hasAttribute("data-manual")&&(o.manual=!0));function g(){o.manual||o.highlightAll()}if(!o.manual){var p=document.readyState;p==="loading"||p==="interactive"&&E&&E.defer?document.addEventListener("DOMContentLoaded",g):window.requestAnimationFrame?window.requestAnimationFrame(g):window.setTimeout(g,16)}return o}(e);n.exports&&(n.exports=t),typeof Il<"u"&&(Il.Prism=t),t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(r){r.type==="entity"&&(r.attributes.title=r.content.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(i,s){var a={};a["language-"+s]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[s]},a.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:a}};o["language-"+s]={pattern:/[\s\S]+/,inside:t.languages[s]};var l={};l[i]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return i}),"i"),lookbehind:!0,greedy:!0,inside:o},t.languages.insertBefore("markup","cdata",l)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(r,i){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+r+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[i,"language-"+i],inside:t.languages[i]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml,function(r){var i=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;r.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+i.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+i.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+i.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+i.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:i,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},r.languages.css.atrule.inside.rest=r.languages.css;var s=r.languages.markup;s&&(s.tag.addInlined("style","css"),s.tag.addAttribute("style","css"))}(t),t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript,function(){if(typeof t>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var r="Loading…",i=function(E,g){return"✖ Error "+E+" while fetching file: "+g},s="✖ Error: File does not exist or is empty",a={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},o="data-src-status",l="loading",u="loaded",c="failed",h="pre[data-src]:not(["+o+'="'+u+'"]):not(['+o+'="'+l+'"])';function f(E,g,p){var A=new XMLHttpRequest;A.open("GET",E,!0),A.onreadystatechange=function(){A.readyState==4&&(A.status<400&&A.responseText?g(A.responseText):A.status>=400?p(i(A.status,A.statusText)):p(s))},A.send(null)}function d(E){var g=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(E||"");if(g){var p=Number(g[1]),A=g[2],_=g[3];return A?_?[p,Number(_)]:[p,void 0]:[p,p]}}t.hooks.add("before-highlightall",function(E){E.selector+=", "+h}),t.hooks.add("before-sanity-check",function(E){var g=E.element;if(g.matches(h)){E.code="",g.setAttribute(o,l);var p=g.appendChild(document.createElement("CODE"));p.textContent=r;var A=g.getAttribute("data-src"),_=E.language;if(_==="none"){var D=(/\.(\w+)$/.exec(A)||[,"none"])[1];_=a[D]||D}t.util.setLanguage(p,_),t.util.setLanguage(g,_);var M=t.plugins.autoloader;M&&M.loadLanguages(_),f(A,function(y){g.setAttribute(o,u);var C=d(g.getAttribute("data-range"));if(C){var B=y.split(/\r\n?|\n/g),S=C[0],I=C[1]==null?B.length:C[1];S<0&&(S+=B.length),S=Math.max(0,Math.min(S-1,B.length)),I<0&&(I+=B.length),I=Math.max(0,Math.min(I,B.length)),y=B.slice(S,I).join(`
`),g.hasAttribute("data-start")||g.setAttribute("data-start",String(S+1))}p.textContent=y,t.highlightElement(p)},function(y){g.setAttribute(o,c),p.textContent=y})}}),t.plugins.fileHighlight={highlight:function(g){for(var p=(g||document).querySelectorAll(h),A=0,_;_=p[A++];)t.highlightElement(_)}};var T=!1;t.fileHighlight=function(){T||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),T=!0),t.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(M5);var qg=M5.exports;const b0=Gi(qg);const Xg=!0,Eh=!1,Yg="skip",Kg=function(n,e,t,r){typeof e=="function"&&typeof t!="function"&&(r=t,t=e,e=null);const i=di(e),s=r?-1:1;a(n,void 0,[])();function a(o,l,u){const c=o&&typeof o=="object"?o:{};if(typeof c.type=="string"){const f=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(o.type+(f?"<"+f+">":""))+")"})}return h;function h(){let f=[],d,T,E;if((!e||i(o,l,u[u.length-1]||null))&&(f=$g(t(o,u)),f[0]===Eh))return f;if(o.children&&f[0]!==Yg)for(T=(r?o.children.length:-1)+s,E=u.concat(o);T>-1&&T<o.children.length;){if(d=a(o.children[T],T,E)(),d[0]===Eh)return d;T=typeof d[1]=="number"?d[1]:T+s}return f}}};function $g(n){return Array.isArray(n)?n:typeof n=="number"?[Xg,n]:[n]}const jg=function(n,e,t,r){typeof e=="function"&&typeof t!="function"&&(r=t,t=e,e=null),Kg(n,e,i,r);function i(s,a){const o=a[a.length-1];return t(s,o?o.children.indexOf(s):null,o)}};function Fu(n){return!!n&&n.type==="element"&&"tagName"in n}function Qg(){return n=>Fu(n)&&n.tagName==="pre"}var vr={};const Zg=[65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111];vr.REPLACEMENT_CHARACTER="�";vr.CODE_POINTS={EOF:-1,NULL:0,TABULATION:9,CARRIAGE_RETURN:13,LINE_FEED:10,FORM_FEED:12,SPACE:32,EXCLAMATION_MARK:33,QUOTATION_MARK:34,NUMBER_SIGN:35,AMPERSAND:38,APOSTROPHE:39,HYPHEN_MINUS:45,SOLIDUS:47,DIGIT_0:48,DIGIT_9:57,SEMICOLON:59,LESS_THAN_SIGN:60,EQUALS_SIGN:61,GREATER_THAN_SIGN:62,QUESTION_MARK:63,LATIN_CAPITAL_A:65,LATIN_CAPITAL_F:70,LATIN_CAPITAL_X:88,LATIN_CAPITAL_Z:90,RIGHT_SQUARE_BRACKET:93,GRAVE_ACCENT:96,LATIN_SMALL_A:97,LATIN_SMALL_F:102,LATIN_SMALL_X:120,LATIN_SMALL_Z:122,REPLACEMENT_CHARACTER:65533};vr.CODE_POINT_SEQUENCES={DASH_DASH_STRING:[45,45],DOCTYPE_STRING:[68,79,67,84,89,80,69],CDATA_START_STRING:[91,67,68,65,84,65,91],SCRIPT_STRING:[115,99,114,105,112,116],PUBLIC_STRING:[80,85,66,76,73,67],SYSTEM_STRING:[83,89,83,84,69,77]};vr.isSurrogate=function(n){return n>=55296&&n<=57343};vr.isSurrogatePair=function(n){return n>=56320&&n<=57343};vr.getSurrogatePairCodePoint=function(n,e){return(n-55296)*1024+9216+e};vr.isControlCodePoint=function(n){return n!==32&&n!==10&&n!==13&&n!==9&&n!==12&&n>=1&&n<=31||n>=127&&n<=159};vr.isUndefinedCodePoint=function(n){return n>=64976&&n<=65007||Zg.indexOf(n)>-1};var Pu={controlCharacterInInputStream:"control-character-in-input-stream",noncharacterInInputStream:"noncharacter-in-input-stream",surrogateInInputStream:"surrogate-in-input-stream",nonVoidHtmlElementStartTagWithTrailingSolidus:"non-void-html-element-start-tag-with-trailing-solidus",endTagWithAttributes:"end-tag-with-attributes",endTagWithTrailingSolidus:"end-tag-with-trailing-solidus",unexpectedSolidusInTag:"unexpected-solidus-in-tag",unexpectedNullCharacter:"unexpected-null-character",unexpectedQuestionMarkInsteadOfTagName:"unexpected-question-mark-instead-of-tag-name",invalidFirstCharacterOfTagName:"invalid-first-character-of-tag-name",unexpectedEqualsSignBeforeAttributeName:"unexpected-equals-sign-before-attribute-name",missingEndTagName:"missing-end-tag-name",unexpectedCharacterInAttributeName:"unexpected-character-in-attribute-name",unknownNamedCharacterReference:"unknown-named-character-reference",missingSemicolonAfterCharacterReference:"missing-semicolon-after-character-reference",unexpectedCharacterAfterDoctypeSystemIdentifier:"unexpected-character-after-doctype-system-identifier",unexpectedCharacterInUnquotedAttributeValue:"unexpected-character-in-unquoted-attribute-value",eofBeforeTagName:"eof-before-tag-name",eofInTag:"eof-in-tag",missingAttributeValue:"missing-attribute-value",missingWhitespaceBetweenAttributes:"missing-whitespace-between-attributes",missingWhitespaceAfterDoctypePublicKeyword:"missing-whitespace-after-doctype-public-keyword",missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:"missing-whitespace-between-doctype-public-and-system-identifiers",missingWhitespaceAfterDoctypeSystemKeyword:"missing-whitespace-after-doctype-system-keyword",missingQuoteBeforeDoctypePublicIdentifier:"missing-quote-before-doctype-public-identifier",missingQuoteBeforeDoctypeSystemIdentifier:"missing-quote-before-doctype-system-identifier",missingDoctypePublicIdentifier:"missing-doctype-public-identifier",missingDoctypeSystemIdentifier:"missing-doctype-system-identifier",abruptDoctypePublicIdentifier:"abrupt-doctype-public-identifier",abruptDoctypeSystemIdentifier:"abrupt-doctype-system-identifier",cdataInHtmlContent:"cdata-in-html-content",incorrectlyOpenedComment:"incorrectly-opened-comment",eofInScriptHtmlCommentLikeText:"eof-in-script-html-comment-like-text",eofInDoctype:"eof-in-doctype",nestedComment:"nested-comment",abruptClosingOfEmptyComment:"abrupt-closing-of-empty-comment",eofInComment:"eof-in-comment",incorrectlyClosedComment:"incorrectly-closed-comment",eofInCdata:"eof-in-cdata",absenceOfDigitsInNumericCharacterReference:"absence-of-digits-in-numeric-character-reference",nullCharacterReference:"null-character-reference",surrogateCharacterReference:"surrogate-character-reference",characterReferenceOutsideUnicodeRange:"character-reference-outside-unicode-range",controlCharacterReference:"control-character-reference",noncharacterCharacterReference:"noncharacter-character-reference",missingWhitespaceBeforeDoctypeName:"missing-whitespace-before-doctype-name",missingDoctypeName:"missing-doctype-name",invalidCharacterSequenceAfterDoctypeName:"invalid-character-sequence-after-doctype-name",duplicateAttribute:"duplicate-attribute",nonConformingDoctype:"non-conforming-doctype",missingDoctype:"missing-doctype",misplacedDoctype:"misplaced-doctype",endTagWithoutMatchingOpenElement:"end-tag-without-matching-open-element",closingOfElementWithOpenChildElements:"closing-of-element-with-open-child-elements",disallowedContentInNoscriptInHead:"disallowed-content-in-noscript-in-head",openElementsLeftAfterEof:"open-elements-left-after-eof",abandonedHeadElementChild:"abandoned-head-element-child",misplacedStartTagForHeadElement:"misplaced-start-tag-for-head-element",nestedNoscriptInHead:"nested-noscript-in-head",eofInElementThatCanContainOnlyText:"eof-in-element-that-can-contain-only-text"};const Hs=vr,M0=Pu,ji=Hs.CODE_POINTS,Jg=65536;let e8=class{constructor(){this.html=null,this.pos=-1,this.lastGapPos=-1,this.lastCharPos=-1,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=Jg}_err(){}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.lastCharPos){const t=this.html.charCodeAt(this.pos+1);if(Hs.isSurrogatePair(t))return this.pos++,this._addGap(),Hs.getSurrogatePairCodePoint(e,t)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,ji.EOF;return this._err(M0.surrogateInInputStream),e}dropParsedChunk(){this.pos>this.bufferWaterline&&(this.lastCharPos-=this.pos,this.html=this.html.substring(this.pos),this.pos=0,this.lastGapPos=-1,this.gapStack=[])}write(e,t){this.html?this.html+=e:this.html=e,this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1,this.lastChunkWritten=t}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1,this.html.length),this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1}advance(){if(this.pos++,this.pos>this.lastCharPos)return this.endOfChunkHit=!this.lastChunkWritten,ji.EOF;let e=this.html.charCodeAt(this.pos);return this.skipNextNewLine&&e===ji.LINE_FEED?(this.skipNextNewLine=!1,this._addGap(),this.advance()):e===ji.CARRIAGE_RETURN?(this.skipNextNewLine=!0,ji.LINE_FEED):(this.skipNextNewLine=!1,Hs.isSurrogate(e)&&(e=this._processSurrogate(e)),e>31&&e<127||e===ji.LINE_FEED||e===ji.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){Hs.isControlCodePoint(e)?this._err(M0.controlCharacterInInputStream):Hs.isUndefinedCodePoint(e)&&this._err(M0.noncharacterInInputStream)}retreat(){this.pos===this.lastGapPos&&(this.lastGapPos=this.gapStack.pop(),this.pos--),this.pos--}};var t8=e8,n8=new Uint16Array([4,52,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,106,303,412,810,1432,1701,1796,1987,2114,2360,2420,2484,3170,3251,4140,4393,4575,4610,5106,5512,5728,6117,6274,6315,6345,6427,6516,7002,7910,8733,9323,9870,10170,10631,10893,11318,11386,11467,12773,13092,14474,14922,15448,15542,16419,17666,18166,18611,19004,19095,19298,19397,4,16,69,77,97,98,99,102,103,108,109,110,111,112,114,115,116,117,140,150,158,169,176,194,199,210,216,222,226,242,256,266,283,294,108,105,103,5,198,1,59,148,1,198,80,5,38,1,59,156,1,38,99,117,116,101,5,193,1,59,167,1,193,114,101,118,101,59,1,258,4,2,105,121,182,191,114,99,5,194,1,59,189,1,194,59,1,1040,114,59,3,55349,56580,114,97,118,101,5,192,1,59,208,1,192,112,104,97,59,1,913,97,99,114,59,1,256,100,59,1,10835,4,2,103,112,232,237,111,110,59,1,260,102,59,3,55349,56632,112,108,121,70,117,110,99,116,105,111,110,59,1,8289,105,110,103,5,197,1,59,264,1,197,4,2,99,115,272,277,114,59,3,55349,56476,105,103,110,59,1,8788,105,108,100,101,5,195,1,59,292,1,195,109,108,5,196,1,59,301,1,196,4,8,97,99,101,102,111,114,115,117,321,350,354,383,388,394,400,405,4,2,99,114,327,336,107,115,108,97,115,104,59,1,8726,4,2,118,119,342,345,59,1,10983,101,100,59,1,8966,121,59,1,1041,4,3,99,114,116,362,369,379,97,117,115,101,59,1,8757,110,111,117,108,108,105,115,59,1,8492,97,59,1,914,114,59,3,55349,56581,112,102,59,3,55349,56633,101,118,101,59,1,728,99,114,59,1,8492,109,112,101,113,59,1,8782,4,14,72,79,97,99,100,101,102,104,105,108,111,114,115,117,442,447,456,504,542,547,569,573,577,616,678,784,790,796,99,121,59,1,1063,80,89,5,169,1,59,454,1,169,4,3,99,112,121,464,470,497,117,116,101,59,1,262,4,2,59,105,476,478,1,8914,116,97,108,68,105,102,102,101,114,101,110,116,105,97,108,68,59,1,8517,108,101,121,115,59,1,8493,4,4,97,101,105,111,514,520,530,535,114,111,110,59,1,268,100,105,108,5,199,1,59,528,1,199,114,99,59,1,264,110,105,110,116,59,1,8752,111,116,59,1,266,4,2,100,110,553,560,105,108,108,97,59,1,184,116,101,114,68,111,116,59,1,183,114,59,1,8493,105,59,1,935,114,99,108,101,4,4,68,77,80,84,591,596,603,609,111,116,59,1,8857,105,110,117,115,59,1,8854,108,117,115,59,1,8853,105,109,101,115,59,1,8855,111,4,2,99,115,623,646,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8754,101,67,117,114,108,121,4,2,68,81,658,671,111,117,98,108,101,81,117,111,116,101,59,1,8221,117,111,116,101,59,1,8217,4,4,108,110,112,117,688,701,736,753,111,110,4,2,59,101,696,698,1,8759,59,1,10868,4,3,103,105,116,709,717,722,114,117,101,110,116,59,1,8801,110,116,59,1,8751,111,117,114,73,110,116,101,103,114,97,108,59,1,8750,4,2,102,114,742,745,59,1,8450,111,100,117,99,116,59,1,8720,110,116,101,114,67,108,111,99,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8755,111,115,115,59,1,10799,99,114,59,3,55349,56478,112,4,2,59,67,803,805,1,8915,97,112,59,1,8781,4,11,68,74,83,90,97,99,101,102,105,111,115,834,850,855,860,865,888,903,916,921,1011,1415,4,2,59,111,840,842,1,8517,116,114,97,104,100,59,1,10513,99,121,59,1,1026,99,121,59,1,1029,99,121,59,1,1039,4,3,103,114,115,873,879,883,103,101,114,59,1,8225,114,59,1,8609,104,118,59,1,10980,4,2,97,121,894,900,114,111,110,59,1,270,59,1,1044,108,4,2,59,116,910,912,1,8711,97,59,1,916,114,59,3,55349,56583,4,2,97,102,927,998,4,2,99,109,933,992,114,105,116,105,99,97,108,4,4,65,68,71,84,950,957,978,985,99,117,116,101,59,1,180,111,4,2,116,117,964,967,59,1,729,98,108,101,65,99,117,116,101,59,1,733,114,97,118,101,59,1,96,105,108,100,101,59,1,732,111,110,100,59,1,8900,102,101,114,101,110,116,105,97,108,68,59,1,8518,4,4,112,116,117,119,1021,1026,1048,1249,102,59,3,55349,56635,4,3,59,68,69,1034,1036,1041,1,168,111,116,59,1,8412,113,117,97,108,59,1,8784,98,108,101,4,6,67,68,76,82,85,86,1065,1082,1101,1189,1211,1236,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8751,111,4,2,116,119,1089,1092,59,1,168,110,65,114,114,111,119,59,1,8659,4,2,101,111,1107,1141,102,116,4,3,65,82,84,1117,1124,1136,114,114,111,119,59,1,8656,105,103,104,116,65,114,114,111,119,59,1,8660,101,101,59,1,10980,110,103,4,2,76,82,1149,1177,101,102,116,4,2,65,82,1158,1165,114,114,111,119,59,1,10232,105,103,104,116,65,114,114,111,119,59,1,10234,105,103,104,116,65,114,114,111,119,59,1,10233,105,103,104,116,4,2,65,84,1199,1206,114,114,111,119,59,1,8658,101,101,59,1,8872,112,4,2,65,68,1218,1225,114,114,111,119,59,1,8657,111,119,110,65,114,114,111,119,59,1,8661,101,114,116,105,99,97,108,66,97,114,59,1,8741,110,4,6,65,66,76,82,84,97,1264,1292,1299,1352,1391,1408,114,114,111,119,4,3,59,66,85,1276,1278,1283,1,8595,97,114,59,1,10515,112,65,114,114,111,119,59,1,8693,114,101,118,101,59,1,785,101,102,116,4,3,82,84,86,1310,1323,1334,105,103,104,116,86,101,99,116,111,114,59,1,10576,101,101,86,101,99,116,111,114,59,1,10590,101,99,116,111,114,4,2,59,66,1345,1347,1,8637,97,114,59,1,10582,105,103,104,116,4,2,84,86,1362,1373,101,101,86,101,99,116,111,114,59,1,10591,101,99,116,111,114,4,2,59,66,1384,1386,1,8641,97,114,59,1,10583,101,101,4,2,59,65,1399,1401,1,8868,114,114,111,119,59,1,8615,114,114,111,119,59,1,8659,4,2,99,116,1421,1426,114,59,3,55349,56479,114,111,107,59,1,272,4,16,78,84,97,99,100,102,103,108,109,111,112,113,115,116,117,120,1466,1470,1478,1489,1515,1520,1525,1536,1544,1593,1609,1617,1650,1664,1668,1677,71,59,1,330,72,5,208,1,59,1476,1,208,99,117,116,101,5,201,1,59,1487,1,201,4,3,97,105,121,1497,1503,1512,114,111,110,59,1,282,114,99,5,202,1,59,1510,1,202,59,1,1069,111,116,59,1,278,114,59,3,55349,56584,114,97,118,101,5,200,1,59,1534,1,200,101,109,101,110,116,59,1,8712,4,2,97,112,1550,1555,99,114,59,1,274,116,121,4,2,83,86,1563,1576,109,97,108,108,83,113,117,97,114,101,59,1,9723,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9643,4,2,103,112,1599,1604,111,110,59,1,280,102,59,3,55349,56636,115,105,108,111,110,59,1,917,117,4,2,97,105,1624,1640,108,4,2,59,84,1631,1633,1,10869,105,108,100,101,59,1,8770,108,105,98,114,105,117,109,59,1,8652,4,2,99,105,1656,1660,114,59,1,8496,109,59,1,10867,97,59,1,919,109,108,5,203,1,59,1675,1,203,4,2,105,112,1683,1689,115,116,115,59,1,8707,111,110,101,110,116,105,97,108,69,59,1,8519,4,5,99,102,105,111,115,1713,1717,1722,1762,1791,121,59,1,1060,114,59,3,55349,56585,108,108,101,100,4,2,83,86,1732,1745,109,97,108,108,83,113,117,97,114,101,59,1,9724,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9642,4,3,112,114,117,1770,1775,1781,102,59,3,55349,56637,65,108,108,59,1,8704,114,105,101,114,116,114,102,59,1,8497,99,114,59,1,8497,4,12,74,84,97,98,99,100,102,103,111,114,115,116,1822,1827,1834,1848,1855,1877,1882,1887,1890,1896,1978,1984,99,121,59,1,1027,5,62,1,59,1832,1,62,109,109,97,4,2,59,100,1843,1845,1,915,59,1,988,114,101,118,101,59,1,286,4,3,101,105,121,1863,1869,1874,100,105,108,59,1,290,114,99,59,1,284,59,1,1043,111,116,59,1,288,114,59,3,55349,56586,59,1,8921,112,102,59,3,55349,56638,101,97,116,101,114,4,6,69,70,71,76,83,84,1915,1933,1944,1953,1959,1971,113,117,97,108,4,2,59,76,1925,1927,1,8805,101,115,115,59,1,8923,117,108,108,69,113,117,97,108,59,1,8807,114,101,97,116,101,114,59,1,10914,101,115,115,59,1,8823,108,97,110,116,69,113,117,97,108,59,1,10878,105,108,100,101,59,1,8819,99,114,59,3,55349,56482,59,1,8811,4,8,65,97,99,102,105,111,115,117,2005,2012,2026,2032,2036,2049,2073,2089,82,68,99,121,59,1,1066,4,2,99,116,2018,2023,101,107,59,1,711,59,1,94,105,114,99,59,1,292,114,59,1,8460,108,98,101,114,116,83,112,97,99,101,59,1,8459,4,2,112,114,2055,2059,102,59,1,8461,105,122,111,110,116,97,108,76,105,110,101,59,1,9472,4,2,99,116,2079,2083,114,59,1,8459,114,111,107,59,1,294,109,112,4,2,68,69,2097,2107,111,119,110,72,117,109,112,59,1,8782,113,117,97,108,59,1,8783,4,14,69,74,79,97,99,100,102,103,109,110,111,115,116,117,2144,2149,2155,2160,2171,2189,2194,2198,2209,2245,2307,2329,2334,2341,99,121,59,1,1045,108,105,103,59,1,306,99,121,59,1,1025,99,117,116,101,5,205,1,59,2169,1,205,4,2,105,121,2177,2186,114,99,5,206,1,59,2184,1,206,59,1,1048,111,116,59,1,304,114,59,1,8465,114,97,118,101,5,204,1,59,2207,1,204,4,3,59,97,112,2217,2219,2238,1,8465,4,2,99,103,2225,2229,114,59,1,298,105,110,97,114,121,73,59,1,8520,108,105,101,115,59,1,8658,4,2,116,118,2251,2281,4,2,59,101,2257,2259,1,8748,4,2,103,114,2265,2271,114,97,108,59,1,8747,115,101,99,116,105,111,110,59,1,8898,105,115,105,98,108,101,4,2,67,84,2293,2300,111,109,109,97,59,1,8291,105,109,101,115,59,1,8290,4,3,103,112,116,2315,2320,2325,111,110,59,1,302,102,59,3,55349,56640,97,59,1,921,99,114,59,1,8464,105,108,100,101,59,1,296,4,2,107,109,2347,2352,99,121,59,1,1030,108,5,207,1,59,2358,1,207,4,5,99,102,111,115,117,2372,2386,2391,2397,2414,4,2,105,121,2378,2383,114,99,59,1,308,59,1,1049,114,59,3,55349,56589,112,102,59,3,55349,56641,4,2,99,101,2403,2408,114,59,3,55349,56485,114,99,121,59,1,1032,107,99,121,59,1,1028,4,7,72,74,97,99,102,111,115,2436,2441,2446,2452,2467,2472,2478,99,121,59,1,1061,99,121,59,1,1036,112,112,97,59,1,922,4,2,101,121,2458,2464,100,105,108,59,1,310,59,1,1050,114,59,3,55349,56590,112,102,59,3,55349,56642,99,114,59,3,55349,56486,4,11,74,84,97,99,101,102,108,109,111,115,116,2508,2513,2520,2562,2585,2981,2986,3004,3011,3146,3167,99,121,59,1,1033,5,60,1,59,2518,1,60,4,5,99,109,110,112,114,2532,2538,2544,2548,2558,117,116,101,59,1,313,98,100,97,59,1,923,103,59,1,10218,108,97,99,101,116,114,102,59,1,8466,114,59,1,8606,4,3,97,101,121,2570,2576,2582,114,111,110,59,1,317,100,105,108,59,1,315,59,1,1051,4,2,102,115,2591,2907,116,4,10,65,67,68,70,82,84,85,86,97,114,2614,2663,2672,2728,2735,2760,2820,2870,2888,2895,4,2,110,114,2620,2633,103,108,101,66,114,97,99,107,101,116,59,1,10216,114,111,119,4,3,59,66,82,2644,2646,2651,1,8592,97,114,59,1,8676,105,103,104,116,65,114,114,111,119,59,1,8646,101,105,108,105,110,103,59,1,8968,111,4,2,117,119,2679,2692,98,108,101,66,114,97,99,107,101,116,59,1,10214,110,4,2,84,86,2699,2710,101,101,86,101,99,116,111,114,59,1,10593,101,99,116,111,114,4,2,59,66,2721,2723,1,8643,97,114,59,1,10585,108,111,111,114,59,1,8970,105,103,104,116,4,2,65,86,2745,2752,114,114,111,119,59,1,8596,101,99,116,111,114,59,1,10574,4,2,101,114,2766,2792,101,4,3,59,65,86,2775,2777,2784,1,8867,114,114,111,119,59,1,8612,101,99,116,111,114,59,1,10586,105,97,110,103,108,101,4,3,59,66,69,2806,2808,2813,1,8882,97,114,59,1,10703,113,117,97,108,59,1,8884,112,4,3,68,84,86,2829,2841,2852,111,119,110,86,101,99,116,111,114,59,1,10577,101,101,86,101,99,116,111,114,59,1,10592,101,99,116,111,114,4,2,59,66,2863,2865,1,8639,97,114,59,1,10584,101,99,116,111,114,4,2,59,66,2881,2883,1,8636,97,114,59,1,10578,114,114,111,119,59,1,8656,105,103,104,116,97,114,114,111,119,59,1,8660,115,4,6,69,70,71,76,83,84,2922,2936,2947,2956,2962,2974,113,117,97,108,71,114,101,97,116,101,114,59,1,8922,117,108,108,69,113,117,97,108,59,1,8806,114,101,97,116,101,114,59,1,8822,101,115,115,59,1,10913,108,97,110,116,69,113,117,97,108,59,1,10877,105,108,100,101,59,1,8818,114,59,3,55349,56591,4,2,59,101,2992,2994,1,8920,102,116,97,114,114,111,119,59,1,8666,105,100,111,116,59,1,319,4,3,110,112,119,3019,3110,3115,103,4,4,76,82,108,114,3030,3058,3070,3098,101,102,116,4,2,65,82,3039,3046,114,114,111,119,59,1,10229,105,103,104,116,65,114,114,111,119,59,1,10231,105,103,104,116,65,114,114,111,119,59,1,10230,101,102,116,4,2,97,114,3079,3086,114,114,111,119,59,1,10232,105,103,104,116,97,114,114,111,119,59,1,10234,105,103,104,116,97,114,114,111,119,59,1,10233,102,59,3,55349,56643,101,114,4,2,76,82,3123,3134,101,102,116,65,114,114,111,119,59,1,8601,105,103,104,116,65,114,114,111,119,59,1,8600,4,3,99,104,116,3154,3158,3161,114,59,1,8466,59,1,8624,114,111,107,59,1,321,59,1,8810,4,8,97,99,101,102,105,111,115,117,3188,3192,3196,3222,3227,3237,3243,3248,112,59,1,10501,121,59,1,1052,4,2,100,108,3202,3213,105,117,109,83,112,97,99,101,59,1,8287,108,105,110,116,114,102,59,1,8499,114,59,3,55349,56592,110,117,115,80,108,117,115,59,1,8723,112,102,59,3,55349,56644,99,114,59,1,8499,59,1,924,4,9,74,97,99,101,102,111,115,116,117,3271,3276,3283,3306,3422,3427,4120,4126,4137,99,121,59,1,1034,99,117,116,101,59,1,323,4,3,97,101,121,3291,3297,3303,114,111,110,59,1,327,100,105,108,59,1,325,59,1,1053,4,3,103,115,119,3314,3380,3415,97,116,105,118,101,4,3,77,84,86,3327,3340,3365,101,100,105,117,109,83,112,97,99,101,59,1,8203,104,105,4,2,99,110,3348,3357,107,83,112,97,99,101,59,1,8203,83,112,97,99,101,59,1,8203,101,114,121,84,104,105,110,83,112,97,99,101,59,1,8203,116,101,100,4,2,71,76,3389,3405,114,101,97,116,101,114,71,114,101,97,116,101,114,59,1,8811,101,115,115,76,101,115,115,59,1,8810,76,105,110,101,59,1,10,114,59,3,55349,56593,4,4,66,110,112,116,3437,3444,3460,3464,114,101,97,107,59,1,8288,66,114,101,97,107,105,110,103,83,112,97,99,101,59,1,160,102,59,1,8469,4,13,59,67,68,69,71,72,76,78,80,82,83,84,86,3492,3494,3517,3536,3578,3657,3685,3784,3823,3860,3915,4066,4107,1,10988,4,2,111,117,3500,3510,110,103,114,117,101,110,116,59,1,8802,112,67,97,112,59,1,8813,111,117,98,108,101,86,101,114,116,105,99,97,108,66,97,114,59,1,8742,4,3,108,113,120,3544,3552,3571,101,109,101,110,116,59,1,8713,117,97,108,4,2,59,84,3561,3563,1,8800,105,108,100,101,59,3,8770,824,105,115,116,115,59,1,8708,114,101,97,116,101,114,4,7,59,69,70,71,76,83,84,3600,3602,3609,3621,3631,3637,3650,1,8815,113,117,97,108,59,1,8817,117,108,108,69,113,117,97,108,59,3,8807,824,114,101,97,116,101,114,59,3,8811,824,101,115,115,59,1,8825,108,97,110,116,69,113,117,97,108,59,3,10878,824,105,108,100,101,59,1,8821,117,109,112,4,2,68,69,3666,3677,111,119,110,72,117,109,112,59,3,8782,824,113,117,97,108,59,3,8783,824,101,4,2,102,115,3692,3724,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3709,3711,3717,1,8938,97,114,59,3,10703,824,113,117,97,108,59,1,8940,115,4,6,59,69,71,76,83,84,3739,3741,3748,3757,3764,3777,1,8814,113,117,97,108,59,1,8816,114,101,97,116,101,114,59,1,8824,101,115,115,59,3,8810,824,108,97,110,116,69,113,117,97,108,59,3,10877,824,105,108,100,101,59,1,8820,101,115,116,101,100,4,2,71,76,3795,3812,114,101,97,116,101,114,71,114,101,97,116,101,114,59,3,10914,824,101,115,115,76,101,115,115,59,3,10913,824,114,101,99,101,100,101,115,4,3,59,69,83,3838,3840,3848,1,8832,113,117,97,108,59,3,10927,824,108,97,110,116,69,113,117,97,108,59,1,8928,4,2,101,105,3866,3881,118,101,114,115,101,69,108,101,109,101,110,116,59,1,8716,103,104,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3900,3902,3908,1,8939,97,114,59,3,10704,824,113,117,97,108,59,1,8941,4,2,113,117,3921,3973,117,97,114,101,83,117,4,2,98,112,3933,3952,115,101,116,4,2,59,69,3942,3945,3,8847,824,113,117,97,108,59,1,8930,101,114,115,101,116,4,2,59,69,3963,3966,3,8848,824,113,117,97,108,59,1,8931,4,3,98,99,112,3981,4e3,4045,115,101,116,4,2,59,69,3990,3993,3,8834,8402,113,117,97,108,59,1,8840,99,101,101,100,115,4,4,59,69,83,84,4015,4017,4025,4037,1,8833,113,117,97,108,59,3,10928,824,108,97,110,116,69,113,117,97,108,59,1,8929,105,108,100,101,59,3,8831,824,101,114,115,101,116,4,2,59,69,4056,4059,3,8835,8402,113,117,97,108,59,1,8841,105,108,100,101,4,4,59,69,70,84,4080,4082,4089,4100,1,8769,113,117,97,108,59,1,8772,117,108,108,69,113,117,97,108,59,1,8775,105,108,100,101,59,1,8777,101,114,116,105,99,97,108,66,97,114,59,1,8740,99,114,59,3,55349,56489,105,108,100,101,5,209,1,59,4135,1,209,59,1,925,4,14,69,97,99,100,102,103,109,111,112,114,115,116,117,118,4170,4176,4187,4205,4212,4217,4228,4253,4259,4292,4295,4316,4337,4346,108,105,103,59,1,338,99,117,116,101,5,211,1,59,4185,1,211,4,2,105,121,4193,4202,114,99,5,212,1,59,4200,1,212,59,1,1054,98,108,97,99,59,1,336,114,59,3,55349,56594,114,97,118,101,5,210,1,59,4226,1,210,4,3,97,101,105,4236,4241,4246,99,114,59,1,332,103,97,59,1,937,99,114,111,110,59,1,927,112,102,59,3,55349,56646,101,110,67,117,114,108,121,4,2,68,81,4272,4285,111,117,98,108,101,81,117,111,116,101,59,1,8220,117,111,116,101,59,1,8216,59,1,10836,4,2,99,108,4301,4306,114,59,3,55349,56490,97,115,104,5,216,1,59,4314,1,216,105,4,2,108,109,4323,4332,100,101,5,213,1,59,4330,1,213,101,115,59,1,10807,109,108,5,214,1,59,4344,1,214,101,114,4,2,66,80,4354,4380,4,2,97,114,4360,4364,114,59,1,8254,97,99,4,2,101,107,4372,4375,59,1,9182,101,116,59,1,9140,97,114,101,110,116,104,101,115,105,115,59,1,9180,4,9,97,99,102,104,105,108,111,114,115,4413,4422,4426,4431,4435,4438,4448,4471,4561,114,116,105,97,108,68,59,1,8706,121,59,1,1055,114,59,3,55349,56595,105,59,1,934,59,1,928,117,115,77,105,110,117,115,59,1,177,4,2,105,112,4454,4467,110,99,97,114,101,112,108,97,110,101,59,1,8460,102,59,1,8473,4,4,59,101,105,111,4481,4483,4526,4531,1,10939,99,101,100,101,115,4,4,59,69,83,84,4498,4500,4507,4519,1,8826,113,117,97,108,59,1,10927,108,97,110,116,69,113,117,97,108,59,1,8828,105,108,100,101,59,1,8830,109,101,59,1,8243,4,2,100,112,4537,4543,117,99,116,59,1,8719,111,114,116,105,111,110,4,2,59,97,4555,4557,1,8759,108,59,1,8733,4,2,99,105,4567,4572,114,59,3,55349,56491,59,1,936,4,4,85,102,111,115,4585,4594,4599,4604,79,84,5,34,1,59,4592,1,34,114,59,3,55349,56596,112,102,59,1,8474,99,114,59,3,55349,56492,4,12,66,69,97,99,101,102,104,105,111,114,115,117,4636,4642,4650,4681,4704,4763,4767,4771,5047,5069,5081,5094,97,114,114,59,1,10512,71,5,174,1,59,4648,1,174,4,3,99,110,114,4658,4664,4668,117,116,101,59,1,340,103,59,1,10219,114,4,2,59,116,4675,4677,1,8608,108,59,1,10518,4,3,97,101,121,4689,4695,4701,114,111,110,59,1,344,100,105,108,59,1,342,59,1,1056,4,2,59,118,4710,4712,1,8476,101,114,115,101,4,2,69,85,4722,4748,4,2,108,113,4728,4736,101,109,101,110,116,59,1,8715,117,105,108,105,98,114,105,117,109,59,1,8651,112,69,113,117,105,108,105,98,114,105,117,109,59,1,10607,114,59,1,8476,111,59,1,929,103,104,116,4,8,65,67,68,70,84,85,86,97,4792,4840,4849,4905,4912,4972,5022,5040,4,2,110,114,4798,4811,103,108,101,66,114,97,99,107,101,116,59,1,10217,114,111,119,4,3,59,66,76,4822,4824,4829,1,8594,97,114,59,1,8677,101,102,116,65,114,114,111,119,59,1,8644,101,105,108,105,110,103,59,1,8969,111,4,2,117,119,4856,4869,98,108,101,66,114,97,99,107,101,116,59,1,10215,110,4,2,84,86,4876,4887,101,101,86,101,99,116,111,114,59,1,10589,101,99,116,111,114,4,2,59,66,4898,4900,1,8642,97,114,59,1,10581,108,111,111,114,59,1,8971,4,2,101,114,4918,4944,101,4,3,59,65,86,4927,4929,4936,1,8866,114,114,111,119,59,1,8614,101,99,116,111,114,59,1,10587,105,97,110,103,108,101,4,3,59,66,69,4958,4960,4965,1,8883,97,114,59,1,10704,113,117,97,108,59,1,8885,112,4,3,68,84,86,4981,4993,5004,111,119,110,86,101,99,116,111,114,59,1,10575,101,101,86,101,99,116,111,114,59,1,10588,101,99,116,111,114,4,2,59,66,5015,5017,1,8638,97,114,59,1,10580,101,99,116,111,114,4,2,59,66,5033,5035,1,8640,97,114,59,1,10579,114,114,111,119,59,1,8658,4,2,112,117,5053,5057,102,59,1,8477,110,100,73,109,112,108,105,101,115,59,1,10608,105,103,104,116,97,114,114,111,119,59,1,8667,4,2,99,104,5087,5091,114,59,1,8475,59,1,8625,108,101,68,101,108,97,121,101,100,59,1,10740,4,13,72,79,97,99,102,104,105,109,111,113,115,116,117,5134,5150,5157,5164,5198,5203,5259,5265,5277,5283,5374,5380,5385,4,2,67,99,5140,5146,72,99,121,59,1,1065,121,59,1,1064,70,84,99,121,59,1,1068,99,117,116,101,59,1,346,4,5,59,97,101,105,121,5176,5178,5184,5190,5195,1,10940,114,111,110,59,1,352,100,105,108,59,1,350,114,99,59,1,348,59,1,1057,114,59,3,55349,56598,111,114,116,4,4,68,76,82,85,5216,5227,5238,5250,111,119,110,65,114,114,111,119,59,1,8595,101,102,116,65,114,114,111,119,59,1,8592,105,103,104,116,65,114,114,111,119,59,1,8594,112,65,114,114,111,119,59,1,8593,103,109,97,59,1,931,97,108,108,67,105,114,99,108,101,59,1,8728,112,102,59,3,55349,56650,4,2,114,117,5289,5293,116,59,1,8730,97,114,101,4,4,59,73,83,85,5306,5308,5322,5367,1,9633,110,116,101,114,115,101,99,116,105,111,110,59,1,8851,117,4,2,98,112,5329,5347,115,101,116,4,2,59,69,5338,5340,1,8847,113,117,97,108,59,1,8849,101,114,115,101,116,4,2,59,69,5358,5360,1,8848,113,117,97,108,59,1,8850,110,105,111,110,59,1,8852,99,114,59,3,55349,56494,97,114,59,1,8902,4,4,98,99,109,112,5395,5420,5475,5478,4,2,59,115,5401,5403,1,8912,101,116,4,2,59,69,5411,5413,1,8912,113,117,97,108,59,1,8838,4,2,99,104,5426,5468,101,101,100,115,4,4,59,69,83,84,5440,5442,5449,5461,1,8827,113,117,97,108,59,1,10928,108,97,110,116,69,113,117,97,108,59,1,8829,105,108,100,101,59,1,8831,84,104,97,116,59,1,8715,59,1,8721,4,3,59,101,115,5486,5488,5507,1,8913,114,115,101,116,4,2,59,69,5498,5500,1,8835,113,117,97,108,59,1,8839,101,116,59,1,8913,4,11,72,82,83,97,99,102,104,105,111,114,115,5536,5546,5552,5567,5579,5602,5607,5655,5695,5701,5711,79,82,78,5,222,1,59,5544,1,222,65,68,69,59,1,8482,4,2,72,99,5558,5563,99,121,59,1,1035,121,59,1,1062,4,2,98,117,5573,5576,59,1,9,59,1,932,4,3,97,101,121,5587,5593,5599,114,111,110,59,1,356,100,105,108,59,1,354,59,1,1058,114,59,3,55349,56599,4,2,101,105,5613,5631,4,2,114,116,5619,5627,101,102,111,114,101,59,1,8756,97,59,1,920,4,2,99,110,5637,5647,107,83,112,97,99,101,59,3,8287,8202,83,112,97,99,101,59,1,8201,108,100,101,4,4,59,69,70,84,5668,5670,5677,5688,1,8764,113,117,97,108,59,1,8771,117,108,108,69,113,117,97,108,59,1,8773,105,108,100,101,59,1,8776,112,102,59,3,55349,56651,105,112,108,101,68,111,116,59,1,8411,4,2,99,116,5717,5722,114,59,3,55349,56495,114,111,107,59,1,358,4,14,97,98,99,100,102,103,109,110,111,112,114,115,116,117,5758,5789,5805,5823,5830,5835,5846,5852,5921,5937,6089,6095,6101,6108,4,2,99,114,5764,5774,117,116,101,5,218,1,59,5772,1,218,114,4,2,59,111,5781,5783,1,8607,99,105,114,59,1,10569,114,4,2,99,101,5796,5800,121,59,1,1038,118,101,59,1,364,4,2,105,121,5811,5820,114,99,5,219,1,59,5818,1,219,59,1,1059,98,108,97,99,59,1,368,114,59,3,55349,56600,114,97,118,101,5,217,1,59,5844,1,217,97,99,114,59,1,362,4,2,100,105,5858,5905,101,114,4,2,66,80,5866,5892,4,2,97,114,5872,5876,114,59,1,95,97,99,4,2,101,107,5884,5887,59,1,9183,101,116,59,1,9141,97,114,101,110,116,104,101,115,105,115,59,1,9181,111,110,4,2,59,80,5913,5915,1,8899,108,117,115,59,1,8846,4,2,103,112,5927,5932,111,110,59,1,370,102,59,3,55349,56652,4,8,65,68,69,84,97,100,112,115,5955,5985,5996,6009,6026,6033,6044,6075,114,114,111,119,4,3,59,66,68,5967,5969,5974,1,8593,97,114,59,1,10514,111,119,110,65,114,114,111,119,59,1,8645,111,119,110,65,114,114,111,119,59,1,8597,113,117,105,108,105,98,114,105,117,109,59,1,10606,101,101,4,2,59,65,6017,6019,1,8869,114,114,111,119,59,1,8613,114,114,111,119,59,1,8657,111,119,110,97,114,114,111,119,59,1,8661,101,114,4,2,76,82,6052,6063,101,102,116,65,114,114,111,119,59,1,8598,105,103,104,116,65,114,114,111,119,59,1,8599,105,4,2,59,108,6082,6084,1,978,111,110,59,1,933,105,110,103,59,1,366,99,114,59,3,55349,56496,105,108,100,101,59,1,360,109,108,5,220,1,59,6115,1,220,4,9,68,98,99,100,101,102,111,115,118,6137,6143,6148,6152,6166,6250,6255,6261,6267,97,115,104,59,1,8875,97,114,59,1,10987,121,59,1,1042,97,115,104,4,2,59,108,6161,6163,1,8873,59,1,10982,4,2,101,114,6172,6175,59,1,8897,4,3,98,116,121,6183,6188,6238,97,114,59,1,8214,4,2,59,105,6194,6196,1,8214,99,97,108,4,4,66,76,83,84,6209,6214,6220,6231,97,114,59,1,8739,105,110,101,59,1,124,101,112,97,114,97,116,111,114,59,1,10072,105,108,100,101,59,1,8768,84,104,105,110,83,112,97,99,101,59,1,8202,114,59,3,55349,56601,112,102,59,3,55349,56653,99,114,59,3,55349,56497,100,97,115,104,59,1,8874,4,5,99,101,102,111,115,6286,6292,6298,6303,6309,105,114,99,59,1,372,100,103,101,59,1,8896,114,59,3,55349,56602,112,102,59,3,55349,56654,99,114,59,3,55349,56498,4,4,102,105,111,115,6325,6330,6333,6339,114,59,3,55349,56603,59,1,926,112,102,59,3,55349,56655,99,114,59,3,55349,56499,4,9,65,73,85,97,99,102,111,115,117,6365,6370,6375,6380,6391,6405,6410,6416,6422,99,121,59,1,1071,99,121,59,1,1031,99,121,59,1,1070,99,117,116,101,5,221,1,59,6389,1,221,4,2,105,121,6397,6402,114,99,59,1,374,59,1,1067,114,59,3,55349,56604,112,102,59,3,55349,56656,99,114,59,3,55349,56500,109,108,59,1,376,4,8,72,97,99,100,101,102,111,115,6445,6450,6457,6472,6477,6501,6505,6510,99,121,59,1,1046,99,117,116,101,59,1,377,4,2,97,121,6463,6469,114,111,110,59,1,381,59,1,1047,111,116,59,1,379,4,2,114,116,6483,6497,111,87,105,100,116,104,83,112,97,99,101,59,1,8203,97,59,1,918,114,59,1,8488,112,102,59,1,8484,99,114,59,3,55349,56501,4,16,97,98,99,101,102,103,108,109,110,111,112,114,115,116,117,119,6550,6561,6568,6612,6622,6634,6645,6672,6699,6854,6870,6923,6933,6963,6974,6983,99,117,116,101,5,225,1,59,6559,1,225,114,101,118,101,59,1,259,4,6,59,69,100,105,117,121,6582,6584,6588,6591,6600,6609,1,8766,59,3,8766,819,59,1,8767,114,99,5,226,1,59,6598,1,226,116,101,5,180,1,59,6607,1,180,59,1,1072,108,105,103,5,230,1,59,6620,1,230,4,2,59,114,6628,6630,1,8289,59,3,55349,56606,114,97,118,101,5,224,1,59,6643,1,224,4,2,101,112,6651,6667,4,2,102,112,6657,6663,115,121,109,59,1,8501,104,59,1,8501,104,97,59,1,945,4,2,97,112,6678,6692,4,2,99,108,6684,6688,114,59,1,257,103,59,1,10815,5,38,1,59,6697,1,38,4,2,100,103,6705,6737,4,5,59,97,100,115,118,6717,6719,6724,6727,6734,1,8743,110,100,59,1,10837,59,1,10844,108,111,112,101,59,1,10840,59,1,10842,4,7,59,101,108,109,114,115,122,6753,6755,6758,6762,6814,6835,6848,1,8736,59,1,10660,101,59,1,8736,115,100,4,2,59,97,6770,6772,1,8737,4,8,97,98,99,100,101,102,103,104,6790,6793,6796,6799,6802,6805,6808,6811,59,1,10664,59,1,10665,59,1,10666,59,1,10667,59,1,10668,59,1,10669,59,1,10670,59,1,10671,116,4,2,59,118,6821,6823,1,8735,98,4,2,59,100,6830,6832,1,8894,59,1,10653,4,2,112,116,6841,6845,104,59,1,8738,59,1,197,97,114,114,59,1,9084,4,2,103,112,6860,6865,111,110,59,1,261,102,59,3,55349,56658,4,7,59,69,97,101,105,111,112,6886,6888,6891,6897,6900,6904,6908,1,8776,59,1,10864,99,105,114,59,1,10863,59,1,8778,100,59,1,8779,115,59,1,39,114,111,120,4,2,59,101,6917,6919,1,8776,113,59,1,8778,105,110,103,5,229,1,59,6931,1,229,4,3,99,116,121,6941,6946,6949,114,59,3,55349,56502,59,1,42,109,112,4,2,59,101,6957,6959,1,8776,113,59,1,8781,105,108,100,101,5,227,1,59,6972,1,227,109,108,5,228,1,59,6981,1,228,4,2,99,105,6989,6997,111,110,105,110,116,59,1,8755,110,116,59,1,10769,4,16,78,97,98,99,100,101,102,105,107,108,110,111,112,114,115,117,7036,7041,7119,7135,7149,7155,7219,7224,7347,7354,7463,7489,7786,7793,7814,7866,111,116,59,1,10989,4,2,99,114,7047,7094,107,4,4,99,101,112,115,7058,7064,7073,7080,111,110,103,59,1,8780,112,115,105,108,111,110,59,1,1014,114,105,109,101,59,1,8245,105,109,4,2,59,101,7088,7090,1,8765,113,59,1,8909,4,2,118,119,7100,7105,101,101,59,1,8893,101,100,4,2,59,103,7113,7115,1,8965,101,59,1,8965,114,107,4,2,59,116,7127,7129,1,9141,98,114,107,59,1,9142,4,2,111,121,7141,7146,110,103,59,1,8780,59,1,1073,113,117,111,59,1,8222,4,5,99,109,112,114,116,7167,7181,7188,7193,7199,97,117,115,4,2,59,101,7176,7178,1,8757,59,1,8757,112,116,121,118,59,1,10672,115,105,59,1,1014,110,111,117,59,1,8492,4,3,97,104,119,7207,7210,7213,59,1,946,59,1,8502,101,101,110,59,1,8812,114,59,3,55349,56607,103,4,7,99,111,115,116,117,118,119,7241,7262,7288,7305,7328,7335,7340,4,3,97,105,117,7249,7253,7258,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,4,3,100,112,116,7270,7275,7281,111,116,59,1,10752,108,117,115,59,1,10753,105,109,101,115,59,1,10754,4,2,113,116,7294,7300,99,117,112,59,1,10758,97,114,59,1,9733,114,105,97,110,103,108,101,4,2,100,117,7318,7324,111,119,110,59,1,9661,112,59,1,9651,112,108,117,115,59,1,10756,101,101,59,1,8897,101,100,103,101,59,1,8896,97,114,111,119,59,1,10509,4,3,97,107,111,7362,7436,7458,4,2,99,110,7368,7432,107,4,3,108,115,116,7377,7386,7394,111,122,101,110,103,101,59,1,10731,113,117,97,114,101,59,1,9642,114,105,97,110,103,108,101,4,4,59,100,108,114,7411,7413,7419,7425,1,9652,111,119,110,59,1,9662,101,102,116,59,1,9666,105,103,104,116,59,1,9656,107,59,1,9251,4,2,49,51,7442,7454,4,2,50,52,7448,7451,59,1,9618,59,1,9617,52,59,1,9619,99,107,59,1,9608,4,2,101,111,7469,7485,4,2,59,113,7475,7478,3,61,8421,117,105,118,59,3,8801,8421,116,59,1,8976,4,4,112,116,119,120,7499,7504,7517,7523,102,59,3,55349,56659,4,2,59,116,7510,7512,1,8869,111,109,59,1,8869,116,105,101,59,1,8904,4,12,68,72,85,86,98,100,104,109,112,116,117,118,7549,7571,7597,7619,7655,7660,7682,7708,7715,7721,7728,7750,4,4,76,82,108,114,7559,7562,7565,7568,59,1,9559,59,1,9556,59,1,9558,59,1,9555,4,5,59,68,85,100,117,7583,7585,7588,7591,7594,1,9552,59,1,9574,59,1,9577,59,1,9572,59,1,9575,4,4,76,82,108,114,7607,7610,7613,7616,59,1,9565,59,1,9562,59,1,9564,59,1,9561,4,7,59,72,76,82,104,108,114,7635,7637,7640,7643,7646,7649,7652,1,9553,59,1,9580,59,1,9571,59,1,9568,59,1,9579,59,1,9570,59,1,9567,111,120,59,1,10697,4,4,76,82,108,114,7670,7673,7676,7679,59,1,9557,59,1,9554,59,1,9488,59,1,9484,4,5,59,68,85,100,117,7694,7696,7699,7702,7705,1,9472,59,1,9573,59,1,9576,59,1,9516,59,1,9524,105,110,117,115,59,1,8863,108,117,115,59,1,8862,105,109,101,115,59,1,8864,4,4,76,82,108,114,7738,7741,7744,7747,59,1,9563,59,1,9560,59,1,9496,59,1,9492,4,7,59,72,76,82,104,108,114,7766,7768,7771,7774,7777,7780,7783,1,9474,59,1,9578,59,1,9569,59,1,9566,59,1,9532,59,1,9508,59,1,9500,114,105,109,101,59,1,8245,4,2,101,118,7799,7804,118,101,59,1,728,98,97,114,5,166,1,59,7812,1,166,4,4,99,101,105,111,7824,7829,7834,7846,114,59,3,55349,56503,109,105,59,1,8271,109,4,2,59,101,7841,7843,1,8765,59,1,8909,108,4,3,59,98,104,7855,7857,7860,1,92,59,1,10693,115,117,98,59,1,10184,4,2,108,109,7872,7885,108,4,2,59,101,7879,7881,1,8226,116,59,1,8226,112,4,3,59,69,101,7894,7896,7899,1,8782,59,1,10926,4,2,59,113,7905,7907,1,8783,59,1,8783,4,15,97,99,100,101,102,104,105,108,111,114,115,116,117,119,121,7942,8021,8075,8080,8121,8126,8157,8279,8295,8430,8446,8485,8491,8707,8726,4,3,99,112,114,7950,7956,8007,117,116,101,59,1,263,4,6,59,97,98,99,100,115,7970,7972,7977,7984,7998,8003,1,8745,110,100,59,1,10820,114,99,117,112,59,1,10825,4,2,97,117,7990,7994,112,59,1,10827,112,59,1,10823,111,116,59,1,10816,59,3,8745,65024,4,2,101,111,8013,8017,116,59,1,8257,110,59,1,711,4,4,97,101,105,117,8031,8046,8056,8061,4,2,112,114,8037,8041,115,59,1,10829,111,110,59,1,269,100,105,108,5,231,1,59,8054,1,231,114,99,59,1,265,112,115,4,2,59,115,8069,8071,1,10828,109,59,1,10832,111,116,59,1,267,4,3,100,109,110,8088,8097,8104,105,108,5,184,1,59,8095,1,184,112,116,121,118,59,1,10674,116,5,162,2,59,101,8112,8114,1,162,114,100,111,116,59,1,183,114,59,3,55349,56608,4,3,99,101,105,8134,8138,8154,121,59,1,1095,99,107,4,2,59,109,8146,8148,1,10003,97,114,107,59,1,10003,59,1,967,114,4,7,59,69,99,101,102,109,115,8174,8176,8179,8258,8261,8268,8273,1,9675,59,1,10691,4,3,59,101,108,8187,8189,8193,1,710,113,59,1,8791,101,4,2,97,100,8200,8223,114,114,111,119,4,2,108,114,8210,8216,101,102,116,59,1,8634,105,103,104,116,59,1,8635,4,5,82,83,97,99,100,8235,8238,8241,8246,8252,59,1,174,59,1,9416,115,116,59,1,8859,105,114,99,59,1,8858,97,115,104,59,1,8861,59,1,8791,110,105,110,116,59,1,10768,105,100,59,1,10991,99,105,114,59,1,10690,117,98,115,4,2,59,117,8288,8290,1,9827,105,116,59,1,9827,4,4,108,109,110,112,8305,8326,8376,8400,111,110,4,2,59,101,8313,8315,1,58,4,2,59,113,8321,8323,1,8788,59,1,8788,4,2,109,112,8332,8344,97,4,2,59,116,8339,8341,1,44,59,1,64,4,3,59,102,108,8352,8354,8358,1,8705,110,59,1,8728,101,4,2,109,120,8365,8371,101,110,116,59,1,8705,101,115,59,1,8450,4,2,103,105,8382,8395,4,2,59,100,8388,8390,1,8773,111,116,59,1,10861,110,116,59,1,8750,4,3,102,114,121,8408,8412,8417,59,3,55349,56660,111,100,59,1,8720,5,169,2,59,115,8424,8426,1,169,114,59,1,8471,4,2,97,111,8436,8441,114,114,59,1,8629,115,115,59,1,10007,4,2,99,117,8452,8457,114,59,3,55349,56504,4,2,98,112,8463,8474,4,2,59,101,8469,8471,1,10959,59,1,10961,4,2,59,101,8480,8482,1,10960,59,1,10962,100,111,116,59,1,8943,4,7,100,101,108,112,114,118,119,8507,8522,8536,8550,8600,8697,8702,97,114,114,4,2,108,114,8516,8519,59,1,10552,59,1,10549,4,2,112,115,8528,8532,114,59,1,8926,99,59,1,8927,97,114,114,4,2,59,112,8545,8547,1,8630,59,1,10557,4,6,59,98,99,100,111,115,8564,8566,8573,8587,8592,8596,1,8746,114,99,97,112,59,1,10824,4,2,97,117,8579,8583,112,59,1,10822,112,59,1,10826,111,116,59,1,8845,114,59,1,10821,59,3,8746,65024,4,4,97,108,114,118,8610,8623,8663,8672,114,114,4,2,59,109,8618,8620,1,8631,59,1,10556,121,4,3,101,118,119,8632,8651,8656,113,4,2,112,115,8639,8645,114,101,99,59,1,8926,117,99,99,59,1,8927,101,101,59,1,8910,101,100,103,101,59,1,8911,101,110,5,164,1,59,8670,1,164,101,97,114,114,111,119,4,2,108,114,8684,8690,101,102,116,59,1,8630,105,103,104,116,59,1,8631,101,101,59,1,8910,101,100,59,1,8911,4,2,99,105,8713,8721,111,110,105,110,116,59,1,8754,110,116,59,1,8753,108,99,116,121,59,1,9005,4,19,65,72,97,98,99,100,101,102,104,105,106,108,111,114,115,116,117,119,122,8773,8778,8783,8821,8839,8854,8887,8914,8930,8944,9036,9041,9058,9197,9227,9258,9281,9297,9305,114,114,59,1,8659,97,114,59,1,10597,4,4,103,108,114,115,8793,8799,8805,8809,103,101,114,59,1,8224,101,116,104,59,1,8504,114,59,1,8595,104,4,2,59,118,8816,8818,1,8208,59,1,8867,4,2,107,108,8827,8834,97,114,111,119,59,1,10511,97,99,59,1,733,4,2,97,121,8845,8851,114,111,110,59,1,271,59,1,1076,4,3,59,97,111,8862,8864,8880,1,8518,4,2,103,114,8870,8876,103,101,114,59,1,8225,114,59,1,8650,116,115,101,113,59,1,10871,4,3,103,108,109,8895,8902,8907,5,176,1,59,8900,1,176,116,97,59,1,948,112,116,121,118,59,1,10673,4,2,105,114,8920,8926,115,104,116,59,1,10623,59,3,55349,56609,97,114,4,2,108,114,8938,8941,59,1,8643,59,1,8642,4,5,97,101,103,115,118,8956,8986,8989,8996,9001,109,4,3,59,111,115,8965,8967,8983,1,8900,110,100,4,2,59,115,8975,8977,1,8900,117,105,116,59,1,9830,59,1,9830,59,1,168,97,109,109,97,59,1,989,105,110,59,1,8946,4,3,59,105,111,9009,9011,9031,1,247,100,101,5,247,2,59,111,9020,9022,1,247,110,116,105,109,101,115,59,1,8903,110,120,59,1,8903,99,121,59,1,1106,99,4,2,111,114,9048,9053,114,110,59,1,8990,111,112,59,1,8973,4,5,108,112,116,117,119,9070,9076,9081,9130,9144,108,97,114,59,1,36,102,59,3,55349,56661,4,5,59,101,109,112,115,9093,9095,9109,9116,9122,1,729,113,4,2,59,100,9102,9104,1,8784,111,116,59,1,8785,105,110,117,115,59,1,8760,108,117,115,59,1,8724,113,117,97,114,101,59,1,8865,98,108,101,98,97,114,119,101,100,103,101,59,1,8966,110,4,3,97,100,104,9153,9160,9172,114,114,111,119,59,1,8595,111,119,110,97,114,114,111,119,115,59,1,8650,97,114,112,111,111,110,4,2,108,114,9184,9190,101,102,116,59,1,8643,105,103,104,116,59,1,8642,4,2,98,99,9203,9211,107,97,114,111,119,59,1,10512,4,2,111,114,9217,9222,114,110,59,1,8991,111,112,59,1,8972,4,3,99,111,116,9235,9248,9252,4,2,114,121,9241,9245,59,3,55349,56505,59,1,1109,108,59,1,10742,114,111,107,59,1,273,4,2,100,114,9264,9269,111,116,59,1,8945,105,4,2,59,102,9276,9278,1,9663,59,1,9662,4,2,97,104,9287,9292,114,114,59,1,8693,97,114,59,1,10607,97,110,103,108,101,59,1,10662,4,2,99,105,9311,9315,121,59,1,1119,103,114,97,114,114,59,1,10239,4,18,68,97,99,100,101,102,103,108,109,110,111,112,113,114,115,116,117,120,9361,9376,9398,9439,9444,9447,9462,9495,9531,9585,9598,9614,9659,9755,9771,9792,9808,9826,4,2,68,111,9367,9372,111,116,59,1,10871,116,59,1,8785,4,2,99,115,9382,9392,117,116,101,5,233,1,59,9390,1,233,116,101,114,59,1,10862,4,4,97,105,111,121,9408,9414,9430,9436,114,111,110,59,1,283,114,4,2,59,99,9421,9423,1,8790,5,234,1,59,9428,1,234,108,111,110,59,1,8789,59,1,1101,111,116,59,1,279,59,1,8519,4,2,68,114,9453,9458,111,116,59,1,8786,59,3,55349,56610,4,3,59,114,115,9470,9472,9482,1,10906,97,118,101,5,232,1,59,9480,1,232,4,2,59,100,9488,9490,1,10902,111,116,59,1,10904,4,4,59,105,108,115,9505,9507,9515,9518,1,10905,110,116,101,114,115,59,1,9191,59,1,8467,4,2,59,100,9524,9526,1,10901,111,116,59,1,10903,4,3,97,112,115,9539,9544,9564,99,114,59,1,275,116,121,4,3,59,115,118,9554,9556,9561,1,8709,101,116,59,1,8709,59,1,8709,112,4,2,49,59,9571,9583,4,2,51,52,9577,9580,59,1,8196,59,1,8197,1,8195,4,2,103,115,9591,9594,59,1,331,112,59,1,8194,4,2,103,112,9604,9609,111,110,59,1,281,102,59,3,55349,56662,4,3,97,108,115,9622,9635,9640,114,4,2,59,115,9629,9631,1,8917,108,59,1,10723,117,115,59,1,10865,105,4,3,59,108,118,9649,9651,9656,1,949,111,110,59,1,949,59,1,1013,4,4,99,115,117,118,9669,9686,9716,9747,4,2,105,111,9675,9680,114,99,59,1,8790,108,111,110,59,1,8789,4,2,105,108,9692,9696,109,59,1,8770,97,110,116,4,2,103,108,9705,9710,116,114,59,1,10902,101,115,115,59,1,10901,4,3,97,101,105,9724,9729,9734,108,115,59,1,61,115,116,59,1,8799,118,4,2,59,68,9741,9743,1,8801,68,59,1,10872,112,97,114,115,108,59,1,10725,4,2,68,97,9761,9766,111,116,59,1,8787,114,114,59,1,10609,4,3,99,100,105,9779,9783,9788,114,59,1,8495,111,116,59,1,8784,109,59,1,8770,4,2,97,104,9798,9801,59,1,951,5,240,1,59,9806,1,240,4,2,109,114,9814,9822,108,5,235,1,59,9820,1,235,111,59,1,8364,4,3,99,105,112,9834,9838,9843,108,59,1,33,115,116,59,1,8707,4,2,101,111,9849,9859,99,116,97,116,105,111,110,59,1,8496,110,101,110,116,105,97,108,101,59,1,8519,4,12,97,99,101,102,105,106,108,110,111,112,114,115,9896,9910,9914,9921,9954,9960,9967,9989,9994,10027,10036,10164,108,108,105,110,103,100,111,116,115,101,113,59,1,8786,121,59,1,1092,109,97,108,101,59,1,9792,4,3,105,108,114,9929,9935,9950,108,105,103,59,1,64259,4,2,105,108,9941,9945,103,59,1,64256,105,103,59,1,64260,59,3,55349,56611,108,105,103,59,1,64257,108,105,103,59,3,102,106,4,3,97,108,116,9975,9979,9984,116,59,1,9837,105,103,59,1,64258,110,115,59,1,9649,111,102,59,1,402,4,2,112,114,1e4,10005,102,59,3,55349,56663,4,2,97,107,10011,10016,108,108,59,1,8704,4,2,59,118,10022,10024,1,8916,59,1,10969,97,114,116,105,110,116,59,1,10765,4,2,97,111,10042,10159,4,2,99,115,10048,10155,4,6,49,50,51,52,53,55,10062,10102,10114,10135,10139,10151,4,6,50,51,52,53,54,56,10076,10083,10086,10093,10096,10099,5,189,1,59,10081,1,189,59,1,8531,5,188,1,59,10091,1,188,59,1,8533,59,1,8537,59,1,8539,4,2,51,53,10108,10111,59,1,8532,59,1,8534,4,3,52,53,56,10122,10129,10132,5,190,1,59,10127,1,190,59,1,8535,59,1,8540,53,59,1,8536,4,2,54,56,10145,10148,59,1,8538,59,1,8541,56,59,1,8542,108,59,1,8260,119,110,59,1,8994,99,114,59,3,55349,56507,4,17,69,97,98,99,100,101,102,103,105,106,108,110,111,114,115,116,118,10206,10217,10247,10254,10268,10273,10358,10363,10374,10380,10385,10406,10458,10464,10470,10497,10610,4,2,59,108,10212,10214,1,8807,59,1,10892,4,3,99,109,112,10225,10231,10244,117,116,101,59,1,501,109,97,4,2,59,100,10239,10241,1,947,59,1,989,59,1,10886,114,101,118,101,59,1,287,4,2,105,121,10260,10265,114,99,59,1,285,59,1,1075,111,116,59,1,289,4,4,59,108,113,115,10283,10285,10288,10308,1,8805,59,1,8923,4,3,59,113,115,10296,10298,10301,1,8805,59,1,8807,108,97,110,116,59,1,10878,4,4,59,99,100,108,10318,10320,10324,10345,1,10878,99,59,1,10921,111,116,4,2,59,111,10332,10334,1,10880,4,2,59,108,10340,10342,1,10882,59,1,10884,4,2,59,101,10351,10354,3,8923,65024,115,59,1,10900,114,59,3,55349,56612,4,2,59,103,10369,10371,1,8811,59,1,8921,109,101,108,59,1,8503,99,121,59,1,1107,4,4,59,69,97,106,10395,10397,10400,10403,1,8823,59,1,10898,59,1,10917,59,1,10916,4,4,69,97,101,115,10416,10419,10434,10453,59,1,8809,112,4,2,59,112,10426,10428,1,10890,114,111,120,59,1,10890,4,2,59,113,10440,10442,1,10888,4,2,59,113,10448,10450,1,10888,59,1,8809,105,109,59,1,8935,112,102,59,3,55349,56664,97,118,101,59,1,96,4,2,99,105,10476,10480,114,59,1,8458,109,4,3,59,101,108,10489,10491,10494,1,8819,59,1,10894,59,1,10896,5,62,6,59,99,100,108,113,114,10512,10514,10527,10532,10538,10545,1,62,4,2,99,105,10520,10523,59,1,10919,114,59,1,10874,111,116,59,1,8919,80,97,114,59,1,10645,117,101,115,116,59,1,10876,4,5,97,100,101,108,115,10557,10574,10579,10599,10605,4,2,112,114,10563,10570,112,114,111,120,59,1,10886,114,59,1,10616,111,116,59,1,8919,113,4,2,108,113,10586,10592,101,115,115,59,1,8923,108,101,115,115,59,1,10892,101,115,115,59,1,8823,105,109,59,1,8819,4,2,101,110,10616,10626,114,116,110,101,113,113,59,3,8809,65024,69,59,3,8809,65024,4,10,65,97,98,99,101,102,107,111,115,121,10653,10658,10713,10718,10724,10760,10765,10786,10850,10875,114,114,59,1,8660,4,4,105,108,109,114,10668,10674,10678,10684,114,115,112,59,1,8202,102,59,1,189,105,108,116,59,1,8459,4,2,100,114,10690,10695,99,121,59,1,1098,4,3,59,99,119,10703,10705,10710,1,8596,105,114,59,1,10568,59,1,8621,97,114,59,1,8463,105,114,99,59,1,293,4,3,97,108,114,10732,10748,10754,114,116,115,4,2,59,117,10741,10743,1,9829,105,116,59,1,9829,108,105,112,59,1,8230,99,111,110,59,1,8889,114,59,3,55349,56613,115,4,2,101,119,10772,10779,97,114,111,119,59,1,10533,97,114,111,119,59,1,10534,4,5,97,109,111,112,114,10798,10803,10809,10839,10844,114,114,59,1,8703,116,104,116,59,1,8763,107,4,2,108,114,10816,10827,101,102,116,97,114,114,111,119,59,1,8617,105,103,104,116,97,114,114,111,119,59,1,8618,102,59,3,55349,56665,98,97,114,59,1,8213,4,3,99,108,116,10858,10863,10869,114,59,3,55349,56509,97,115,104,59,1,8463,114,111,107,59,1,295,4,2,98,112,10881,10887,117,108,108,59,1,8259,104,101,110,59,1,8208,4,15,97,99,101,102,103,105,106,109,110,111,112,113,115,116,117,10925,10936,10958,10977,10990,11001,11039,11045,11101,11192,11220,11226,11237,11285,11299,99,117,116,101,5,237,1,59,10934,1,237,4,3,59,105,121,10944,10946,10955,1,8291,114,99,5,238,1,59,10953,1,238,59,1,1080,4,2,99,120,10964,10968,121,59,1,1077,99,108,5,161,1,59,10975,1,161,4,2,102,114,10983,10986,59,1,8660,59,3,55349,56614,114,97,118,101,5,236,1,59,10999,1,236,4,4,59,105,110,111,11011,11013,11028,11034,1,8520,4,2,105,110,11019,11024,110,116,59,1,10764,116,59,1,8749,102,105,110,59,1,10716,116,97,59,1,8489,108,105,103,59,1,307,4,3,97,111,112,11053,11092,11096,4,3,99,103,116,11061,11065,11088,114,59,1,299,4,3,101,108,112,11073,11076,11082,59,1,8465,105,110,101,59,1,8464,97,114,116,59,1,8465,104,59,1,305,102,59,1,8887,101,100,59,1,437,4,5,59,99,102,111,116,11113,11115,11121,11136,11142,1,8712,97,114,101,59,1,8453,105,110,4,2,59,116,11129,11131,1,8734,105,101,59,1,10717,100,111,116,59,1,305,4,5,59,99,101,108,112,11154,11156,11161,11179,11186,1,8747,97,108,59,1,8890,4,2,103,114,11167,11173,101,114,115,59,1,8484,99,97,108,59,1,8890,97,114,104,107,59,1,10775,114,111,100,59,1,10812,4,4,99,103,112,116,11202,11206,11211,11216,121,59,1,1105,111,110,59,1,303,102,59,3,55349,56666,97,59,1,953,114,111,100,59,1,10812,117,101,115,116,5,191,1,59,11235,1,191,4,2,99,105,11243,11248,114,59,3,55349,56510,110,4,5,59,69,100,115,118,11261,11263,11266,11271,11282,1,8712,59,1,8953,111,116,59,1,8949,4,2,59,118,11277,11279,1,8948,59,1,8947,59,1,8712,4,2,59,105,11291,11293,1,8290,108,100,101,59,1,297,4,2,107,109,11305,11310,99,121,59,1,1110,108,5,239,1,59,11316,1,239,4,6,99,102,109,111,115,117,11332,11346,11351,11357,11363,11380,4,2,105,121,11338,11343,114,99,59,1,309,59,1,1081,114,59,3,55349,56615,97,116,104,59,1,567,112,102,59,3,55349,56667,4,2,99,101,11369,11374,114,59,3,55349,56511,114,99,121,59,1,1112,107,99,121,59,1,1108,4,8,97,99,102,103,104,106,111,115,11404,11418,11433,11438,11445,11450,11455,11461,112,112,97,4,2,59,118,11413,11415,1,954,59,1,1008,4,2,101,121,11424,11430,100,105,108,59,1,311,59,1,1082,114,59,3,55349,56616,114,101,101,110,59,1,312,99,121,59,1,1093,99,121,59,1,1116,112,102,59,3,55349,56668,99,114,59,3,55349,56512,4,23,65,66,69,72,97,98,99,100,101,102,103,104,106,108,109,110,111,112,114,115,116,117,118,11515,11538,11544,11555,11560,11721,11780,11818,11868,12136,12160,12171,12203,12208,12246,12275,12327,12509,12523,12569,12641,12732,12752,4,3,97,114,116,11523,11528,11532,114,114,59,1,8666,114,59,1,8656,97,105,108,59,1,10523,97,114,114,59,1,10510,4,2,59,103,11550,11552,1,8806,59,1,10891,97,114,59,1,10594,4,9,99,101,103,109,110,112,113,114,116,11580,11586,11594,11600,11606,11624,11627,11636,11694,117,116,101,59,1,314,109,112,116,121,118,59,1,10676,114,97,110,59,1,8466,98,100,97,59,1,955,103,4,3,59,100,108,11615,11617,11620,1,10216,59,1,10641,101,59,1,10216,59,1,10885,117,111,5,171,1,59,11634,1,171,114,4,8,59,98,102,104,108,112,115,116,11655,11657,11669,11673,11677,11681,11685,11690,1,8592,4,2,59,102,11663,11665,1,8676,115,59,1,10527,115,59,1,10525,107,59,1,8617,112,59,1,8619,108,59,1,10553,105,109,59,1,10611,108,59,1,8610,4,3,59,97,101,11702,11704,11709,1,10923,105,108,59,1,10521,4,2,59,115,11715,11717,1,10925,59,3,10925,65024,4,3,97,98,114,11729,11734,11739,114,114,59,1,10508,114,107,59,1,10098,4,2,97,107,11745,11758,99,4,2,101,107,11752,11755,59,1,123,59,1,91,4,2,101,115,11764,11767,59,1,10635,108,4,2,100,117,11774,11777,59,1,10639,59,1,10637,4,4,97,101,117,121,11790,11796,11811,11815,114,111,110,59,1,318,4,2,100,105,11802,11807,105,108,59,1,316,108,59,1,8968,98,59,1,123,59,1,1083,4,4,99,113,114,115,11828,11832,11845,11864,97,59,1,10550,117,111,4,2,59,114,11840,11842,1,8220,59,1,8222,4,2,100,117,11851,11857,104,97,114,59,1,10599,115,104,97,114,59,1,10571,104,59,1,8626,4,5,59,102,103,113,115,11880,11882,12008,12011,12031,1,8804,116,4,5,97,104,108,114,116,11895,11913,11935,11947,11996,114,114,111,119,4,2,59,116,11905,11907,1,8592,97,105,108,59,1,8610,97,114,112,111,111,110,4,2,100,117,11925,11931,111,119,110,59,1,8637,112,59,1,8636,101,102,116,97,114,114,111,119,115,59,1,8647,105,103,104,116,4,3,97,104,115,11959,11974,11984,114,114,111,119,4,2,59,115,11969,11971,1,8596,59,1,8646,97,114,112,111,111,110,115,59,1,8651,113,117,105,103,97,114,114,111,119,59,1,8621,104,114,101,101,116,105,109,101,115,59,1,8907,59,1,8922,4,3,59,113,115,12019,12021,12024,1,8804,59,1,8806,108,97,110,116,59,1,10877,4,5,59,99,100,103,115,12043,12045,12049,12070,12083,1,10877,99,59,1,10920,111,116,4,2,59,111,12057,12059,1,10879,4,2,59,114,12065,12067,1,10881,59,1,10883,4,2,59,101,12076,12079,3,8922,65024,115,59,1,10899,4,5,97,100,101,103,115,12095,12103,12108,12126,12131,112,112,114,111,120,59,1,10885,111,116,59,1,8918,113,4,2,103,113,12115,12120,116,114,59,1,8922,103,116,114,59,1,10891,116,114,59,1,8822,105,109,59,1,8818,4,3,105,108,114,12144,12150,12156,115,104,116,59,1,10620,111,111,114,59,1,8970,59,3,55349,56617,4,2,59,69,12166,12168,1,8822,59,1,10897,4,2,97,98,12177,12198,114,4,2,100,117,12184,12187,59,1,8637,4,2,59,108,12193,12195,1,8636,59,1,10602,108,107,59,1,9604,99,121,59,1,1113,4,5,59,97,99,104,116,12220,12222,12227,12235,12241,1,8810,114,114,59,1,8647,111,114,110,101,114,59,1,8990,97,114,100,59,1,10603,114,105,59,1,9722,4,2,105,111,12252,12258,100,111,116,59,1,320,117,115,116,4,2,59,97,12267,12269,1,9136,99,104,101,59,1,9136,4,4,69,97,101,115,12285,12288,12303,12322,59,1,8808,112,4,2,59,112,12295,12297,1,10889,114,111,120,59,1,10889,4,2,59,113,12309,12311,1,10887,4,2,59,113,12317,12319,1,10887,59,1,8808,105,109,59,1,8934,4,8,97,98,110,111,112,116,119,122,12345,12359,12364,12421,12446,12467,12474,12490,4,2,110,114,12351,12355,103,59,1,10220,114,59,1,8701,114,107,59,1,10214,103,4,3,108,109,114,12373,12401,12409,101,102,116,4,2,97,114,12382,12389,114,114,111,119,59,1,10229,105,103,104,116,97,114,114,111,119,59,1,10231,97,112,115,116,111,59,1,10236,105,103,104,116,97,114,114,111,119,59,1,10230,112,97,114,114,111,119,4,2,108,114,12433,12439,101,102,116,59,1,8619,105,103,104,116,59,1,8620,4,3,97,102,108,12454,12458,12462,114,59,1,10629,59,3,55349,56669,117,115,59,1,10797,105,109,101,115,59,1,10804,4,2,97,98,12480,12485,115,116,59,1,8727,97,114,59,1,95,4,3,59,101,102,12498,12500,12506,1,9674,110,103,101,59,1,9674,59,1,10731,97,114,4,2,59,108,12517,12519,1,40,116,59,1,10643,4,5,97,99,104,109,116,12535,12540,12548,12561,12564,114,114,59,1,8646,111,114,110,101,114,59,1,8991,97,114,4,2,59,100,12556,12558,1,8651,59,1,10605,59,1,8206,114,105,59,1,8895,4,6,97,99,104,105,113,116,12583,12589,12594,12597,12614,12635,113,117,111,59,1,8249,114,59,3,55349,56513,59,1,8624,109,4,3,59,101,103,12606,12608,12611,1,8818,59,1,10893,59,1,10895,4,2,98,117,12620,12623,59,1,91,111,4,2,59,114,12630,12632,1,8216,59,1,8218,114,111,107,59,1,322,5,60,8,59,99,100,104,105,108,113,114,12660,12662,12675,12680,12686,12692,12698,12705,1,60,4,2,99,105,12668,12671,59,1,10918,114,59,1,10873,111,116,59,1,8918,114,101,101,59,1,8907,109,101,115,59,1,8905,97,114,114,59,1,10614,117,101,115,116,59,1,10875,4,2,80,105,12711,12716,97,114,59,1,10646,4,3,59,101,102,12724,12726,12729,1,9667,59,1,8884,59,1,9666,114,4,2,100,117,12739,12746,115,104,97,114,59,1,10570,104,97,114,59,1,10598,4,2,101,110,12758,12768,114,116,110,101,113,113,59,3,8808,65024,69,59,3,8808,65024,4,14,68,97,99,100,101,102,104,105,108,110,111,112,115,117,12803,12809,12893,12908,12914,12928,12933,12937,13011,13025,13032,13049,13052,13069,68,111,116,59,1,8762,4,4,99,108,112,114,12819,12827,12849,12887,114,5,175,1,59,12825,1,175,4,2,101,116,12833,12836,59,1,9794,4,2,59,101,12842,12844,1,10016,115,101,59,1,10016,4,2,59,115,12855,12857,1,8614,116,111,4,4,59,100,108,117,12869,12871,12877,12883,1,8614,111,119,110,59,1,8615,101,102,116,59,1,8612,112,59,1,8613,107,101,114,59,1,9646,4,2,111,121,12899,12905,109,109,97,59,1,10793,59,1,1084,97,115,104,59,1,8212,97,115,117,114,101,100,97,110,103,108,101,59,1,8737,114,59,3,55349,56618,111,59,1,8487,4,3,99,100,110,12945,12954,12985,114,111,5,181,1,59,12952,1,181,4,4,59,97,99,100,12964,12966,12971,12976,1,8739,115,116,59,1,42,105,114,59,1,10992,111,116,5,183,1,59,12983,1,183,117,115,4,3,59,98,100,12995,12997,13e3,1,8722,59,1,8863,4,2,59,117,13006,13008,1,8760,59,1,10794,4,2,99,100,13017,13021,112,59,1,10971,114,59,1,8230,112,108,117,115,59,1,8723,4,2,100,112,13038,13044,101,108,115,59,1,8871,102,59,3,55349,56670,59,1,8723,4,2,99,116,13058,13063,114,59,3,55349,56514,112,111,115,59,1,8766,4,3,59,108,109,13077,13079,13087,1,956,116,105,109,97,112,59,1,8888,97,112,59,1,8888,4,24,71,76,82,86,97,98,99,100,101,102,103,104,105,106,108,109,111,112,114,115,116,117,118,119,13142,13165,13217,13229,13247,13330,13359,13414,13420,13508,13513,13579,13602,13626,13631,13762,13767,13855,13936,13995,14214,14285,14312,14432,4,2,103,116,13148,13152,59,3,8921,824,4,2,59,118,13158,13161,3,8811,8402,59,3,8811,824,4,3,101,108,116,13173,13200,13204,102,116,4,2,97,114,13181,13188,114,114,111,119,59,1,8653,105,103,104,116,97,114,114,111,119,59,1,8654,59,3,8920,824,4,2,59,118,13210,13213,3,8810,8402,59,3,8810,824,105,103,104,116,97,114,114,111,119,59,1,8655,4,2,68,100,13235,13241,97,115,104,59,1,8879,97,115,104,59,1,8878,4,5,98,99,110,112,116,13259,13264,13270,13275,13308,108,97,59,1,8711,117,116,101,59,1,324,103,59,3,8736,8402,4,5,59,69,105,111,112,13287,13289,13293,13298,13302,1,8777,59,3,10864,824,100,59,3,8779,824,115,59,1,329,114,111,120,59,1,8777,117,114,4,2,59,97,13316,13318,1,9838,108,4,2,59,115,13325,13327,1,9838,59,1,8469,4,2,115,117,13336,13344,112,5,160,1,59,13342,1,160,109,112,4,2,59,101,13352,13355,3,8782,824,59,3,8783,824,4,5,97,101,111,117,121,13371,13385,13391,13407,13411,4,2,112,114,13377,13380,59,1,10819,111,110,59,1,328,100,105,108,59,1,326,110,103,4,2,59,100,13399,13401,1,8775,111,116,59,3,10861,824,112,59,1,10818,59,1,1085,97,115,104,59,1,8211,4,7,59,65,97,100,113,115,120,13436,13438,13443,13466,13472,13478,13494,1,8800,114,114,59,1,8663,114,4,2,104,114,13450,13454,107,59,1,10532,4,2,59,111,13460,13462,1,8599,119,59,1,8599,111,116,59,3,8784,824,117,105,118,59,1,8802,4,2,101,105,13484,13489,97,114,59,1,10536,109,59,3,8770,824,105,115,116,4,2,59,115,13503,13505,1,8708,59,1,8708,114,59,3,55349,56619,4,4,69,101,115,116,13523,13527,13563,13568,59,3,8807,824,4,3,59,113,115,13535,13537,13559,1,8817,4,3,59,113,115,13545,13547,13551,1,8817,59,3,8807,824,108,97,110,116,59,3,10878,824,59,3,10878,824,105,109,59,1,8821,4,2,59,114,13574,13576,1,8815,59,1,8815,4,3,65,97,112,13587,13592,13597,114,114,59,1,8654,114,114,59,1,8622,97,114,59,1,10994,4,3,59,115,118,13610,13612,13623,1,8715,4,2,59,100,13618,13620,1,8956,59,1,8954,59,1,8715,99,121,59,1,1114,4,7,65,69,97,100,101,115,116,13647,13652,13656,13661,13665,13737,13742,114,114,59,1,8653,59,3,8806,824,114,114,59,1,8602,114,59,1,8229,4,4,59,102,113,115,13675,13677,13703,13725,1,8816,116,4,2,97,114,13684,13691,114,114,111,119,59,1,8602,105,103,104,116,97,114,114,111,119,59,1,8622,4,3,59,113,115,13711,13713,13717,1,8816,59,3,8806,824,108,97,110,116,59,3,10877,824,4,2,59,115,13731,13734,3,10877,824,59,1,8814,105,109,59,1,8820,4,2,59,114,13748,13750,1,8814,105,4,2,59,101,13757,13759,1,8938,59,1,8940,105,100,59,1,8740,4,2,112,116,13773,13778,102,59,3,55349,56671,5,172,3,59,105,110,13787,13789,13829,1,172,110,4,4,59,69,100,118,13800,13802,13806,13812,1,8713,59,3,8953,824,111,116,59,3,8949,824,4,3,97,98,99,13820,13823,13826,59,1,8713,59,1,8951,59,1,8950,105,4,2,59,118,13836,13838,1,8716,4,3,97,98,99,13846,13849,13852,59,1,8716,59,1,8958,59,1,8957,4,3,97,111,114,13863,13892,13899,114,4,4,59,97,115,116,13874,13876,13883,13888,1,8742,108,108,101,108,59,1,8742,108,59,3,11005,8421,59,3,8706,824,108,105,110,116,59,1,10772,4,3,59,99,101,13907,13909,13914,1,8832,117,101,59,1,8928,4,2,59,99,13920,13923,3,10927,824,4,2,59,101,13929,13931,1,8832,113,59,3,10927,824,4,4,65,97,105,116,13946,13951,13971,13982,114,114,59,1,8655,114,114,4,3,59,99,119,13961,13963,13967,1,8603,59,3,10547,824,59,3,8605,824,103,104,116,97,114,114,111,119,59,1,8603,114,105,4,2,59,101,13990,13992,1,8939,59,1,8941,4,7,99,104,105,109,112,113,117,14011,14036,14060,14080,14085,14090,14106,4,4,59,99,101,114,14021,14023,14028,14032,1,8833,117,101,59,1,8929,59,3,10928,824,59,3,55349,56515,111,114,116,4,2,109,112,14045,14050,105,100,59,1,8740,97,114,97,108,108,101,108,59,1,8742,109,4,2,59,101,14067,14069,1,8769,4,2,59,113,14075,14077,1,8772,59,1,8772,105,100,59,1,8740,97,114,59,1,8742,115,117,4,2,98,112,14098,14102,101,59,1,8930,101,59,1,8931,4,3,98,99,112,14114,14157,14171,4,4,59,69,101,115,14124,14126,14130,14133,1,8836,59,3,10949,824,59,1,8840,101,116,4,2,59,101,14141,14144,3,8834,8402,113,4,2,59,113,14151,14153,1,8840,59,3,10949,824,99,4,2,59,101,14164,14166,1,8833,113,59,3,10928,824,4,4,59,69,101,115,14181,14183,14187,14190,1,8837,59,3,10950,824,59,1,8841,101,116,4,2,59,101,14198,14201,3,8835,8402,113,4,2,59,113,14208,14210,1,8841,59,3,10950,824,4,4,103,105,108,114,14224,14228,14238,14242,108,59,1,8825,108,100,101,5,241,1,59,14236,1,241,103,59,1,8824,105,97,110,103,108,101,4,2,108,114,14254,14269,101,102,116,4,2,59,101,14263,14265,1,8938,113,59,1,8940,105,103,104,116,4,2,59,101,14279,14281,1,8939,113,59,1,8941,4,2,59,109,14291,14293,1,957,4,3,59,101,115,14301,14303,14308,1,35,114,111,59,1,8470,112,59,1,8199,4,9,68,72,97,100,103,105,108,114,115,14332,14338,14344,14349,14355,14369,14376,14408,14426,97,115,104,59,1,8877,97,114,114,59,1,10500,112,59,3,8781,8402,97,115,104,59,1,8876,4,2,101,116,14361,14365,59,3,8805,8402,59,3,62,8402,110,102,105,110,59,1,10718,4,3,65,101,116,14384,14389,14393,114,114,59,1,10498,59,3,8804,8402,4,2,59,114,14399,14402,3,60,8402,105,101,59,3,8884,8402,4,2,65,116,14414,14419,114,114,59,1,10499,114,105,101,59,3,8885,8402,105,109,59,3,8764,8402,4,3,65,97,110,14440,14445,14468,114,114,59,1,8662,114,4,2,104,114,14452,14456,107,59,1,10531,4,2,59,111,14462,14464,1,8598,119,59,1,8598,101,97,114,59,1,10535,4,18,83,97,99,100,101,102,103,104,105,108,109,111,112,114,115,116,117,118,14512,14515,14535,14560,14597,14603,14618,14643,14657,14662,14701,14741,14747,14769,14851,14877,14907,14916,59,1,9416,4,2,99,115,14521,14531,117,116,101,5,243,1,59,14529,1,243,116,59,1,8859,4,2,105,121,14541,14557,114,4,2,59,99,14548,14550,1,8858,5,244,1,59,14555,1,244,59,1,1086,4,5,97,98,105,111,115,14572,14577,14583,14587,14591,115,104,59,1,8861,108,97,99,59,1,337,118,59,1,10808,116,59,1,8857,111,108,100,59,1,10684,108,105,103,59,1,339,4,2,99,114,14609,14614,105,114,59,1,10687,59,3,55349,56620,4,3,111,114,116,14626,14630,14640,110,59,1,731,97,118,101,5,242,1,59,14638,1,242,59,1,10689,4,2,98,109,14649,14654,97,114,59,1,10677,59,1,937,110,116,59,1,8750,4,4,97,99,105,116,14672,14677,14693,14698,114,114,59,1,8634,4,2,105,114,14683,14687,114,59,1,10686,111,115,115,59,1,10683,110,101,59,1,8254,59,1,10688,4,3,97,101,105,14709,14714,14719,99,114,59,1,333,103,97,59,1,969,4,3,99,100,110,14727,14733,14736,114,111,110,59,1,959,59,1,10678,117,115,59,1,8854,112,102,59,3,55349,56672,4,3,97,101,108,14755,14759,14764,114,59,1,10679,114,112,59,1,10681,117,115,59,1,8853,4,7,59,97,100,105,111,115,118,14785,14787,14792,14831,14837,14841,14848,1,8744,114,114,59,1,8635,4,4,59,101,102,109,14802,14804,14817,14824,1,10845,114,4,2,59,111,14811,14813,1,8500,102,59,1,8500,5,170,1,59,14822,1,170,5,186,1,59,14829,1,186,103,111,102,59,1,8886,114,59,1,10838,108,111,112,101,59,1,10839,59,1,10843,4,3,99,108,111,14859,14863,14873,114,59,1,8500,97,115,104,5,248,1,59,14871,1,248,108,59,1,8856,105,4,2,108,109,14884,14893,100,101,5,245,1,59,14891,1,245,101,115,4,2,59,97,14901,14903,1,8855,115,59,1,10806,109,108,5,246,1,59,14914,1,246,98,97,114,59,1,9021,4,12,97,99,101,102,104,105,108,109,111,114,115,117,14948,14992,14996,15033,15038,15068,15090,15189,15192,15222,15427,15441,114,4,4,59,97,115,116,14959,14961,14976,14989,1,8741,5,182,2,59,108,14968,14970,1,182,108,101,108,59,1,8741,4,2,105,108,14982,14986,109,59,1,10995,59,1,11005,59,1,8706,121,59,1,1087,114,4,5,99,105,109,112,116,15009,15014,15019,15024,15027,110,116,59,1,37,111,100,59,1,46,105,108,59,1,8240,59,1,8869,101,110,107,59,1,8241,114,59,3,55349,56621,4,3,105,109,111,15046,15057,15063,4,2,59,118,15052,15054,1,966,59,1,981,109,97,116,59,1,8499,110,101,59,1,9742,4,3,59,116,118,15076,15078,15087,1,960,99,104,102,111,114,107,59,1,8916,59,1,982,4,2,97,117,15096,15119,110,4,2,99,107,15103,15115,107,4,2,59,104,15110,15112,1,8463,59,1,8462,118,59,1,8463,115,4,9,59,97,98,99,100,101,109,115,116,15140,15142,15148,15151,15156,15168,15171,15179,15184,1,43,99,105,114,59,1,10787,59,1,8862,105,114,59,1,10786,4,2,111,117,15162,15165,59,1,8724,59,1,10789,59,1,10866,110,5,177,1,59,15177,1,177,105,109,59,1,10790,119,111,59,1,10791,59,1,177,4,3,105,112,117,15200,15208,15213,110,116,105,110,116,59,1,10773,102,59,3,55349,56673,110,100,5,163,1,59,15220,1,163,4,10,59,69,97,99,101,105,110,111,115,117,15244,15246,15249,15253,15258,15334,15347,15367,15416,15421,1,8826,59,1,10931,112,59,1,10935,117,101,59,1,8828,4,2,59,99,15264,15266,1,10927,4,6,59,97,99,101,110,115,15280,15282,15290,15299,15303,15329,1,8826,112,112,114,111,120,59,1,10935,117,114,108,121,101,113,59,1,8828,113,59,1,10927,4,3,97,101,115,15311,15319,15324,112,112,114,111,120,59,1,10937,113,113,59,1,10933,105,109,59,1,8936,105,109,59,1,8830,109,101,4,2,59,115,15342,15344,1,8242,59,1,8473,4,3,69,97,115,15355,15358,15362,59,1,10933,112,59,1,10937,105,109,59,1,8936,4,3,100,102,112,15375,15378,15404,59,1,8719,4,3,97,108,115,15386,15392,15398,108,97,114,59,1,9006,105,110,101,59,1,8978,117,114,102,59,1,8979,4,2,59,116,15410,15412,1,8733,111,59,1,8733,105,109,59,1,8830,114,101,108,59,1,8880,4,2,99,105,15433,15438,114,59,3,55349,56517,59,1,968,110,99,115,112,59,1,8200,4,6,102,105,111,112,115,117,15462,15467,15472,15478,15485,15491,114,59,3,55349,56622,110,116,59,1,10764,112,102,59,3,55349,56674,114,105,109,101,59,1,8279,99,114,59,3,55349,56518,4,3,97,101,111,15499,15520,15534,116,4,2,101,105,15506,15515,114,110,105,111,110,115,59,1,8461,110,116,59,1,10774,115,116,4,2,59,101,15528,15530,1,63,113,59,1,8799,116,5,34,1,59,15540,1,34,4,21,65,66,72,97,98,99,100,101,102,104,105,108,109,110,111,112,114,115,116,117,120,15586,15609,15615,15620,15796,15855,15893,15931,15977,16001,16039,16183,16204,16222,16228,16285,16312,16318,16363,16408,16416,4,3,97,114,116,15594,15599,15603,114,114,59,1,8667,114,59,1,8658,97,105,108,59,1,10524,97,114,114,59,1,10511,97,114,59,1,10596,4,7,99,100,101,110,113,114,116,15636,15651,15656,15664,15687,15696,15770,4,2,101,117,15642,15646,59,3,8765,817,116,101,59,1,341,105,99,59,1,8730,109,112,116,121,118,59,1,10675,103,4,4,59,100,101,108,15675,15677,15680,15683,1,10217,59,1,10642,59,1,10661,101,59,1,10217,117,111,5,187,1,59,15694,1,187,114,4,11,59,97,98,99,102,104,108,112,115,116,119,15721,15723,15727,15739,15742,15746,15750,15754,15758,15763,15767,1,8594,112,59,1,10613,4,2,59,102,15733,15735,1,8677,115,59,1,10528,59,1,10547,115,59,1,10526,107,59,1,8618,112,59,1,8620,108,59,1,10565,105,109,59,1,10612,108,59,1,8611,59,1,8605,4,2,97,105,15776,15781,105,108,59,1,10522,111,4,2,59,110,15788,15790,1,8758,97,108,115,59,1,8474,4,3,97,98,114,15804,15809,15814,114,114,59,1,10509,114,107,59,1,10099,4,2,97,107,15820,15833,99,4,2,101,107,15827,15830,59,1,125,59,1,93,4,2,101,115,15839,15842,59,1,10636,108,4,2,100,117,15849,15852,59,1,10638,59,1,10640,4,4,97,101,117,121,15865,15871,15886,15890,114,111,110,59,1,345,4,2,100,105,15877,15882,105,108,59,1,343,108,59,1,8969,98,59,1,125,59,1,1088,4,4,99,108,113,115,15903,15907,15914,15927,97,59,1,10551,100,104,97,114,59,1,10601,117,111,4,2,59,114,15922,15924,1,8221,59,1,8221,104,59,1,8627,4,3,97,99,103,15939,15966,15970,108,4,4,59,105,112,115,15950,15952,15957,15963,1,8476,110,101,59,1,8475,97,114,116,59,1,8476,59,1,8477,116,59,1,9645,5,174,1,59,15975,1,174,4,3,105,108,114,15985,15991,15997,115,104,116,59,1,10621,111,111,114,59,1,8971,59,3,55349,56623,4,2,97,111,16007,16028,114,4,2,100,117,16014,16017,59,1,8641,4,2,59,108,16023,16025,1,8640,59,1,10604,4,2,59,118,16034,16036,1,961,59,1,1009,4,3,103,110,115,16047,16167,16171,104,116,4,6,97,104,108,114,115,116,16063,16081,16103,16130,16143,16155,114,114,111,119,4,2,59,116,16073,16075,1,8594,97,105,108,59,1,8611,97,114,112,111,111,110,4,2,100,117,16093,16099,111,119,110,59,1,8641,112,59,1,8640,101,102,116,4,2,97,104,16112,16120,114,114,111,119,115,59,1,8644,97,114,112,111,111,110,115,59,1,8652,105,103,104,116,97,114,114,111,119,115,59,1,8649,113,117,105,103,97,114,114,111,119,59,1,8605,104,114,101,101,116,105,109,101,115,59,1,8908,103,59,1,730,105,110,103,100,111,116,115,101,113,59,1,8787,4,3,97,104,109,16191,16196,16201,114,114,59,1,8644,97,114,59,1,8652,59,1,8207,111,117,115,116,4,2,59,97,16214,16216,1,9137,99,104,101,59,1,9137,109,105,100,59,1,10990,4,4,97,98,112,116,16238,16252,16257,16278,4,2,110,114,16244,16248,103,59,1,10221,114,59,1,8702,114,107,59,1,10215,4,3,97,102,108,16265,16269,16273,114,59,1,10630,59,3,55349,56675,117,115,59,1,10798,105,109,101,115,59,1,10805,4,2,97,112,16291,16304,114,4,2,59,103,16298,16300,1,41,116,59,1,10644,111,108,105,110,116,59,1,10770,97,114,114,59,1,8649,4,4,97,99,104,113,16328,16334,16339,16342,113,117,111,59,1,8250,114,59,3,55349,56519,59,1,8625,4,2,98,117,16348,16351,59,1,93,111,4,2,59,114,16358,16360,1,8217,59,1,8217,4,3,104,105,114,16371,16377,16383,114,101,101,59,1,8908,109,101,115,59,1,8906,105,4,4,59,101,102,108,16394,16396,16399,16402,1,9657,59,1,8885,59,1,9656,116,114,105,59,1,10702,108,117,104,97,114,59,1,10600,59,1,8478,4,19,97,98,99,100,101,102,104,105,108,109,111,112,113,114,115,116,117,119,122,16459,16466,16472,16572,16590,16672,16687,16746,16844,16850,16924,16963,16988,17115,17121,17154,17206,17614,17656,99,117,116,101,59,1,347,113,117,111,59,1,8218,4,10,59,69,97,99,101,105,110,112,115,121,16494,16496,16499,16513,16518,16531,16536,16556,16564,16569,1,8827,59,1,10932,4,2,112,114,16505,16508,59,1,10936,111,110,59,1,353,117,101,59,1,8829,4,2,59,100,16524,16526,1,10928,105,108,59,1,351,114,99,59,1,349,4,3,69,97,115,16544,16547,16551,59,1,10934,112,59,1,10938,105,109,59,1,8937,111,108,105,110,116,59,1,10771,105,109,59,1,8831,59,1,1089,111,116,4,3,59,98,101,16582,16584,16587,1,8901,59,1,8865,59,1,10854,4,7,65,97,99,109,115,116,120,16606,16611,16634,16642,16646,16652,16668,114,114,59,1,8664,114,4,2,104,114,16618,16622,107,59,1,10533,4,2,59,111,16628,16630,1,8600,119,59,1,8600,116,5,167,1,59,16640,1,167,105,59,1,59,119,97,114,59,1,10537,109,4,2,105,110,16659,16665,110,117,115,59,1,8726,59,1,8726,116,59,1,10038,114,4,2,59,111,16679,16682,3,55349,56624,119,110,59,1,8994,4,4,97,99,111,121,16697,16702,16716,16739,114,112,59,1,9839,4,2,104,121,16708,16713,99,121,59,1,1097,59,1,1096,114,116,4,2,109,112,16724,16729,105,100,59,1,8739,97,114,97,108,108,101,108,59,1,8741,5,173,1,59,16744,1,173,4,2,103,109,16752,16770,109,97,4,3,59,102,118,16762,16764,16767,1,963,59,1,962,59,1,962,4,8,59,100,101,103,108,110,112,114,16788,16790,16795,16806,16817,16828,16832,16838,1,8764,111,116,59,1,10858,4,2,59,113,16801,16803,1,8771,59,1,8771,4,2,59,69,16812,16814,1,10910,59,1,10912,4,2,59,69,16823,16825,1,10909,59,1,10911,101,59,1,8774,108,117,115,59,1,10788,97,114,114,59,1,10610,97,114,114,59,1,8592,4,4,97,101,105,116,16860,16883,16891,16904,4,2,108,115,16866,16878,108,115,101,116,109,105,110,117,115,59,1,8726,104,112,59,1,10803,112,97,114,115,108,59,1,10724,4,2,100,108,16897,16900,59,1,8739,101,59,1,8995,4,2,59,101,16910,16912,1,10922,4,2,59,115,16918,16920,1,10924,59,3,10924,65024,4,3,102,108,112,16932,16938,16958,116,99,121,59,1,1100,4,2,59,98,16944,16946,1,47,4,2,59,97,16952,16954,1,10692,114,59,1,9023,102,59,3,55349,56676,97,4,2,100,114,16970,16985,101,115,4,2,59,117,16978,16980,1,9824,105,116,59,1,9824,59,1,8741,4,3,99,115,117,16996,17028,17089,4,2,97,117,17002,17015,112,4,2,59,115,17009,17011,1,8851,59,3,8851,65024,112,4,2,59,115,17022,17024,1,8852,59,3,8852,65024,117,4,2,98,112,17035,17062,4,3,59,101,115,17043,17045,17048,1,8847,59,1,8849,101,116,4,2,59,101,17056,17058,1,8847,113,59,1,8849,4,3,59,101,115,17070,17072,17075,1,8848,59,1,8850,101,116,4,2,59,101,17083,17085,1,8848,113,59,1,8850,4,3,59,97,102,17097,17099,17112,1,9633,114,4,2,101,102,17106,17109,59,1,9633,59,1,9642,59,1,9642,97,114,114,59,1,8594,4,4,99,101,109,116,17131,17136,17142,17148,114,59,3,55349,56520,116,109,110,59,1,8726,105,108,101,59,1,8995,97,114,102,59,1,8902,4,2,97,114,17160,17172,114,4,2,59,102,17167,17169,1,9734,59,1,9733,4,2,97,110,17178,17202,105,103,104,116,4,2,101,112,17188,17197,112,115,105,108,111,110,59,1,1013,104,105,59,1,981,115,59,1,175,4,5,98,99,109,110,112,17218,17351,17420,17423,17427,4,9,59,69,100,101,109,110,112,114,115,17238,17240,17243,17248,17261,17267,17279,17285,17291,1,8834,59,1,10949,111,116,59,1,10941,4,2,59,100,17254,17256,1,8838,111,116,59,1,10947,117,108,116,59,1,10945,4,2,69,101,17273,17276,59,1,10955,59,1,8842,108,117,115,59,1,10943,97,114,114,59,1,10617,4,3,101,105,117,17299,17335,17339,116,4,3,59,101,110,17308,17310,17322,1,8834,113,4,2,59,113,17317,17319,1,8838,59,1,10949,101,113,4,2,59,113,17330,17332,1,8842,59,1,10955,109,59,1,10951,4,2,98,112,17345,17348,59,1,10965,59,1,10963,99,4,6,59,97,99,101,110,115,17366,17368,17376,17385,17389,17415,1,8827,112,112,114,111,120,59,1,10936,117,114,108,121,101,113,59,1,8829,113,59,1,10928,4,3,97,101,115,17397,17405,17410,112,112,114,111,120,59,1,10938,113,113,59,1,10934,105,109,59,1,8937,105,109,59,1,8831,59,1,8721,103,59,1,9834,4,13,49,50,51,59,69,100,101,104,108,109,110,112,115,17455,17462,17469,17476,17478,17481,17496,17509,17524,17530,17536,17548,17554,5,185,1,59,17460,1,185,5,178,1,59,17467,1,178,5,179,1,59,17474,1,179,1,8835,59,1,10950,4,2,111,115,17487,17491,116,59,1,10942,117,98,59,1,10968,4,2,59,100,17502,17504,1,8839,111,116,59,1,10948,115,4,2,111,117,17516,17520,108,59,1,10185,98,59,1,10967,97,114,114,59,1,10619,117,108,116,59,1,10946,4,2,69,101,17542,17545,59,1,10956,59,1,8843,108,117,115,59,1,10944,4,3,101,105,117,17562,17598,17602,116,4,3,59,101,110,17571,17573,17585,1,8835,113,4,2,59,113,17580,17582,1,8839,59,1,10950,101,113,4,2,59,113,17593,17595,1,8843,59,1,10956,109,59,1,10952,4,2,98,112,17608,17611,59,1,10964,59,1,10966,4,3,65,97,110,17622,17627,17650,114,114,59,1,8665,114,4,2,104,114,17634,17638,107,59,1,10534,4,2,59,111,17644,17646,1,8601,119,59,1,8601,119,97,114,59,1,10538,108,105,103,5,223,1,59,17664,1,223,4,13,97,98,99,100,101,102,104,105,111,112,114,115,119,17694,17709,17714,17737,17742,17749,17754,17860,17905,17957,17964,18090,18122,4,2,114,117,17700,17706,103,101,116,59,1,8982,59,1,964,114,107,59,1,9140,4,3,97,101,121,17722,17728,17734,114,111,110,59,1,357,100,105,108,59,1,355,59,1,1090,111,116,59,1,8411,108,114,101,99,59,1,8981,114,59,3,55349,56625,4,4,101,105,107,111,17764,17805,17836,17851,4,2,114,116,17770,17786,101,4,2,52,102,17777,17780,59,1,8756,111,114,101,59,1,8756,97,4,3,59,115,118,17795,17797,17802,1,952,121,109,59,1,977,59,1,977,4,2,99,110,17811,17831,107,4,2,97,115,17818,17826,112,112,114,111,120,59,1,8776,105,109,59,1,8764,115,112,59,1,8201,4,2,97,115,17842,17846,112,59,1,8776,105,109,59,1,8764,114,110,5,254,1,59,17858,1,254,4,3,108,109,110,17868,17873,17901,100,101,59,1,732,101,115,5,215,3,59,98,100,17884,17886,17898,1,215,4,2,59,97,17892,17894,1,8864,114,59,1,10801,59,1,10800,116,59,1,8749,4,3,101,112,115,17913,17917,17953,97,59,1,10536,4,4,59,98,99,102,17927,17929,17934,17939,1,8868,111,116,59,1,9014,105,114,59,1,10993,4,2,59,111,17945,17948,3,55349,56677,114,107,59,1,10970,97,59,1,10537,114,105,109,101,59,1,8244,4,3,97,105,112,17972,17977,18082,100,101,59,1,8482,4,7,97,100,101,109,112,115,116,17993,18051,18056,18059,18066,18072,18076,110,103,108,101,4,5,59,100,108,113,114,18009,18011,18017,18032,18035,1,9653,111,119,110,59,1,9663,101,102,116,4,2,59,101,18026,18028,1,9667,113,59,1,8884,59,1,8796,105,103,104,116,4,2,59,101,18045,18047,1,9657,113,59,1,8885,111,116,59,1,9708,59,1,8796,105,110,117,115,59,1,10810,108,117,115,59,1,10809,98,59,1,10701,105,109,101,59,1,10811,101,122,105,117,109,59,1,9186,4,3,99,104,116,18098,18111,18116,4,2,114,121,18104,18108,59,3,55349,56521,59,1,1094,99,121,59,1,1115,114,111,107,59,1,359,4,2,105,111,18128,18133,120,116,59,1,8812,104,101,97,100,4,2,108,114,18143,18154,101,102,116,97,114,114,111,119,59,1,8606,105,103,104,116,97,114,114,111,119,59,1,8608,4,18,65,72,97,98,99,100,102,103,104,108,109,111,112,114,115,116,117,119,18204,18209,18214,18234,18250,18268,18292,18308,18319,18343,18379,18397,18413,18504,18547,18553,18584,18603,114,114,59,1,8657,97,114,59,1,10595,4,2,99,114,18220,18230,117,116,101,5,250,1,59,18228,1,250,114,59,1,8593,114,4,2,99,101,18241,18245,121,59,1,1118,118,101,59,1,365,4,2,105,121,18256,18265,114,99,5,251,1,59,18263,1,251,59,1,1091,4,3,97,98,104,18276,18281,18287,114,114,59,1,8645,108,97,99,59,1,369,97,114,59,1,10606,4,2,105,114,18298,18304,115,104,116,59,1,10622,59,3,55349,56626,114,97,118,101,5,249,1,59,18317,1,249,4,2,97,98,18325,18338,114,4,2,108,114,18332,18335,59,1,8639,59,1,8638,108,107,59,1,9600,4,2,99,116,18349,18374,4,2,111,114,18355,18369,114,110,4,2,59,101,18363,18365,1,8988,114,59,1,8988,111,112,59,1,8975,114,105,59,1,9720,4,2,97,108,18385,18390,99,114,59,1,363,5,168,1,59,18395,1,168,4,2,103,112,18403,18408,111,110,59,1,371,102,59,3,55349,56678,4,6,97,100,104,108,115,117,18427,18434,18445,18470,18475,18494,114,114,111,119,59,1,8593,111,119,110,97,114,114,111,119,59,1,8597,97,114,112,111,111,110,4,2,108,114,18457,18463,101,102,116,59,1,8639,105,103,104,116,59,1,8638,117,115,59,1,8846,105,4,3,59,104,108,18484,18486,18489,1,965,59,1,978,111,110,59,1,965,112,97,114,114,111,119,115,59,1,8648,4,3,99,105,116,18512,18537,18542,4,2,111,114,18518,18532,114,110,4,2,59,101,18526,18528,1,8989,114,59,1,8989,111,112,59,1,8974,110,103,59,1,367,114,105,59,1,9721,99,114,59,3,55349,56522,4,3,100,105,114,18561,18566,18572,111,116,59,1,8944,108,100,101,59,1,361,105,4,2,59,102,18579,18581,1,9653,59,1,9652,4,2,97,109,18590,18595,114,114,59,1,8648,108,5,252,1,59,18601,1,252,97,110,103,108,101,59,1,10663,4,15,65,66,68,97,99,100,101,102,108,110,111,112,114,115,122,18643,18648,18661,18667,18847,18851,18857,18904,18909,18915,18931,18937,18943,18949,18996,114,114,59,1,8661,97,114,4,2,59,118,18656,18658,1,10984,59,1,10985,97,115,104,59,1,8872,4,2,110,114,18673,18679,103,114,116,59,1,10652,4,7,101,107,110,112,114,115,116,18695,18704,18711,18720,18742,18754,18810,112,115,105,108,111,110,59,1,1013,97,112,112,97,59,1,1008,111,116,104,105,110,103,59,1,8709,4,3,104,105,114,18728,18732,18735,105,59,1,981,59,1,982,111,112,116,111,59,1,8733,4,2,59,104,18748,18750,1,8597,111,59,1,1009,4,2,105,117,18760,18766,103,109,97,59,1,962,4,2,98,112,18772,18791,115,101,116,110,101,113,4,2,59,113,18784,18787,3,8842,65024,59,3,10955,65024,115,101,116,110,101,113,4,2,59,113,18803,18806,3,8843,65024,59,3,10956,65024,4,2,104,114,18816,18822,101,116,97,59,1,977,105,97,110,103,108,101,4,2,108,114,18834,18840,101,102,116,59,1,8882,105,103,104,116,59,1,8883,121,59,1,1074,97,115,104,59,1,8866,4,3,101,108,114,18865,18884,18890,4,3,59,98,101,18873,18875,18880,1,8744,97,114,59,1,8891,113,59,1,8794,108,105,112,59,1,8942,4,2,98,116,18896,18901,97,114,59,1,124,59,1,124,114,59,3,55349,56627,116,114,105,59,1,8882,115,117,4,2,98,112,18923,18927,59,3,8834,8402,59,3,8835,8402,112,102,59,3,55349,56679,114,111,112,59,1,8733,116,114,105,59,1,8883,4,2,99,117,18955,18960,114,59,3,55349,56523,4,2,98,112,18966,18981,110,4,2,69,101,18973,18977,59,3,10955,65024,59,3,8842,65024,110,4,2,69,101,18988,18992,59,3,10956,65024,59,3,8843,65024,105,103,122,97,103,59,1,10650,4,7,99,101,102,111,112,114,115,19020,19026,19061,19066,19072,19075,19089,105,114,99,59,1,373,4,2,100,105,19032,19055,4,2,98,103,19038,19043,97,114,59,1,10847,101,4,2,59,113,19050,19052,1,8743,59,1,8793,101,114,112,59,1,8472,114,59,3,55349,56628,112,102,59,3,55349,56680,59,1,8472,4,2,59,101,19081,19083,1,8768,97,116,104,59,1,8768,99,114,59,3,55349,56524,4,14,99,100,102,104,105,108,109,110,111,114,115,117,118,119,19125,19146,19152,19157,19173,19176,19192,19197,19202,19236,19252,19269,19286,19291,4,3,97,105,117,19133,19137,19142,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,116,114,105,59,1,9661,114,59,3,55349,56629,4,2,65,97,19163,19168,114,114,59,1,10234,114,114,59,1,10231,59,1,958,4,2,65,97,19182,19187,114,114,59,1,10232,114,114,59,1,10229,97,112,59,1,10236,105,115,59,1,8955,4,3,100,112,116,19210,19215,19230,111,116,59,1,10752,4,2,102,108,19221,19225,59,3,55349,56681,117,115,59,1,10753,105,109,101,59,1,10754,4,2,65,97,19242,19247,114,114,59,1,10233,114,114,59,1,10230,4,2,99,113,19258,19263,114,59,3,55349,56525,99,117,112,59,1,10758,4,2,112,116,19275,19281,108,117,115,59,1,10756,114,105,59,1,9651,101,101,59,1,8897,101,100,103,101,59,1,8896,4,8,97,99,101,102,105,111,115,117,19316,19335,19349,19357,19362,19367,19373,19379,99,4,2,117,121,19323,19332,116,101,5,253,1,59,19330,1,253,59,1,1103,4,2,105,121,19341,19346,114,99,59,1,375,59,1,1099,110,5,165,1,59,19355,1,165,114,59,3,55349,56630,99,121,59,1,1111,112,102,59,3,55349,56682,99,114,59,3,55349,56526,4,2,99,109,19385,19389,121,59,1,1102,108,5,255,1,59,19395,1,255,4,10,97,99,100,101,102,104,105,111,115,119,19419,19426,19441,19446,19462,19467,19472,19480,19486,19492,99,117,116,101,59,1,378,4,2,97,121,19432,19438,114,111,110,59,1,382,59,1,1079,111,116,59,1,380,4,2,101,116,19452,19458,116,114,102,59,1,8488,97,59,1,950,114,59,3,55349,56631,99,121,59,1,1078,103,114,97,114,114,59,1,8669,112,102,59,3,55349,56683,99,114,59,3,55349,56527,4,2,106,110,19498,19501,59,1,8205,106,59,1,8204]);const r8=t8,St=vr,us=n8,fe=Pu,U=St.CODE_POINTS,Qi=St.CODE_POINT_SEQUENCES,i8={128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},C5=1,D5=2,w5=4,s8=C5|D5|w5,dt="DATA_STATE",Gs="RCDATA_STATE",wa="RAWTEXT_STATE",Zr="SCRIPT_DATA_STATE",R5="PLAINTEXT_STATE",Th="TAG_OPEN_STATE",_h="END_TAG_OPEN_STATE",C0="TAG_NAME_STATE",vh="RCDATA_LESS_THAN_SIGN_STATE",xh="RCDATA_END_TAG_OPEN_STATE",Ah="RCDATA_END_TAG_NAME_STATE",yh="RAWTEXT_LESS_THAN_SIGN_STATE",Sh="RAWTEXT_END_TAG_OPEN_STATE",bh="RAWTEXT_END_TAG_NAME_STATE",Mh="SCRIPT_DATA_LESS_THAN_SIGN_STATE",Ch="SCRIPT_DATA_END_TAG_OPEN_STATE",Dh="SCRIPT_DATA_END_TAG_NAME_STATE",wh="SCRIPT_DATA_ESCAPE_START_STATE",Rh="SCRIPT_DATA_ESCAPE_START_DASH_STATE",or="SCRIPT_DATA_ESCAPED_STATE",Nh="SCRIPT_DATA_ESCAPED_DASH_STATE",D0="SCRIPT_DATA_ESCAPED_DASH_DASH_STATE",_o="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE",Ih="SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE",Lh="SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE",Fh="SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE",Hr="SCRIPT_DATA_DOUBLE_ESCAPED_STATE",Ph="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE",Oh="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE",vo="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE",kh="SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE",yr="BEFORE_ATTRIBUTE_NAME_STATE",xo="ATTRIBUTE_NAME_STATE",w0="AFTER_ATTRIBUTE_NAME_STATE",R0="BEFORE_ATTRIBUTE_VALUE_STATE",Ao="ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE",yo="ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE",So="ATTRIBUTE_VALUE_UNQUOTED_STATE",N0="AFTER_ATTRIBUTE_VALUE_QUOTED_STATE",Ti="SELF_CLOSING_START_TAG_STATE",ma="BOGUS_COMMENT_STATE",Bh="MARKUP_DECLARATION_OPEN_STATE",Uh="COMMENT_START_STATE",zh="COMMENT_START_DASH_STATE",_i="COMMENT_STATE",Hh="COMMENT_LESS_THAN_SIGN_STATE",Gh="COMMENT_LESS_THAN_SIGN_BANG_STATE",Vh="COMMENT_LESS_THAN_SIGN_BANG_DASH_STATE",Wh="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH_STATE",bo="COMMENT_END_DASH_STATE",Mo="COMMENT_END_STATE",qh="COMMENT_END_BANG_STATE",Xh="DOCTYPE_STATE",Co="BEFORE_DOCTYPE_NAME_STATE",Do="DOCTYPE_NAME_STATE",Yh="AFTER_DOCTYPE_NAME_STATE",Kh="AFTER_DOCTYPE_PUBLIC_KEYWORD_STATE",$h="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE",I0="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE",L0="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE",F0="AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE",jh="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE",Qh="AFTER_DOCTYPE_SYSTEM_KEYWORD_STATE",Zh="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE",ga="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE",Ea="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE",P0="AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE",Gr="BOGUS_DOCTYPE_STATE",wo="CDATA_SECTION_STATE",Jh="CDATA_SECTION_BRACKET_STATE",ef="CDATA_SECTION_END_STATE",As="CHARACTER_REFERENCE_STATE",tf="NAMED_CHARACTER_REFERENCE_STATE",nf="AMBIGUOS_AMPERSAND_STATE",rf="NUMERIC_CHARACTER_REFERENCE_STATE",sf="HEXADEMICAL_CHARACTER_REFERENCE_START_STATE",af="DECIMAL_CHARACTER_REFERENCE_START_STATE",of="HEXADEMICAL_CHARACTER_REFERENCE_STATE",lf="DECIMAL_CHARACTER_REFERENCE_STATE",Ta="NUMERIC_CHARACTER_REFERENCE_END_STATE";function It(n){return n===U.SPACE||n===U.LINE_FEED||n===U.TABULATION||n===U.FORM_FEED}function La(n){return n>=U.DIGIT_0&&n<=U.DIGIT_9}function dr(n){return n>=U.LATIN_CAPITAL_A&&n<=U.LATIN_CAPITAL_Z}function is(n){return n>=U.LATIN_SMALL_A&&n<=U.LATIN_SMALL_Z}function Ci(n){return is(n)||dr(n)}function O0(n){return Ci(n)||La(n)}function N5(n){return n>=U.LATIN_CAPITAL_A&&n<=U.LATIN_CAPITAL_F}function I5(n){return n>=U.LATIN_SMALL_A&&n<=U.LATIN_SMALL_F}function a8(n){return La(n)||N5(n)||I5(n)}function l1(n){return n+32}function zt(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode(n>>>10&1023|55296)+String.fromCharCode(56320|n&1023))}function vi(n){return String.fromCharCode(l1(n))}function uf(n,e){const t=us[++n];let r=++n,i=r+t-1;for(;r<=i;){const s=r+i>>>1,a=us[s];if(a<e)r=s+1;else if(a>e)i=s-1;else return us[s+t]}return-1}let sr=class Mn{constructor(){this.preprocessor=new r8,this.tokenQueue=[],this.allowCDATA=!1,this.state=dt,this.returnState="",this.charRefCode=-1,this.tempBuff=[],this.lastStartTagName="",this.consumedAfterSnapshot=-1,this.active=!1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr=null}_err(){}_errOnNextCodePoint(e){this._consume(),this._err(e),this._unconsume()}getNextToken(){for(;!this.tokenQueue.length&&this.active;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this[this.state](e)}return this.tokenQueue.shift()}write(e,t){this.active=!0,this.preprocessor.write(e,t)}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e)}_ensureHibernation(){if(this.preprocessor.endOfChunkHit){for(;this.consumedAfterSnapshot>0;this.consumedAfterSnapshot--)this.preprocessor.retreat();return this.active=!1,this.tokenQueue.push({type:Mn.HIBERNATION_TOKEN}),!0}return!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(){this.consumedAfterSnapshot--,this.preprocessor.retreat()}_reconsumeInState(e){this.state=e,this._unconsume()}_consumeSequenceIfMatch(e,t,r){let i=0,s=!0;const a=e.length;let o=0,l=t,u;for(;o<a;o++){if(o>0&&(l=this._consume(),i++),l===U.EOF){s=!1;break}if(u=e[o],l!==u&&(r||l!==l1(u))){s=!1;break}}if(!s)for(;i--;)this._unconsume();return s}_isTempBufferEqualToScriptString(){if(this.tempBuff.length!==Qi.SCRIPT_STRING.length)return!1;for(let e=0;e<this.tempBuff.length;e++)if(this.tempBuff[e]!==Qi.SCRIPT_STRING[e])return!1;return!0}_createStartTagToken(){this.currentToken={type:Mn.START_TAG_TOKEN,tagName:"",selfClosing:!1,ackSelfClosing:!1,attrs:[]}}_createEndTagToken(){this.currentToken={type:Mn.END_TAG_TOKEN,tagName:"",selfClosing:!1,attrs:[]}}_createCommentToken(){this.currentToken={type:Mn.COMMENT_TOKEN,data:""}}_createDoctypeToken(e){this.currentToken={type:Mn.DOCTYPE_TOKEN,name:e,forceQuirks:!1,publicId:null,systemId:null}}_createCharacterToken(e,t){this.currentCharacterToken={type:e,chars:t}}_createEOFToken(){this.currentToken={type:Mn.EOF_TOKEN}}_createAttr(e){this.currentAttr={name:e,value:""}}_leaveAttrName(e){Mn.getTokenAttr(this.currentToken,this.currentAttr.name)===null?this.currentToken.attrs.push(this.currentAttr):this._err(fe.duplicateAttribute),this.state=e}_leaveAttrValue(e){this.state=e}_emitCurrentToken(){this._emitCurrentCharacterToken();const e=this.currentToken;this.currentToken=null,e.type===Mn.START_TAG_TOKEN?this.lastStartTagName=e.tagName:e.type===Mn.END_TAG_TOKEN&&(e.attrs.length>0&&this._err(fe.endTagWithAttributes),e.selfClosing&&this._err(fe.endTagWithTrailingSolidus)),this.tokenQueue.push(e)}_emitCurrentCharacterToken(){this.currentCharacterToken&&(this.tokenQueue.push(this.currentCharacterToken),this.currentCharacterToken=null)}_emitEOFToken(){this._createEOFToken(),this._emitCurrentToken()}_appendCharToCurrentCharacterToken(e,t){this.currentCharacterToken&&this.currentCharacterToken.type!==e&&this._emitCurrentCharacterToken(),this.currentCharacterToken?this.currentCharacterToken.chars+=t:this._createCharacterToken(e,t)}_emitCodePoint(e){let t=Mn.CHARACTER_TOKEN;It(e)?t=Mn.WHITESPACE_CHARACTER_TOKEN:e===U.NULL&&(t=Mn.NULL_CHARACTER_TOKEN),this._appendCharToCurrentCharacterToken(t,zt(e))}_emitSeveralCodePoints(e){for(let t=0;t<e.length;t++)this._emitCodePoint(e[t])}_emitChars(e){this._appendCharToCurrentCharacterToken(Mn.CHARACTER_TOKEN,e)}_matchNamedCharacterReference(e){let t=null,r=1,i=uf(0,e);for(this.tempBuff.push(e);i>-1;){const s=us[i],a=s<s8;a&&s&C5&&(t=s&D5?[us[++i],us[++i]]:[us[++i]],r=0);const l=this._consume();if(this.tempBuff.push(l),r++,l===U.EOF)break;a?i=s&w5?uf(i,l):-1:i=l===s?++i:-1}for(;r--;)this.tempBuff.pop(),this._unconsume();return t}_isCharacterReferenceInAttribute(){return this.returnState===Ao||this.returnState===yo||this.returnState===So}_isCharacterReferenceAttributeQuirk(e){if(!e&&this._isCharacterReferenceInAttribute()){const t=this._consume();return this._unconsume(),t===U.EQUALS_SIGN||O0(t)}return!1}_flushCodePointsConsumedAsCharacterReference(){if(this._isCharacterReferenceInAttribute())for(let e=0;e<this.tempBuff.length;e++)this.currentAttr.value+=zt(this.tempBuff[e]);else this._emitSeveralCodePoints(this.tempBuff);this.tempBuff=[]}[dt](e){this.preprocessor.dropParsedChunk(),e===U.LESS_THAN_SIGN?this.state=Th:e===U.AMPERSAND?(this.returnState=dt,this.state=As):e===U.NULL?(this._err(fe.unexpectedNullCharacter),this._emitCodePoint(e)):e===U.EOF?this._emitEOFToken():this._emitCodePoint(e)}[Gs](e){this.preprocessor.dropParsedChunk(),e===U.AMPERSAND?(this.returnState=Gs,this.state=As):e===U.LESS_THAN_SIGN?this.state=vh:e===U.NULL?(this._err(fe.unexpectedNullCharacter),this._emitChars(St.REPLACEMENT_CHARACTER)):e===U.EOF?this._emitEOFToken():this._emitCodePoint(e)}[wa](e){this.preprocessor.dropParsedChunk(),e===U.LESS_THAN_SIGN?this.state=yh:e===U.NULL?(this._err(fe.unexpectedNullCharacter),this._emitChars(St.REPLACEMENT_CHARACTER)):e===U.EOF?this._emitEOFToken():this._emitCodePoint(e)}[Zr](e){this.preprocessor.dropParsedChunk(),e===U.LESS_THAN_SIGN?this.state=Mh:e===U.NULL?(this._err(fe.unexpectedNullCharacter),this._emitChars(St.REPLACEMENT_CHARACTER)):e===U.EOF?this._emitEOFToken():this._emitCodePoint(e)}[R5](e){this.preprocessor.dropParsedChunk(),e===U.NULL?(this._err(fe.unexpectedNullCharacter),this._emitChars(St.REPLACEMENT_CHARACTER)):e===U.EOF?this._emitEOFToken():this._emitCodePoint(e)}[Th](e){e===U.EXCLAMATION_MARK?this.state=Bh:e===U.SOLIDUS?this.state=_h:Ci(e)?(this._createStartTagToken(),this._reconsumeInState(C0)):e===U.QUESTION_MARK?(this._err(fe.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(),this._reconsumeInState(ma)):e===U.EOF?(this._err(fe.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken()):(this._err(fe.invalidFirstCharacterOfTagName),this._emitChars("<"),this._reconsumeInState(dt))}[_h](e){Ci(e)?(this._createEndTagToken(),this._reconsumeInState(C0)):e===U.GREATER_THAN_SIGN?(this._err(fe.missingEndTagName),this.state=dt):e===U.EOF?(this._err(fe.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken()):(this._err(fe.invalidFirstCharacterOfTagName),this._createCommentToken(),this._reconsumeInState(ma))}[C0](e){It(e)?this.state=yr:e===U.SOLIDUS?this.state=Ti:e===U.GREATER_THAN_SIGN?(this.state=dt,this._emitCurrentToken()):dr(e)?this.currentToken.tagName+=vi(e):e===U.NULL?(this._err(fe.unexpectedNullCharacter),this.currentToken.tagName+=St.REPLACEMENT_CHARACTER):e===U.EOF?(this._err(fe.eofInTag),this._emitEOFToken()):this.currentToken.tagName+=zt(e)}[vh](e){e===U.SOLIDUS?(this.tempBuff=[],this.state=xh):(this._emitChars("<"),this._reconsumeInState(Gs))}[xh](e){Ci(e)?(this._createEndTagToken(),this._reconsumeInState(Ah)):(this._emitChars("</"),this._reconsumeInState(Gs))}[Ah](e){if(dr(e))this.currentToken.tagName+=vi(e),this.tempBuff.push(e);else if(is(e))this.currentToken.tagName+=zt(e),this.tempBuff.push(e);else{if(this.lastStartTagName===this.currentToken.tagName){if(It(e)){this.state=yr;return}if(e===U.SOLIDUS){this.state=Ti;return}if(e===U.GREATER_THAN_SIGN){this.state=dt,this._emitCurrentToken();return}}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(Gs)}}[yh](e){e===U.SOLIDUS?(this.tempBuff=[],this.state=Sh):(this._emitChars("<"),this._reconsumeInState(wa))}[Sh](e){Ci(e)?(this._createEndTagToken(),this._reconsumeInState(bh)):(this._emitChars("</"),this._reconsumeInState(wa))}[bh](e){if(dr(e))this.currentToken.tagName+=vi(e),this.tempBuff.push(e);else if(is(e))this.currentToken.tagName+=zt(e),this.tempBuff.push(e);else{if(this.lastStartTagName===this.currentToken.tagName){if(It(e)){this.state=yr;return}if(e===U.SOLIDUS){this.state=Ti;return}if(e===U.GREATER_THAN_SIGN){this._emitCurrentToken(),this.state=dt;return}}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(wa)}}[Mh](e){e===U.SOLIDUS?(this.tempBuff=[],this.state=Ch):e===U.EXCLAMATION_MARK?(this.state=wh,this._emitChars("<!")):(this._emitChars("<"),this._reconsumeInState(Zr))}[Ch](e){Ci(e)?(this._createEndTagToken(),this._reconsumeInState(Dh)):(this._emitChars("</"),this._reconsumeInState(Zr))}[Dh](e){if(dr(e))this.currentToken.tagName+=vi(e),this.tempBuff.push(e);else if(is(e))this.currentToken.tagName+=zt(e),this.tempBuff.push(e);else{if(this.lastStartTagName===this.currentToken.tagName){if(It(e)){this.state=yr;return}else if(e===U.SOLIDUS){this.state=Ti;return}else if(e===U.GREATER_THAN_SIGN){this._emitCurrentToken(),this.state=dt;return}}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(Zr)}}[wh](e){e===U.HYPHEN_MINUS?(this.state=Rh,this._emitChars("-")):this._reconsumeInState(Zr)}[Rh](e){e===U.HYPHEN_MINUS?(this.state=D0,this._emitChars("-")):this._reconsumeInState(Zr)}[or](e){e===U.HYPHEN_MINUS?(this.state=Nh,this._emitChars("-")):e===U.LESS_THAN_SIGN?this.state=_o:e===U.NULL?(this._err(fe.unexpectedNullCharacter),this._emitChars(St.REPLACEMENT_CHARACTER)):e===U.EOF?(this._err(fe.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):this._emitCodePoint(e)}[Nh](e){e===U.HYPHEN_MINUS?(this.state=D0,this._emitChars("-")):e===U.LESS_THAN_SIGN?this.state=_o:e===U.NULL?(this._err(fe.unexpectedNullCharacter),this.state=or,this._emitChars(St.REPLACEMENT_CHARACTER)):e===U.EOF?(this._err(fe.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=or,this._emitCodePoint(e))}[D0](e){e===U.HYPHEN_MINUS?this._emitChars("-"):e===U.LESS_THAN_SIGN?this.state=_o:e===U.GREATER_THAN_SIGN?(this.state=Zr,this._emitChars(">")):e===U.NULL?(this._err(fe.unexpectedNullCharacter),this.state=or,this._emitChars(St.REPLACEMENT_CHARACTER)):e===U.EOF?(this._err(fe.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=or,this._emitCodePoint(e))}[_o](e){e===U.SOLIDUS?(this.tempBuff=[],this.state=Ih):Ci(e)?(this.tempBuff=[],this._emitChars("<"),this._reconsumeInState(Fh)):(this._emitChars("<"),this._reconsumeInState(or))}[Ih](e){Ci(e)?(this._createEndTagToken(),this._reconsumeInState(Lh)):(this._emitChars("</"),this._reconsumeInState(or))}[Lh](e){if(dr(e))this.currentToken.tagName+=vi(e),this.tempBuff.push(e);else if(is(e))this.currentToken.tagName+=zt(e),this.tempBuff.push(e);else{if(this.lastStartTagName===this.currentToken.tagName){if(It(e)){this.state=yr;return}if(e===U.SOLIDUS){this.state=Ti;return}if(e===U.GREATER_THAN_SIGN){this._emitCurrentToken(),this.state=dt;return}}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(or)}}[Fh](e){It(e)||e===U.SOLIDUS||e===U.GREATER_THAN_SIGN?(this.state=this._isTempBufferEqualToScriptString()?Hr:or,this._emitCodePoint(e)):dr(e)?(this.tempBuff.push(l1(e)),this._emitCodePoint(e)):is(e)?(this.tempBuff.push(e),this._emitCodePoint(e)):this._reconsumeInState(or)}[Hr](e){e===U.HYPHEN_MINUS?(this.state=Ph,this._emitChars("-")):e===U.LESS_THAN_SIGN?(this.state=vo,this._emitChars("<")):e===U.NULL?(this._err(fe.unexpectedNullCharacter),this._emitChars(St.REPLACEMENT_CHARACTER)):e===U.EOF?(this._err(fe.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):this._emitCodePoint(e)}[Ph](e){e===U.HYPHEN_MINUS?(this.state=Oh,this._emitChars("-")):e===U.LESS_THAN_SIGN?(this.state=vo,this._emitChars("<")):e===U.NULL?(this._err(fe.unexpectedNullCharacter),this.state=Hr,this._emitChars(St.REPLACEMENT_CHARACTER)):e===U.EOF?(this._err(fe.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=Hr,this._emitCodePoint(e))}[Oh](e){e===U.HYPHEN_MINUS?this._emitChars("-"):e===U.LESS_THAN_SIGN?(this.state=vo,this._emitChars("<")):e===U.GREATER_THAN_SIGN?(this.state=Zr,this._emitChars(">")):e===U.NULL?(this._err(fe.unexpectedNullCharacter),this.state=Hr,this._emitChars(St.REPLACEMENT_CHARACTER)):e===U.EOF?(this._err(fe.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=Hr,this._emitCodePoint(e))}[vo](e){e===U.SOLIDUS?(this.tempBuff=[],this.state=kh,this._emitChars("/")):this._reconsumeInState(Hr)}[kh](e){It(e)||e===U.SOLIDUS||e===U.GREATER_THAN_SIGN?(this.state=this._isTempBufferEqualToScriptString()?or:Hr,this._emitCodePoint(e)):dr(e)?(this.tempBuff.push(l1(e)),this._emitCodePoint(e)):is(e)?(this.tempBuff.push(e),this._emitCodePoint(e)):this._reconsumeInState(Hr)}[yr](e){It(e)||(e===U.SOLIDUS||e===U.GREATER_THAN_SIGN||e===U.EOF?this._reconsumeInState(w0):e===U.EQUALS_SIGN?(this._err(fe.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=xo):(this._createAttr(""),this._reconsumeInState(xo)))}[xo](e){It(e)||e===U.SOLIDUS||e===U.GREATER_THAN_SIGN||e===U.EOF?(this._leaveAttrName(w0),this._unconsume()):e===U.EQUALS_SIGN?this._leaveAttrName(R0):dr(e)?this.currentAttr.name+=vi(e):e===U.QUOTATION_MARK||e===U.APOSTROPHE||e===U.LESS_THAN_SIGN?(this._err(fe.unexpectedCharacterInAttributeName),this.currentAttr.name+=zt(e)):e===U.NULL?(this._err(fe.unexpectedNullCharacter),this.currentAttr.name+=St.REPLACEMENT_CHARACTER):this.currentAttr.name+=zt(e)}[w0](e){It(e)||(e===U.SOLIDUS?this.state=Ti:e===U.EQUALS_SIGN?this.state=R0:e===U.GREATER_THAN_SIGN?(this.state=dt,this._emitCurrentToken()):e===U.EOF?(this._err(fe.eofInTag),this._emitEOFToken()):(this._createAttr(""),this._reconsumeInState(xo)))}[R0](e){It(e)||(e===U.QUOTATION_MARK?this.state=Ao:e===U.APOSTROPHE?this.state=yo:e===U.GREATER_THAN_SIGN?(this._err(fe.missingAttributeValue),this.state=dt,this._emitCurrentToken()):this._reconsumeInState(So))}[Ao](e){e===U.QUOTATION_MARK?this.state=N0:e===U.AMPERSAND?(this.returnState=Ao,this.state=As):e===U.NULL?(this._err(fe.unexpectedNullCharacter),this.currentAttr.value+=St.REPLACEMENT_CHARACTER):e===U.EOF?(this._err(fe.eofInTag),this._emitEOFToken()):this.currentAttr.value+=zt(e)}[yo](e){e===U.APOSTROPHE?this.state=N0:e===U.AMPERSAND?(this.returnState=yo,this.state=As):e===U.NULL?(this._err(fe.unexpectedNullCharacter),this.currentAttr.value+=St.REPLACEMENT_CHARACTER):e===U.EOF?(this._err(fe.eofInTag),this._emitEOFToken()):this.currentAttr.value+=zt(e)}[So](e){It(e)?this._leaveAttrValue(yr):e===U.AMPERSAND?(this.returnState=So,this.state=As):e===U.GREATER_THAN_SIGN?(this._leaveAttrValue(dt),this._emitCurrentToken()):e===U.NULL?(this._err(fe.unexpectedNullCharacter),this.currentAttr.value+=St.REPLACEMENT_CHARACTER):e===U.QUOTATION_MARK||e===U.APOSTROPHE||e===U.LESS_THAN_SIGN||e===U.EQUALS_SIGN||e===U.GRAVE_ACCENT?(this._err(fe.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=zt(e)):e===U.EOF?(this._err(fe.eofInTag),this._emitEOFToken()):this.currentAttr.value+=zt(e)}[N0](e){It(e)?this._leaveAttrValue(yr):e===U.SOLIDUS?this._leaveAttrValue(Ti):e===U.GREATER_THAN_SIGN?(this._leaveAttrValue(dt),this._emitCurrentToken()):e===U.EOF?(this._err(fe.eofInTag),this._emitEOFToken()):(this._err(fe.missingWhitespaceBetweenAttributes),this._reconsumeInState(yr))}[Ti](e){e===U.GREATER_THAN_SIGN?(this.currentToken.selfClosing=!0,this.state=dt,this._emitCurrentToken()):e===U.EOF?(this._err(fe.eofInTag),this._emitEOFToken()):(this._err(fe.unexpectedSolidusInTag),this._reconsumeInState(yr))}[ma](e){e===U.GREATER_THAN_SIGN?(this.state=dt,this._emitCurrentToken()):e===U.EOF?(this._emitCurrentToken(),this._emitEOFToken()):e===U.NULL?(this._err(fe.unexpectedNullCharacter),this.currentToken.data+=St.REPLACEMENT_CHARACTER):this.currentToken.data+=zt(e)}[Bh](e){this._consumeSequenceIfMatch(Qi.DASH_DASH_STRING,e,!0)?(this._createCommentToken(),this.state=Uh):this._consumeSequenceIfMatch(Qi.DOCTYPE_STRING,e,!1)?this.state=Xh:this._consumeSequenceIfMatch(Qi.CDATA_START_STRING,e,!0)?this.allowCDATA?this.state=wo:(this._err(fe.cdataInHtmlContent),this._createCommentToken(),this.currentToken.data="[CDATA[",this.state=ma):this._ensureHibernation()||(this._err(fe.incorrectlyOpenedComment),this._createCommentToken(),this._reconsumeInState(ma))}[Uh](e){e===U.HYPHEN_MINUS?this.state=zh:e===U.GREATER_THAN_SIGN?(this._err(fe.abruptClosingOfEmptyComment),this.state=dt,this._emitCurrentToken()):this._reconsumeInState(_i)}[zh](e){e===U.HYPHEN_MINUS?this.state=Mo:e===U.GREATER_THAN_SIGN?(this._err(fe.abruptClosingOfEmptyComment),this.state=dt,this._emitCurrentToken()):e===U.EOF?(this._err(fe.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="-",this._reconsumeInState(_i))}[_i](e){e===U.HYPHEN_MINUS?this.state=bo:e===U.LESS_THAN_SIGN?(this.currentToken.data+="<",this.state=Hh):e===U.NULL?(this._err(fe.unexpectedNullCharacter),this.currentToken.data+=St.REPLACEMENT_CHARACTER):e===U.EOF?(this._err(fe.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.data+=zt(e)}[Hh](e){e===U.EXCLAMATION_MARK?(this.currentToken.data+="!",this.state=Gh):e===U.LESS_THAN_SIGN?this.currentToken.data+="!":this._reconsumeInState(_i)}[Gh](e){e===U.HYPHEN_MINUS?this.state=Vh:this._reconsumeInState(_i)}[Vh](e){e===U.HYPHEN_MINUS?this.state=Wh:this._reconsumeInState(bo)}[Wh](e){e!==U.GREATER_THAN_SIGN&&e!==U.EOF&&this._err(fe.nestedComment),this._reconsumeInState(Mo)}[bo](e){e===U.HYPHEN_MINUS?this.state=Mo:e===U.EOF?(this._err(fe.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="-",this._reconsumeInState(_i))}[Mo](e){e===U.GREATER_THAN_SIGN?(this.state=dt,this._emitCurrentToken()):e===U.EXCLAMATION_MARK?this.state=qh:e===U.HYPHEN_MINUS?this.currentToken.data+="-":e===U.EOF?(this._err(fe.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="--",this._reconsumeInState(_i))}[qh](e){e===U.HYPHEN_MINUS?(this.currentToken.data+="--!",this.state=bo):e===U.GREATER_THAN_SIGN?(this._err(fe.incorrectlyClosedComment),this.state=dt,this._emitCurrentToken()):e===U.EOF?(this._err(fe.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="--!",this._reconsumeInState(_i))}[Xh](e){It(e)?this.state=Co:e===U.GREATER_THAN_SIGN?this._reconsumeInState(Co):e===U.EOF?(this._err(fe.eofInDoctype),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(fe.missingWhitespaceBeforeDoctypeName),this._reconsumeInState(Co))}[Co](e){It(e)||(dr(e)?(this._createDoctypeToken(vi(e)),this.state=Do):e===U.NULL?(this._err(fe.unexpectedNullCharacter),this._createDoctypeToken(St.REPLACEMENT_CHARACTER),this.state=Do):e===U.GREATER_THAN_SIGN?(this._err(fe.missingDoctypeName),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=dt):e===U.EOF?(this._err(fe.eofInDoctype),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._createDoctypeToken(zt(e)),this.state=Do))}[Do](e){It(e)?this.state=Yh:e===U.GREATER_THAN_SIGN?(this.state=dt,this._emitCurrentToken()):dr(e)?this.currentToken.name+=vi(e):e===U.NULL?(this._err(fe.unexpectedNullCharacter),this.currentToken.name+=St.REPLACEMENT_CHARACTER):e===U.EOF?(this._err(fe.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.name+=zt(e)}[Yh](e){It(e)||(e===U.GREATER_THAN_SIGN?(this.state=dt,this._emitCurrentToken()):e===U.EOF?(this._err(fe.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this._consumeSequenceIfMatch(Qi.PUBLIC_STRING,e,!1)?this.state=Kh:this._consumeSequenceIfMatch(Qi.SYSTEM_STRING,e,!1)?this.state=Qh:this._ensureHibernation()||(this._err(fe.invalidCharacterSequenceAfterDoctypeName),this.currentToken.forceQuirks=!0,this._reconsumeInState(Gr)))}[Kh](e){It(e)?this.state=$h:e===U.QUOTATION_MARK?(this._err(fe.missingWhitespaceAfterDoctypePublicKeyword),this.currentToken.publicId="",this.state=I0):e===U.APOSTROPHE?(this._err(fe.missingWhitespaceAfterDoctypePublicKeyword),this.currentToken.publicId="",this.state=L0):e===U.GREATER_THAN_SIGN?(this._err(fe.missingDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this.state=dt,this._emitCurrentToken()):e===U.EOF?(this._err(fe.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(fe.missingQuoteBeforeDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Gr))}[$h](e){It(e)||(e===U.QUOTATION_MARK?(this.currentToken.publicId="",this.state=I0):e===U.APOSTROPHE?(this.currentToken.publicId="",this.state=L0):e===U.GREATER_THAN_SIGN?(this._err(fe.missingDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this.state=dt,this._emitCurrentToken()):e===U.EOF?(this._err(fe.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(fe.missingQuoteBeforeDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Gr)))}[I0](e){e===U.QUOTATION_MARK?this.state=F0:e===U.NULL?(this._err(fe.unexpectedNullCharacter),this.currentToken.publicId+=St.REPLACEMENT_CHARACTER):e===U.GREATER_THAN_SIGN?(this._err(fe.abruptDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=dt):e===U.EOF?(this._err(fe.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.publicId+=zt(e)}[L0](e){e===U.APOSTROPHE?this.state=F0:e===U.NULL?(this._err(fe.unexpectedNullCharacter),this.currentToken.publicId+=St.REPLACEMENT_CHARACTER):e===U.GREATER_THAN_SIGN?(this._err(fe.abruptDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=dt):e===U.EOF?(this._err(fe.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.publicId+=zt(e)}[F0](e){It(e)?this.state=jh:e===U.GREATER_THAN_SIGN?(this.state=dt,this._emitCurrentToken()):e===U.QUOTATION_MARK?(this._err(fe.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),this.currentToken.systemId="",this.state=ga):e===U.APOSTROPHE?(this._err(fe.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),this.currentToken.systemId="",this.state=Ea):e===U.EOF?(this._err(fe.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(fe.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Gr))}[jh](e){It(e)||(e===U.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=dt):e===U.QUOTATION_MARK?(this.currentToken.systemId="",this.state=ga):e===U.APOSTROPHE?(this.currentToken.systemId="",this.state=Ea):e===U.EOF?(this._err(fe.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(fe.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Gr)))}[Qh](e){It(e)?this.state=Zh:e===U.QUOTATION_MARK?(this._err(fe.missingWhitespaceAfterDoctypeSystemKeyword),this.currentToken.systemId="",this.state=ga):e===U.APOSTROPHE?(this._err(fe.missingWhitespaceAfterDoctypeSystemKeyword),this.currentToken.systemId="",this.state=Ea):e===U.GREATER_THAN_SIGN?(this._err(fe.missingDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this.state=dt,this._emitCurrentToken()):e===U.EOF?(this._err(fe.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(fe.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Gr))}[Zh](e){It(e)||(e===U.QUOTATION_MARK?(this.currentToken.systemId="",this.state=ga):e===U.APOSTROPHE?(this.currentToken.systemId="",this.state=Ea):e===U.GREATER_THAN_SIGN?(this._err(fe.missingDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this.state=dt,this._emitCurrentToken()):e===U.EOF?(this._err(fe.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(fe.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Gr)))}[ga](e){e===U.QUOTATION_MARK?this.state=P0:e===U.NULL?(this._err(fe.unexpectedNullCharacter),this.currentToken.systemId+=St.REPLACEMENT_CHARACTER):e===U.GREATER_THAN_SIGN?(this._err(fe.abruptDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=dt):e===U.EOF?(this._err(fe.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.systemId+=zt(e)}[Ea](e){e===U.APOSTROPHE?this.state=P0:e===U.NULL?(this._err(fe.unexpectedNullCharacter),this.currentToken.systemId+=St.REPLACEMENT_CHARACTER):e===U.GREATER_THAN_SIGN?(this._err(fe.abruptDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=dt):e===U.EOF?(this._err(fe.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.systemId+=zt(e)}[P0](e){It(e)||(e===U.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=dt):e===U.EOF?(this._err(fe.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(fe.unexpectedCharacterAfterDoctypeSystemIdentifier),this._reconsumeInState(Gr)))}[Gr](e){e===U.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=dt):e===U.NULL?this._err(fe.unexpectedNullCharacter):e===U.EOF&&(this._emitCurrentToken(),this._emitEOFToken())}[wo](e){e===U.RIGHT_SQUARE_BRACKET?this.state=Jh:e===U.EOF?(this._err(fe.eofInCdata),this._emitEOFToken()):this._emitCodePoint(e)}[Jh](e){e===U.RIGHT_SQUARE_BRACKET?this.state=ef:(this._emitChars("]"),this._reconsumeInState(wo))}[ef](e){e===U.GREATER_THAN_SIGN?this.state=dt:e===U.RIGHT_SQUARE_BRACKET?this._emitChars("]"):(this._emitChars("]]"),this._reconsumeInState(wo))}[As](e){this.tempBuff=[U.AMPERSAND],e===U.NUMBER_SIGN?(this.tempBuff.push(e),this.state=rf):O0(e)?this._reconsumeInState(tf):(this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[tf](e){const t=this._matchNamedCharacterReference(e);if(this._ensureHibernation())this.tempBuff=[U.AMPERSAND];else if(t){const r=this.tempBuff[this.tempBuff.length-1]===U.SEMICOLON;this._isCharacterReferenceAttributeQuirk(r)||(r||this._errOnNextCodePoint(fe.missingSemicolonAfterCharacterReference),this.tempBuff=t),this._flushCodePointsConsumedAsCharacterReference(),this.state=this.returnState}else this._flushCodePointsConsumedAsCharacterReference(),this.state=nf}[nf](e){O0(e)?this._isCharacterReferenceInAttribute()?this.currentAttr.value+=zt(e):this._emitCodePoint(e):(e===U.SEMICOLON&&this._err(fe.unknownNamedCharacterReference),this._reconsumeInState(this.returnState))}[rf](e){this.charRefCode=0,e===U.LATIN_SMALL_X||e===U.LATIN_CAPITAL_X?(this.tempBuff.push(e),this.state=sf):this._reconsumeInState(af)}[sf](e){a8(e)?this._reconsumeInState(of):(this._err(fe.absenceOfDigitsInNumericCharacterReference),this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[af](e){La(e)?this._reconsumeInState(lf):(this._err(fe.absenceOfDigitsInNumericCharacterReference),this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[of](e){N5(e)?this.charRefCode=this.charRefCode*16+e-55:I5(e)?this.charRefCode=this.charRefCode*16+e-87:La(e)?this.charRefCode=this.charRefCode*16+e-48:e===U.SEMICOLON?this.state=Ta:(this._err(fe.missingSemicolonAfterCharacterReference),this._reconsumeInState(Ta))}[lf](e){La(e)?this.charRefCode=this.charRefCode*10+e-48:e===U.SEMICOLON?this.state=Ta:(this._err(fe.missingSemicolonAfterCharacterReference),this._reconsumeInState(Ta))}[Ta](){if(this.charRefCode===U.NULL)this._err(fe.nullCharacterReference),this.charRefCode=U.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(fe.characterReferenceOutsideUnicodeRange),this.charRefCode=U.REPLACEMENT_CHARACTER;else if(St.isSurrogate(this.charRefCode))this._err(fe.surrogateCharacterReference),this.charRefCode=U.REPLACEMENT_CHARACTER;else if(St.isUndefinedCodePoint(this.charRefCode))this._err(fe.noncharacterCharacterReference);else if(St.isControlCodePoint(this.charRefCode)||this.charRefCode===U.CARRIAGE_RETURN){this._err(fe.controlCharacterReference);const e=i8[this.charRefCode];e&&(this.charRefCode=e)}this.tempBuff=[this.charRefCode],this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState)}};sr.CHARACTER_TOKEN="CHARACTER_TOKEN";sr.NULL_CHARACTER_TOKEN="NULL_CHARACTER_TOKEN";sr.WHITESPACE_CHARACTER_TOKEN="WHITESPACE_CHARACTER_TOKEN";sr.START_TAG_TOKEN="START_TAG_TOKEN";sr.END_TAG_TOKEN="END_TAG_TOKEN";sr.COMMENT_TOKEN="COMMENT_TOKEN";sr.DOCTYPE_TOKEN="DOCTYPE_TOKEN";sr.EOF_TOKEN="EOF_TOKEN";sr.HIBERNATION_TOKEN="HIBERNATION_TOKEN";sr.MODE={DATA:dt,RCDATA:Gs,RAWTEXT:wa,SCRIPT_DATA:Zr,PLAINTEXT:R5};sr.getTokenAttr=function(n,e){for(let t=n.attrs.length-1;t>=0;t--)if(n.attrs[t].name===e)return n.attrs[t].value;return null};var U1=sr,xr={};const k0=xr.NAMESPACES={HTML:"http://www.w3.org/1999/xhtml",MATHML:"http://www.w3.org/1998/Math/MathML",SVG:"http://www.w3.org/2000/svg",XLINK:"http://www.w3.org/1999/xlink",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"};xr.ATTRS={TYPE:"type",ACTION:"action",ENCODING:"encoding",PROMPT:"prompt",NAME:"name",COLOR:"color",FACE:"face",SIZE:"size"};xr.DOCUMENT_MODE={NO_QUIRKS:"no-quirks",QUIRKS:"quirks",LIMITED_QUIRKS:"limited-quirks"};const ve=xr.TAG_NAMES={A:"a",ADDRESS:"address",ANNOTATION_XML:"annotation-xml",APPLET:"applet",AREA:"area",ARTICLE:"article",ASIDE:"aside",B:"b",BASE:"base",BASEFONT:"basefont",BGSOUND:"bgsound",BIG:"big",BLOCKQUOTE:"blockquote",BODY:"body",BR:"br",BUTTON:"button",CAPTION:"caption",CENTER:"center",CODE:"code",COL:"col",COLGROUP:"colgroup",DD:"dd",DESC:"desc",DETAILS:"details",DIALOG:"dialog",DIR:"dir",DIV:"div",DL:"dl",DT:"dt",EM:"em",EMBED:"embed",FIELDSET:"fieldset",FIGCAPTION:"figcaption",FIGURE:"figure",FONT:"font",FOOTER:"footer",FOREIGN_OBJECT:"foreignObject",FORM:"form",FRAME:"frame",FRAMESET:"frameset",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",HEAD:"head",HEADER:"header",HGROUP:"hgroup",HR:"hr",HTML:"html",I:"i",IMG:"img",IMAGE:"image",INPUT:"input",IFRAME:"iframe",KEYGEN:"keygen",LABEL:"label",LI:"li",LINK:"link",LISTING:"listing",MAIN:"main",MALIGNMARK:"malignmark",MARQUEE:"marquee",MATH:"math",MENU:"menu",META:"meta",MGLYPH:"mglyph",MI:"mi",MO:"mo",MN:"mn",MS:"ms",MTEXT:"mtext",NAV:"nav",NOBR:"nobr",NOFRAMES:"noframes",NOEMBED:"noembed",NOSCRIPT:"noscript",OBJECT:"object",OL:"ol",OPTGROUP:"optgroup",OPTION:"option",P:"p",PARAM:"param",PLAINTEXT:"plaintext",PRE:"pre",RB:"rb",RP:"rp",RT:"rt",RTC:"rtc",RUBY:"ruby",S:"s",SCRIPT:"script",SECTION:"section",SELECT:"select",SOURCE:"source",SMALL:"small",SPAN:"span",STRIKE:"strike",STRONG:"strong",STYLE:"style",SUB:"sub",SUMMARY:"summary",SUP:"sup",TABLE:"table",TBODY:"tbody",TEMPLATE:"template",TEXTAREA:"textarea",TFOOT:"tfoot",TD:"td",TH:"th",THEAD:"thead",TITLE:"title",TR:"tr",TRACK:"track",TT:"tt",U:"u",UL:"ul",SVG:"svg",VAR:"var",WBR:"wbr",XMP:"xmp"};xr.SPECIAL_ELEMENTS={[k0.HTML]:{[ve.ADDRESS]:!0,[ve.APPLET]:!0,[ve.AREA]:!0,[ve.ARTICLE]:!0,[ve.ASIDE]:!0,[ve.BASE]:!0,[ve.BASEFONT]:!0,[ve.BGSOUND]:!0,[ve.BLOCKQUOTE]:!0,[ve.BODY]:!0,[ve.BR]:!0,[ve.BUTTON]:!0,[ve.CAPTION]:!0,[ve.CENTER]:!0,[ve.COL]:!0,[ve.COLGROUP]:!0,[ve.DD]:!0,[ve.DETAILS]:!0,[ve.DIR]:!0,[ve.DIV]:!0,[ve.DL]:!0,[ve.DT]:!0,[ve.EMBED]:!0,[ve.FIELDSET]:!0,[ve.FIGCAPTION]:!0,[ve.FIGURE]:!0,[ve.FOOTER]:!0,[ve.FORM]:!0,[ve.FRAME]:!0,[ve.FRAMESET]:!0,[ve.H1]:!0,[ve.H2]:!0,[ve.H3]:!0,[ve.H4]:!0,[ve.H5]:!0,[ve.H6]:!0,[ve.HEAD]:!0,[ve.HEADER]:!0,[ve.HGROUP]:!0,[ve.HR]:!0,[ve.HTML]:!0,[ve.IFRAME]:!0,[ve.IMG]:!0,[ve.INPUT]:!0,[ve.LI]:!0,[ve.LINK]:!0,[ve.LISTING]:!0,[ve.MAIN]:!0,[ve.MARQUEE]:!0,[ve.MENU]:!0,[ve.META]:!0,[ve.NAV]:!0,[ve.NOEMBED]:!0,[ve.NOFRAMES]:!0,[ve.NOSCRIPT]:!0,[ve.OBJECT]:!0,[ve.OL]:!0,[ve.P]:!0,[ve.PARAM]:!0,[ve.PLAINTEXT]:!0,[ve.PRE]:!0,[ve.SCRIPT]:!0,[ve.SECTION]:!0,[ve.SELECT]:!0,[ve.SOURCE]:!0,[ve.STYLE]:!0,[ve.SUMMARY]:!0,[ve.TABLE]:!0,[ve.TBODY]:!0,[ve.TD]:!0,[ve.TEMPLATE]:!0,[ve.TEXTAREA]:!0,[ve.TFOOT]:!0,[ve.TH]:!0,[ve.THEAD]:!0,[ve.TITLE]:!0,[ve.TR]:!0,[ve.TRACK]:!0,[ve.UL]:!0,[ve.WBR]:!0,[ve.XMP]:!0},[k0.MATHML]:{[ve.MI]:!0,[ve.MO]:!0,[ve.MN]:!0,[ve.MS]:!0,[ve.MTEXT]:!0,[ve.ANNOTATION_XML]:!0},[k0.SVG]:{[ve.TITLE]:!0,[ve.FOREIGN_OBJECT]:!0,[ve.DESC]:!0}};const L5=xr,xe=L5.TAG_NAMES,bt=L5.NAMESPACES;function cf(n){switch(n.length){case 1:return n===xe.P;case 2:return n===xe.RB||n===xe.RP||n===xe.RT||n===xe.DD||n===xe.DT||n===xe.LI;case 3:return n===xe.RTC;case 6:return n===xe.OPTION;case 8:return n===xe.OPTGROUP}return!1}function o8(n){switch(n.length){case 1:return n===xe.P;case 2:return n===xe.RB||n===xe.RP||n===xe.RT||n===xe.DD||n===xe.DT||n===xe.LI||n===xe.TD||n===xe.TH||n===xe.TR;case 3:return n===xe.RTC;case 5:return n===xe.TBODY||n===xe.TFOOT||n===xe.THEAD;case 6:return n===xe.OPTION;case 7:return n===xe.CAPTION;case 8:return n===xe.OPTGROUP||n===xe.COLGROUP}return!1}function Ro(n,e){switch(n.length){case 2:if(n===xe.TD||n===xe.TH)return e===bt.HTML;if(n===xe.MI||n===xe.MO||n===xe.MN||n===xe.MS)return e===bt.MATHML;break;case 4:if(n===xe.HTML)return e===bt.HTML;if(n===xe.DESC)return e===bt.SVG;break;case 5:if(n===xe.TABLE)return e===bt.HTML;if(n===xe.MTEXT)return e===bt.MATHML;if(n===xe.TITLE)return e===bt.SVG;break;case 6:return(n===xe.APPLET||n===xe.OBJECT)&&e===bt.HTML;case 7:return(n===xe.CAPTION||n===xe.MARQUEE)&&e===bt.HTML;case 8:return n===xe.TEMPLATE&&e===bt.HTML;case 13:return n===xe.FOREIGN_OBJECT&&e===bt.SVG;case 14:return n===xe.ANNOTATION_XML&&e===bt.MATHML}return!1}let l8=class{constructor(e,t){this.stackTop=-1,this.items=[],this.current=e,this.currentTagName=null,this.currentTmplContent=null,this.tmplCount=0,this.treeAdapter=t}_indexOf(e){let t=-1;for(let r=this.stackTop;r>=0;r--)if(this.items[r]===e){t=r;break}return t}_isInTemplate(){return this.currentTagName===xe.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===bt.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagName=this.current&&this.treeAdapter.getTagName(this.current),this.currentTmplContent=this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):null}push(e){this.items[++this.stackTop]=e,this._updateCurrentElement(),this._isInTemplate()&&this.tmplCount++}pop(){this.stackTop--,this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this._updateCurrentElement()}replace(e,t){const r=this._indexOf(e);this.items[r]=t,r===this.stackTop&&this._updateCurrentElement()}insertAfter(e,t){const r=this._indexOf(e)+1;this.items.splice(r,0,t),r===++this.stackTop&&this._updateCurrentElement()}popUntilTagNamePopped(e){for(;this.stackTop>-1;){const t=this.currentTagName,r=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),t===e&&r===bt.HTML)break}}popUntilElementPopped(e){for(;this.stackTop>-1;){const t=this.current;if(this.pop(),t===e)break}}popUntilNumberedHeaderPopped(){for(;this.stackTop>-1;){const e=this.currentTagName,t=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),e===xe.H1||e===xe.H2||e===xe.H3||e===xe.H4||e===xe.H5||e===xe.H6&&t===bt.HTML)break}}popUntilTableCellPopped(){for(;this.stackTop>-1;){const e=this.currentTagName,t=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),e===xe.TD||e===xe.TH&&t===bt.HTML)break}}popAllUpToHtmlElement(){this.stackTop=0,this._updateCurrentElement()}clearBackToTableContext(){for(;this.currentTagName!==xe.TABLE&&this.currentTagName!==xe.TEMPLATE&&this.currentTagName!==xe.HTML||this.treeAdapter.getNamespaceURI(this.current)!==bt.HTML;)this.pop()}clearBackToTableBodyContext(){for(;this.currentTagName!==xe.TBODY&&this.currentTagName!==xe.TFOOT&&this.currentTagName!==xe.THEAD&&this.currentTagName!==xe.TEMPLATE&&this.currentTagName!==xe.HTML||this.treeAdapter.getNamespaceURI(this.current)!==bt.HTML;)this.pop()}clearBackToTableRowContext(){for(;this.currentTagName!==xe.TR&&this.currentTagName!==xe.TEMPLATE&&this.currentTagName!==xe.HTML||this.treeAdapter.getNamespaceURI(this.current)!==bt.HTML;)this.pop()}remove(e){for(let t=this.stackTop;t>=0;t--)if(this.items[t]===e){this.items.splice(t,1),this.stackTop--,this._updateCurrentElement();break}}tryPeekProperlyNestedBodyElement(){const e=this.items[1];return e&&this.treeAdapter.getTagName(e)===xe.BODY?e:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){let t=this._indexOf(e);return--t>=0?this.items[t]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.currentTagName===xe.HTML}hasInScope(e){for(let t=this.stackTop;t>=0;t--){const r=this.treeAdapter.getTagName(this.items[t]),i=this.treeAdapter.getNamespaceURI(this.items[t]);if(r===e&&i===bt.HTML)return!0;if(Ro(r,i))return!1}return!0}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const t=this.treeAdapter.getTagName(this.items[e]),r=this.treeAdapter.getNamespaceURI(this.items[e]);if((t===xe.H1||t===xe.H2||t===xe.H3||t===xe.H4||t===xe.H5||t===xe.H6)&&r===bt.HTML)return!0;if(Ro(t,r))return!1}return!0}hasInListItemScope(e){for(let t=this.stackTop;t>=0;t--){const r=this.treeAdapter.getTagName(this.items[t]),i=this.treeAdapter.getNamespaceURI(this.items[t]);if(r===e&&i===bt.HTML)return!0;if((r===xe.UL||r===xe.OL)&&i===bt.HTML||Ro(r,i))return!1}return!0}hasInButtonScope(e){for(let t=this.stackTop;t>=0;t--){const r=this.treeAdapter.getTagName(this.items[t]),i=this.treeAdapter.getNamespaceURI(this.items[t]);if(r===e&&i===bt.HTML)return!0;if(r===xe.BUTTON&&i===bt.HTML||Ro(r,i))return!1}return!0}hasInTableScope(e){for(let t=this.stackTop;t>=0;t--){const r=this.treeAdapter.getTagName(this.items[t]);if(this.treeAdapter.getNamespaceURI(this.items[t])===bt.HTML){if(r===e)return!0;if(r===xe.TABLE||r===xe.TEMPLATE||r===xe.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--){const t=this.treeAdapter.getTagName(this.items[e]);if(this.treeAdapter.getNamespaceURI(this.items[e])===bt.HTML){if(t===xe.TBODY||t===xe.THEAD||t===xe.TFOOT)return!0;if(t===xe.TABLE||t===xe.HTML)return!1}}return!0}hasInSelectScope(e){for(let t=this.stackTop;t>=0;t--){const r=this.treeAdapter.getTagName(this.items[t]);if(this.treeAdapter.getNamespaceURI(this.items[t])===bt.HTML){if(r===e)return!0;if(r!==xe.OPTION&&r!==xe.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;cf(this.currentTagName);)this.pop()}generateImpliedEndTagsThoroughly(){for(;o8(this.currentTagName);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;cf(this.currentTagName)&&this.currentTagName!==e;)this.pop()}};var u8=l8;const No=3;let Ou=class Di{constructor(e){this.length=0,this.entries=[],this.treeAdapter=e,this.bookmark=null}_getNoahArkConditionCandidates(e){const t=[];if(this.length>=No){const r=this.treeAdapter.getAttrList(e).length,i=this.treeAdapter.getTagName(e),s=this.treeAdapter.getNamespaceURI(e);for(let a=this.length-1;a>=0;a--){const o=this.entries[a];if(o.type===Di.MARKER_ENTRY)break;const l=o.element,u=this.treeAdapter.getAttrList(l);this.treeAdapter.getTagName(l)===i&&this.treeAdapter.getNamespaceURI(l)===s&&u.length===r&&t.push({idx:a,attrs:u})}}return t.length<No?[]:t}_ensureNoahArkCondition(e){const t=this._getNoahArkConditionCandidates(e);let r=t.length;if(r){const i=this.treeAdapter.getAttrList(e),s=i.length,a=Object.create(null);for(let o=0;o<s;o++){const l=i[o];a[l.name]=l.value}for(let o=0;o<s;o++)for(let l=0;l<r;l++){const u=t[l].attrs[o];if(a[u.name]!==u.value&&(t.splice(l,1),r--),t.length<No)return}for(let o=r-1;o>=No-1;o--)this.entries.splice(t[o].idx,1),this.length--}}insertMarker(){this.entries.push({type:Di.MARKER_ENTRY}),this.length++}pushElement(e,t){this._ensureNoahArkCondition(e),this.entries.push({type:Di.ELEMENT_ENTRY,element:e,token:t}),this.length++}insertElementAfterBookmark(e,t){let r=this.length-1;for(;r>=0&&this.entries[r]!==this.bookmark;r--);this.entries.splice(r+1,0,{type:Di.ELEMENT_ENTRY,element:e,token:t}),this.length++}removeEntry(e){for(let t=this.length-1;t>=0;t--)if(this.entries[t]===e){this.entries.splice(t,1),this.length--;break}}clearToLastMarker(){for(;this.length;){const e=this.entries.pop();if(this.length--,e.type===Di.MARKER_ENTRY)break}}getElementEntryInScopeWithTagName(e){for(let t=this.length-1;t>=0;t--){const r=this.entries[t];if(r.type===Di.MARKER_ENTRY)return null;if(this.treeAdapter.getTagName(r.element)===e)return r}return null}getElementEntry(e){for(let t=this.length-1;t>=0;t--){const r=this.entries[t];if(r.type===Di.ELEMENT_ENTRY&&r.element===e)return r}return null}};Ou.MARKER_ENTRY="MARKER_ENTRY";Ou.ELEMENT_ENTRY="ELEMENT_ENTRY";var c8=Ou;let F5=class{constructor(e){const t={},r=this._getOverriddenMethods(this,t);for(const i of Object.keys(r))typeof r[i]=="function"&&(t[i]=e[i],e[i]=r[i])}_getOverriddenMethods(){throw new Error("Not implemented")}};F5.install=function(n,e,t){n.__mixins||(n.__mixins=[]);for(let i=0;i<n.__mixins.length;i++)if(n.__mixins[i].constructor===e)return n.__mixins[i];const r=new e(n,t);return n.__mixins.push(r),r};var pi=F5;const h8=pi;let f8=class extends h8{constructor(e){super(e),this.preprocessor=e,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.offset=0,this.col=0,this.line=1}_getOverriddenMethods(e,t){return{advance(){const r=this.pos+1,i=this.html[r];return e.isEol&&(e.isEol=!1,e.line++,e.lineStartPos=r),(i===`
`||i==="\r"&&this.html[r+1]!==`
`)&&(e.isEol=!0),e.col=r-e.lineStartPos+1,e.offset=e.droppedBufferSize+r,t.advance.call(this)},retreat(){t.retreat.call(this),e.isEol=!1,e.col=this.pos-e.lineStartPos+1},dropParsedChunk(){const r=this.pos;t.dropParsedChunk.call(this);const i=r-this.pos;e.lineStartPos-=i,e.droppedBufferSize+=i,e.offset=e.droppedBufferSize+this.pos}}}};var P5=f8;const hf=pi,B0=U1,d8=P5;let p8=class extends hf{constructor(e){super(e),this.tokenizer=e,this.posTracker=hf.install(e.preprocessor,d8),this.currentAttrLocation=null,this.ctLoc=null}_getCurrentLocation(){return{startLine:this.posTracker.line,startCol:this.posTracker.col,startOffset:this.posTracker.offset,endLine:-1,endCol:-1,endOffset:-1}}_attachCurrentAttrLocationInfo(){this.currentAttrLocation.endLine=this.posTracker.line,this.currentAttrLocation.endCol=this.posTracker.col,this.currentAttrLocation.endOffset=this.posTracker.offset;const e=this.tokenizer.currentToken,t=this.tokenizer.currentAttr;e.location.attrs||(e.location.attrs=Object.create(null)),e.location.attrs[t.name]=this.currentAttrLocation}_getOverriddenMethods(e,t){const r={_createStartTagToken(){t._createStartTagToken.call(this),this.currentToken.location=e.ctLoc},_createEndTagToken(){t._createEndTagToken.call(this),this.currentToken.location=e.ctLoc},_createCommentToken(){t._createCommentToken.call(this),this.currentToken.location=e.ctLoc},_createDoctypeToken(i){t._createDoctypeToken.call(this,i),this.currentToken.location=e.ctLoc},_createCharacterToken(i,s){t._createCharacterToken.call(this,i,s),this.currentCharacterToken.location=e.ctLoc},_createEOFToken(){t._createEOFToken.call(this),this.currentToken.location=e._getCurrentLocation()},_createAttr(i){t._createAttr.call(this,i),e.currentAttrLocation=e._getCurrentLocation()},_leaveAttrName(i){t._leaveAttrName.call(this,i),e._attachCurrentAttrLocationInfo()},_leaveAttrValue(i){t._leaveAttrValue.call(this,i),e._attachCurrentAttrLocationInfo()},_emitCurrentToken(){const i=this.currentToken.location;this.currentCharacterToken&&(this.currentCharacterToken.location.endLine=i.startLine,this.currentCharacterToken.location.endCol=i.startCol,this.currentCharacterToken.location.endOffset=i.startOffset),this.currentToken.type===B0.EOF_TOKEN?(i.endLine=i.startLine,i.endCol=i.startCol,i.endOffset=i.startOffset):(i.endLine=e.posTracker.line,i.endCol=e.posTracker.col+1,i.endOffset=e.posTracker.offset+1),t._emitCurrentToken.call(this)},_emitCurrentCharacterToken(){const i=this.currentCharacterToken&&this.currentCharacterToken.location;i&&i.endOffset===-1&&(i.endLine=e.posTracker.line,i.endCol=e.posTracker.col,i.endOffset=e.posTracker.offset),t._emitCurrentCharacterToken.call(this)}};return Object.keys(B0.MODE).forEach(i=>{const s=B0.MODE[i];r[s]=function(a){e.ctLoc=e._getCurrentLocation(),t[s].call(this,a)}}),r}};var O5=p8;const m8=pi;let g8=class extends m8{constructor(e,t){super(e),this.onItemPop=t.onItemPop}_getOverriddenMethods(e,t){return{pop(){e.onItemPop(this.current),t.pop.call(this)},popAllUpToHtmlElement(){for(let r=this.stackTop;r>0;r--)e.onItemPop(this.items[r]);t.popAllUpToHtmlElement.call(this)},remove(r){e.onItemPop(this.current),t.remove.call(this,r)}}}};var E8=g8;const U0=pi,ff=U1,T8=O5,_8=E8,v8=xr,z0=v8.TAG_NAMES;let x8=class extends U0{constructor(e){super(e),this.parser=e,this.treeAdapter=this.parser.treeAdapter,this.posTracker=null,this.lastStartTagToken=null,this.lastFosterParentingLocation=null,this.currentToken=null}_setStartLocation(e){let t=null;this.lastStartTagToken&&(t=Object.assign({},this.lastStartTagToken.location),t.startTag=this.lastStartTagToken.location),this.treeAdapter.setNodeSourceCodeLocation(e,t)}_setEndLocation(e,t){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&t.location){const i=t.location,s=this.treeAdapter.getTagName(e),a=t.type===ff.END_TAG_TOKEN&&s===t.tagName,o={};a?(o.endTag=Object.assign({},i),o.endLine=i.endLine,o.endCol=i.endCol,o.endOffset=i.endOffset):(o.endLine=i.startLine,o.endCol=i.startCol,o.endOffset=i.startOffset),this.treeAdapter.updateNodeSourceCodeLocation(e,o)}}_getOverriddenMethods(e,t){return{_bootstrap(r,i){t._bootstrap.call(this,r,i),e.lastStartTagToken=null,e.lastFosterParentingLocation=null,e.currentToken=null;const s=U0.install(this.tokenizer,T8);e.posTracker=s.posTracker,U0.install(this.openElements,_8,{onItemPop:function(a){e._setEndLocation(a,e.currentToken)}})},_runParsingLoop(r){t._runParsingLoop.call(this,r);for(let i=this.openElements.stackTop;i>=0;i--)e._setEndLocation(this.openElements.items[i],e.currentToken)},_processTokenInForeignContent(r){e.currentToken=r,t._processTokenInForeignContent.call(this,r)},_processToken(r){if(e.currentToken=r,t._processToken.call(this,r),r.type===ff.END_TAG_TOKEN&&(r.tagName===z0.HTML||r.tagName===z0.BODY&&this.openElements.hasInScope(z0.BODY)))for(let s=this.openElements.stackTop;s>=0;s--){const a=this.openElements.items[s];if(this.treeAdapter.getTagName(a)===r.tagName){e._setEndLocation(a,r);break}}},_setDocumentType(r){t._setDocumentType.call(this,r);const i=this.treeAdapter.getChildNodes(this.document),s=i.length;for(let a=0;a<s;a++){const o=i[a];if(this.treeAdapter.isDocumentTypeNode(o)){this.treeAdapter.setNodeSourceCodeLocation(o,r.location);break}}},_attachElementToTree(r){e._setStartLocation(r),e.lastStartTagToken=null,t._attachElementToTree.call(this,r)},_appendElement(r,i){e.lastStartTagToken=r,t._appendElement.call(this,r,i)},_insertElement(r,i){e.lastStartTagToken=r,t._insertElement.call(this,r,i)},_insertTemplate(r){e.lastStartTagToken=r,t._insertTemplate.call(this,r);const i=this.treeAdapter.getTemplateContent(this.openElements.current);this.treeAdapter.setNodeSourceCodeLocation(i,null)},_insertFakeRootElement(){t._insertFakeRootElement.call(this),this.treeAdapter.setNodeSourceCodeLocation(this.openElements.current,null)},_appendCommentNode(r,i){t._appendCommentNode.call(this,r,i);const s=this.treeAdapter.getChildNodes(i),a=s[s.length-1];this.treeAdapter.setNodeSourceCodeLocation(a,r.location)},_findFosterParentingLocation(){return e.lastFosterParentingLocation=t._findFosterParentingLocation.call(this),e.lastFosterParentingLocation},_insertCharacters(r){t._insertCharacters.call(this,r);const i=this._shouldFosterParentOnInsertion(),s=i&&e.lastFosterParentingLocation.parent||this.openElements.currentTmplContent||this.openElements.current,a=this.treeAdapter.getChildNodes(s),o=i&&e.lastFosterParentingLocation.beforeElement?a.indexOf(e.lastFosterParentingLocation.beforeElement)-1:a.length-1,l=a[o];if(this.treeAdapter.getNodeSourceCodeLocation(l)){const{endLine:c,endCol:h,endOffset:f}=r.location;this.treeAdapter.updateNodeSourceCodeLocation(l,{endLine:c,endCol:h,endOffset:f})}else this.treeAdapter.setNodeSourceCodeLocation(l,r.location)}}}};var A8=x8;const y8=pi;let S8=class extends y8{constructor(e,t){super(e),this.posTracker=null,this.onParseError=t.onParseError}_setErrorLocation(e){e.startLine=e.endLine=this.posTracker.line,e.startCol=e.endCol=this.posTracker.col,e.startOffset=e.endOffset=this.posTracker.offset}_reportError(e){const t={code:e,startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1};this._setErrorLocation(t),this.onParseError(t)}_getOverriddenMethods(e){return{_err(t){e._reportError(t)}}}};var ku=S8;const b8=ku,M8=P5,C8=pi;let D8=class extends b8{constructor(e,t){super(e,t),this.posTracker=C8.install(e,M8),this.lastErrOffset=-1}_reportError(e){this.lastErrOffset!==this.posTracker.offset&&(this.lastErrOffset=this.posTracker.offset,super._reportError(e))}};var w8=D8;const R8=ku,N8=w8,I8=pi;let L8=class extends R8{constructor(e,t){super(e,t);const r=I8.install(e.preprocessor,N8,t);this.posTracker=r.posTracker}};var F8=L8;const P8=ku,O8=F8,k8=O5,df=pi;let B8=class extends P8{constructor(e,t){super(e,t),this.opts=t,this.ctLoc=null,this.locBeforeToken=!1}_setErrorLocation(e){this.ctLoc&&(e.startLine=this.ctLoc.startLine,e.startCol=this.ctLoc.startCol,e.startOffset=this.ctLoc.startOffset,e.endLine=this.locBeforeToken?this.ctLoc.startLine:this.ctLoc.endLine,e.endCol=this.locBeforeToken?this.ctLoc.startCol:this.ctLoc.endCol,e.endOffset=this.locBeforeToken?this.ctLoc.startOffset:this.ctLoc.endOffset)}_getOverriddenMethods(e,t){return{_bootstrap(r,i){t._bootstrap.call(this,r,i),df.install(this.tokenizer,O8,e.opts),df.install(this.tokenizer,k8)},_processInputToken(r){e.ctLoc=r.location,t._processInputToken.call(this,r)},_err(r,i){e.locBeforeToken=i&&i.beforeToken,e._reportError(r)}}}};var U8=B8,gt={};const{DOCUMENT_MODE:z8}=xr;gt.createDocument=function(){return{nodeName:"#document",mode:z8.NO_QUIRKS,childNodes:[]}};gt.createDocumentFragment=function(){return{nodeName:"#document-fragment",childNodes:[]}};gt.createElement=function(n,e,t){return{nodeName:n,tagName:n,attrs:t,namespaceURI:e,childNodes:[],parentNode:null}};gt.createCommentNode=function(n){return{nodeName:"#comment",data:n,parentNode:null}};const k5=function(n){return{nodeName:"#text",value:n,parentNode:null}},B5=gt.appendChild=function(n,e){n.childNodes.push(e),e.parentNode=n},H8=gt.insertBefore=function(n,e,t){const r=n.childNodes.indexOf(t);n.childNodes.splice(r,0,e),e.parentNode=n};gt.setTemplateContent=function(n,e){n.content=e};gt.getTemplateContent=function(n){return n.content};gt.setDocumentType=function(n,e,t,r){let i=null;for(let s=0;s<n.childNodes.length;s++)if(n.childNodes[s].nodeName==="#documentType"){i=n.childNodes[s];break}i?(i.name=e,i.publicId=t,i.systemId=r):B5(n,{nodeName:"#documentType",name:e,publicId:t,systemId:r})};gt.setDocumentMode=function(n,e){n.mode=e};gt.getDocumentMode=function(n){return n.mode};gt.detachNode=function(n){if(n.parentNode){const e=n.parentNode.childNodes.indexOf(n);n.parentNode.childNodes.splice(e,1),n.parentNode=null}};gt.insertText=function(n,e){if(n.childNodes.length){const t=n.childNodes[n.childNodes.length-1];if(t.nodeName==="#text"){t.value+=e;return}}B5(n,k5(e))};gt.insertTextBefore=function(n,e,t){const r=n.childNodes[n.childNodes.indexOf(t)-1];r&&r.nodeName==="#text"?r.value+=e:H8(n,k5(e),t)};gt.adoptAttributes=function(n,e){const t=[];for(let r=0;r<n.attrs.length;r++)t.push(n.attrs[r].name);for(let r=0;r<e.length;r++)t.indexOf(e[r].name)===-1&&n.attrs.push(e[r])};gt.getFirstChild=function(n){return n.childNodes[0]};gt.getChildNodes=function(n){return n.childNodes};gt.getParentNode=function(n){return n.parentNode};gt.getAttrList=function(n){return n.attrs};gt.getTagName=function(n){return n.tagName};gt.getNamespaceURI=function(n){return n.namespaceURI};gt.getTextNodeContent=function(n){return n.value};gt.getCommentNodeContent=function(n){return n.data};gt.getDocumentTypeNodeName=function(n){return n.name};gt.getDocumentTypeNodePublicId=function(n){return n.publicId};gt.getDocumentTypeNodeSystemId=function(n){return n.systemId};gt.isTextNode=function(n){return n.nodeName==="#text"};gt.isCommentNode=function(n){return n.nodeName==="#comment"};gt.isDocumentTypeNode=function(n){return n.nodeName==="#documentType"};gt.isElementNode=function(n){return!!n.tagName};gt.setNodeSourceCodeLocation=function(n,e){n.sourceCodeLocation=e};gt.getNodeSourceCodeLocation=function(n){return n.sourceCodeLocation};gt.updateNodeSourceCodeLocation=function(n,e){n.sourceCodeLocation=Object.assign(n.sourceCodeLocation,e)};var G8=function(e,t){return t=t||Object.create(null),[e,t].reduce((r,i)=>(Object.keys(i).forEach(s=>{r[s]=i[s]}),r),Object.create(null))},z1={};const{DOCUMENT_MODE:ys}=xr,U5="html",V8="about:legacy-compat",W8="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",z5=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],q8=z5.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]),X8=["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"],H5=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Y8=H5.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]);function pf(n){const e=n.indexOf('"')!==-1?"'":'"';return e+n+e}function mf(n,e){for(let t=0;t<e.length;t++)if(n.indexOf(e[t])===0)return!0;return!1}z1.isConforming=function(n){return n.name===U5&&n.publicId===null&&(n.systemId===null||n.systemId===V8)};z1.getDocumentMode=function(n){if(n.name!==U5)return ys.QUIRKS;const e=n.systemId;if(e&&e.toLowerCase()===W8)return ys.QUIRKS;let t=n.publicId;if(t!==null){if(t=t.toLowerCase(),X8.indexOf(t)>-1)return ys.QUIRKS;let r=e===null?q8:z5;if(mf(t,r))return ys.QUIRKS;if(r=e===null?H5:Y8,mf(t,r))return ys.LIMITED_QUIRKS}return ys.NO_QUIRKS};z1.serializeContent=function(n,e,t){let r="!DOCTYPE ";return n&&(r+=n),e?r+=" PUBLIC "+pf(e):t&&(r+=" SYSTEM"),t!==null&&(r+=" "+pf(t)),r};var Wi={};const H0=U1,Bu=xr,Ve=Bu.TAG_NAMES,ln=Bu.NAMESPACES,u1=Bu.ATTRS,gf={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},K8="definitionurl",$8="definitionURL",j8={attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},Q8={"xlink:actuate":{prefix:"xlink",name:"actuate",namespace:ln.XLINK},"xlink:arcrole":{prefix:"xlink",name:"arcrole",namespace:ln.XLINK},"xlink:href":{prefix:"xlink",name:"href",namespace:ln.XLINK},"xlink:role":{prefix:"xlink",name:"role",namespace:ln.XLINK},"xlink:show":{prefix:"xlink",name:"show",namespace:ln.XLINK},"xlink:title":{prefix:"xlink",name:"title",namespace:ln.XLINK},"xlink:type":{prefix:"xlink",name:"type",namespace:ln.XLINK},"xml:base":{prefix:"xml",name:"base",namespace:ln.XML},"xml:lang":{prefix:"xml",name:"lang",namespace:ln.XML},"xml:space":{prefix:"xml",name:"space",namespace:ln.XML},xmlns:{prefix:"",name:"xmlns",namespace:ln.XMLNS},"xmlns:xlink":{prefix:"xmlns",name:"xlink",namespace:ln.XMLNS}},Z8=Wi.SVG_TAG_NAMES_ADJUSTMENT_MAP={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},J8={[Ve.B]:!0,[Ve.BIG]:!0,[Ve.BLOCKQUOTE]:!0,[Ve.BODY]:!0,[Ve.BR]:!0,[Ve.CENTER]:!0,[Ve.CODE]:!0,[Ve.DD]:!0,[Ve.DIV]:!0,[Ve.DL]:!0,[Ve.DT]:!0,[Ve.EM]:!0,[Ve.EMBED]:!0,[Ve.H1]:!0,[Ve.H2]:!0,[Ve.H3]:!0,[Ve.H4]:!0,[Ve.H5]:!0,[Ve.H6]:!0,[Ve.HEAD]:!0,[Ve.HR]:!0,[Ve.I]:!0,[Ve.IMG]:!0,[Ve.LI]:!0,[Ve.LISTING]:!0,[Ve.MENU]:!0,[Ve.META]:!0,[Ve.NOBR]:!0,[Ve.OL]:!0,[Ve.P]:!0,[Ve.PRE]:!0,[Ve.RUBY]:!0,[Ve.S]:!0,[Ve.SMALL]:!0,[Ve.SPAN]:!0,[Ve.STRONG]:!0,[Ve.STRIKE]:!0,[Ve.SUB]:!0,[Ve.SUP]:!0,[Ve.TABLE]:!0,[Ve.TT]:!0,[Ve.U]:!0,[Ve.UL]:!0,[Ve.VAR]:!0};Wi.causesExit=function(n){const e=n.tagName;return e===Ve.FONT&&(H0.getTokenAttr(n,u1.COLOR)!==null||H0.getTokenAttr(n,u1.SIZE)!==null||H0.getTokenAttr(n,u1.FACE)!==null)?!0:J8[e]};Wi.adjustTokenMathMLAttrs=function(n){for(let e=0;e<n.attrs.length;e++)if(n.attrs[e].name===K8){n.attrs[e].name=$8;break}};Wi.adjustTokenSVGAttrs=function(n){for(let e=0;e<n.attrs.length;e++){const t=j8[n.attrs[e].name];t&&(n.attrs[e].name=t)}};Wi.adjustTokenXMLAttrs=function(n){for(let e=0;e<n.attrs.length;e++){const t=Q8[n.attrs[e].name];t&&(n.attrs[e].prefix=t.prefix,n.attrs[e].name=t.name,n.attrs[e].namespace=t.namespace)}};Wi.adjustTokenSVGTagName=function(n){const e=Z8[n.tagName];e&&(n.tagName=e)};function e6(n,e){return e===ln.MATHML&&(n===Ve.MI||n===Ve.MO||n===Ve.MN||n===Ve.MS||n===Ve.MTEXT)}function t6(n,e,t){if(e===ln.MATHML&&n===Ve.ANNOTATION_XML){for(let r=0;r<t.length;r++)if(t[r].name===u1.ENCODING){const i=t[r].value.toLowerCase();return i===gf.TEXT_HTML||i===gf.APPLICATION_XML}}return e===ln.SVG&&(n===Ve.FOREIGN_OBJECT||n===Ve.DESC||n===Ve.TITLE)}Wi.isIntegrationPoint=function(n,e,t,r){return!!((!r||r===ln.HTML)&&t6(n,e,t)||(!r||r===ln.MATHML)&&e6(n,e))};const z=U1,n6=u8,Ef=c8,r6=A8,i6=U8,Tf=pi,s6=gt,a6=G8,_f=z1,Dr=Wi,hn=Pu,o6=vr,_s=xr,x=_s.TAG_NAMES,Pe=_s.NAMESPACES,G5=_s.ATTRS,l6={scriptingEnabled:!0,sourceCodeLocationInfo:!1,onParseError:null,treeAdapter:s6},V5="hidden",u6=8,c6=3,W5="INITIAL_MODE",Uu="BEFORE_HTML_MODE",H1="BEFORE_HEAD_MODE",la="IN_HEAD_MODE",q5="IN_HEAD_NO_SCRIPT_MODE",G1="AFTER_HEAD_MODE",Ir="IN_BODY_MODE",S1="TEXT_MODE",pn="IN_TABLE_MODE",X5="IN_TABLE_TEXT_MODE",V1="IN_CAPTION_MODE",Za="IN_COLUMN_GROUP_MODE",tr="IN_TABLE_BODY_MODE",hi="IN_ROW_MODE",W1="IN_CELL_MODE",zu="IN_SELECT_MODE",Hu="IN_SELECT_IN_TABLE_MODE",b1="IN_TEMPLATE_MODE",Gu="AFTER_BODY_MODE",q1="IN_FRAMESET_MODE",Y5="AFTER_FRAMESET_MODE",K5="AFTER_AFTER_BODY_MODE",$5="AFTER_AFTER_FRAMESET_MODE",h6={[x.TR]:hi,[x.TBODY]:tr,[x.THEAD]:tr,[x.TFOOT]:tr,[x.CAPTION]:V1,[x.COLGROUP]:Za,[x.TABLE]:pn,[x.BODY]:Ir,[x.FRAMESET]:q1},f6={[x.CAPTION]:pn,[x.COLGROUP]:pn,[x.TBODY]:pn,[x.TFOOT]:pn,[x.THEAD]:pn,[x.COL]:Za,[x.TR]:tr,[x.TD]:hi,[x.TH]:hi},vf={[W5]:{[z.CHARACTER_TOKEN]:va,[z.NULL_CHARACTER_TOKEN]:va,[z.WHITESPACE_CHARACTER_TOKEN]:mt,[z.COMMENT_TOKEN]:Zt,[z.DOCTYPE_TOKEN]:A6,[z.START_TAG_TOKEN]:va,[z.END_TAG_TOKEN]:va,[z.EOF_TOKEN]:va},[Uu]:{[z.CHARACTER_TOKEN]:Fa,[z.NULL_CHARACTER_TOKEN]:Fa,[z.WHITESPACE_CHARACTER_TOKEN]:mt,[z.COMMENT_TOKEN]:Zt,[z.DOCTYPE_TOKEN]:mt,[z.START_TAG_TOKEN]:y6,[z.END_TAG_TOKEN]:S6,[z.EOF_TOKEN]:Fa},[H1]:{[z.CHARACTER_TOKEN]:Pa,[z.NULL_CHARACTER_TOKEN]:Pa,[z.WHITESPACE_CHARACTER_TOKEN]:mt,[z.COMMENT_TOKEN]:Zt,[z.DOCTYPE_TOKEN]:Io,[z.START_TAG_TOKEN]:b6,[z.END_TAG_TOKEN]:M6,[z.EOF_TOKEN]:Pa},[la]:{[z.CHARACTER_TOKEN]:Oa,[z.NULL_CHARACTER_TOKEN]:Oa,[z.WHITESPACE_CHARACTER_TOKEN]:Cn,[z.COMMENT_TOKEN]:Zt,[z.DOCTYPE_TOKEN]:Io,[z.START_TAG_TOKEN]:on,[z.END_TAG_TOKEN]:vs,[z.EOF_TOKEN]:Oa},[q5]:{[z.CHARACTER_TOKEN]:ka,[z.NULL_CHARACTER_TOKEN]:ka,[z.WHITESPACE_CHARACTER_TOKEN]:Cn,[z.COMMENT_TOKEN]:Zt,[z.DOCTYPE_TOKEN]:Io,[z.START_TAG_TOKEN]:C6,[z.END_TAG_TOKEN]:D6,[z.EOF_TOKEN]:ka},[G1]:{[z.CHARACTER_TOKEN]:Ba,[z.NULL_CHARACTER_TOKEN]:Ba,[z.WHITESPACE_CHARACTER_TOKEN]:Cn,[z.COMMENT_TOKEN]:Zt,[z.DOCTYPE_TOKEN]:Io,[z.START_TAG_TOKEN]:w6,[z.END_TAG_TOKEN]:R6,[z.EOF_TOKEN]:Ba},[Ir]:{[z.CHARACTER_TOKEN]:Lo,[z.NULL_CHARACTER_TOKEN]:mt,[z.WHITESPACE_CHARACTER_TOKEN]:Zi,[z.COMMENT_TOKEN]:Zt,[z.DOCTYPE_TOKEN]:mt,[z.START_TAG_TOKEN]:Pn,[z.END_TAG_TOKEN]:Vu,[z.EOF_TOKEN]:Wr},[S1]:{[z.CHARACTER_TOKEN]:Cn,[z.NULL_CHARACTER_TOKEN]:Cn,[z.WHITESPACE_CHARACTER_TOKEN]:Cn,[z.COMMENT_TOKEN]:mt,[z.DOCTYPE_TOKEN]:mt,[z.START_TAG_TOKEN]:mt,[z.END_TAG_TOKEN]:o7,[z.EOF_TOKEN]:l7},[pn]:{[z.CHARACTER_TOKEN]:qr,[z.NULL_CHARACTER_TOKEN]:qr,[z.WHITESPACE_CHARACTER_TOKEN]:qr,[z.COMMENT_TOKEN]:Zt,[z.DOCTYPE_TOKEN]:mt,[z.START_TAG_TOKEN]:Wu,[z.END_TAG_TOKEN]:qu,[z.EOF_TOKEN]:Wr},[X5]:{[z.CHARACTER_TOKEN]:T7,[z.NULL_CHARACTER_TOKEN]:mt,[z.WHITESPACE_CHARACTER_TOKEN]:E7,[z.COMMENT_TOKEN]:xa,[z.DOCTYPE_TOKEN]:xa,[z.START_TAG_TOKEN]:xa,[z.END_TAG_TOKEN]:xa,[z.EOF_TOKEN]:xa},[V1]:{[z.CHARACTER_TOKEN]:Lo,[z.NULL_CHARACTER_TOKEN]:mt,[z.WHITESPACE_CHARACTER_TOKEN]:Zi,[z.COMMENT_TOKEN]:Zt,[z.DOCTYPE_TOKEN]:mt,[z.START_TAG_TOKEN]:_7,[z.END_TAG_TOKEN]:v7,[z.EOF_TOKEN]:Wr},[Za]:{[z.CHARACTER_TOKEN]:M1,[z.NULL_CHARACTER_TOKEN]:M1,[z.WHITESPACE_CHARACTER_TOKEN]:Cn,[z.COMMENT_TOKEN]:Zt,[z.DOCTYPE_TOKEN]:mt,[z.START_TAG_TOKEN]:x7,[z.END_TAG_TOKEN]:A7,[z.EOF_TOKEN]:Wr},[tr]:{[z.CHARACTER_TOKEN]:qr,[z.NULL_CHARACTER_TOKEN]:qr,[z.WHITESPACE_CHARACTER_TOKEN]:qr,[z.COMMENT_TOKEN]:Zt,[z.DOCTYPE_TOKEN]:mt,[z.START_TAG_TOKEN]:y7,[z.END_TAG_TOKEN]:S7,[z.EOF_TOKEN]:Wr},[hi]:{[z.CHARACTER_TOKEN]:qr,[z.NULL_CHARACTER_TOKEN]:qr,[z.WHITESPACE_CHARACTER_TOKEN]:qr,[z.COMMENT_TOKEN]:Zt,[z.DOCTYPE_TOKEN]:mt,[z.START_TAG_TOKEN]:b7,[z.END_TAG_TOKEN]:M7,[z.EOF_TOKEN]:Wr},[W1]:{[z.CHARACTER_TOKEN]:Lo,[z.NULL_CHARACTER_TOKEN]:mt,[z.WHITESPACE_CHARACTER_TOKEN]:Zi,[z.COMMENT_TOKEN]:Zt,[z.DOCTYPE_TOKEN]:mt,[z.START_TAG_TOKEN]:C7,[z.END_TAG_TOKEN]:D7,[z.EOF_TOKEN]:Wr},[zu]:{[z.CHARACTER_TOKEN]:Cn,[z.NULL_CHARACTER_TOKEN]:mt,[z.WHITESPACE_CHARACTER_TOKEN]:Cn,[z.COMMENT_TOKEN]:Zt,[z.DOCTYPE_TOKEN]:mt,[z.START_TAG_TOKEN]:j5,[z.END_TAG_TOKEN]:Q5,[z.EOF_TOKEN]:Wr},[Hu]:{[z.CHARACTER_TOKEN]:Cn,[z.NULL_CHARACTER_TOKEN]:mt,[z.WHITESPACE_CHARACTER_TOKEN]:Cn,[z.COMMENT_TOKEN]:Zt,[z.DOCTYPE_TOKEN]:mt,[z.START_TAG_TOKEN]:w7,[z.END_TAG_TOKEN]:R7,[z.EOF_TOKEN]:Wr},[b1]:{[z.CHARACTER_TOKEN]:Lo,[z.NULL_CHARACTER_TOKEN]:mt,[z.WHITESPACE_CHARACTER_TOKEN]:Zi,[z.COMMENT_TOKEN]:Zt,[z.DOCTYPE_TOKEN]:mt,[z.START_TAG_TOKEN]:N7,[z.END_TAG_TOKEN]:I7,[z.EOF_TOKEN]:Z5},[Gu]:{[z.CHARACTER_TOKEN]:C1,[z.NULL_CHARACTER_TOKEN]:C1,[z.WHITESPACE_CHARACTER_TOKEN]:Zi,[z.COMMENT_TOKEN]:x6,[z.DOCTYPE_TOKEN]:mt,[z.START_TAG_TOKEN]:L7,[z.END_TAG_TOKEN]:F7,[z.EOF_TOKEN]:_a},[q1]:{[z.CHARACTER_TOKEN]:mt,[z.NULL_CHARACTER_TOKEN]:mt,[z.WHITESPACE_CHARACTER_TOKEN]:Cn,[z.COMMENT_TOKEN]:Zt,[z.DOCTYPE_TOKEN]:mt,[z.START_TAG_TOKEN]:P7,[z.END_TAG_TOKEN]:O7,[z.EOF_TOKEN]:_a},[Y5]:{[z.CHARACTER_TOKEN]:mt,[z.NULL_CHARACTER_TOKEN]:mt,[z.WHITESPACE_CHARACTER_TOKEN]:Cn,[z.COMMENT_TOKEN]:Zt,[z.DOCTYPE_TOKEN]:mt,[z.START_TAG_TOKEN]:k7,[z.END_TAG_TOKEN]:B7,[z.EOF_TOKEN]:_a},[K5]:{[z.CHARACTER_TOKEN]:c1,[z.NULL_CHARACTER_TOKEN]:c1,[z.WHITESPACE_CHARACTER_TOKEN]:Zi,[z.COMMENT_TOKEN]:xf,[z.DOCTYPE_TOKEN]:mt,[z.START_TAG_TOKEN]:U7,[z.END_TAG_TOKEN]:c1,[z.EOF_TOKEN]:_a},[$5]:{[z.CHARACTER_TOKEN]:mt,[z.NULL_CHARACTER_TOKEN]:mt,[z.WHITESPACE_CHARACTER_TOKEN]:Zi,[z.COMMENT_TOKEN]:xf,[z.DOCTYPE_TOKEN]:mt,[z.START_TAG_TOKEN]:z7,[z.END_TAG_TOKEN]:mt,[z.EOF_TOKEN]:_a}};class d6{constructor(e){this.options=a6(l6,e),this.treeAdapter=this.options.treeAdapter,this.pendingScript=null,this.options.sourceCodeLocationInfo&&Tf.install(this,r6),this.options.onParseError&&Tf.install(this,i6,{onParseError:this.options.onParseError})}parse(e){const t=this.treeAdapter.createDocument();return this._bootstrap(t,null),this.tokenizer.write(e,!0),this._runParsingLoop(null),t}parseFragment(e,t){t||(t=this.treeAdapter.createElement(x.TEMPLATE,Pe.HTML,[]));const r=this.treeAdapter.createElement("documentmock",Pe.HTML,[]);this._bootstrap(r,t),this.treeAdapter.getTagName(t)===x.TEMPLATE&&this._pushTmplInsertionMode(b1),this._initTokenizerForFragmentParsing(),this._insertFakeRootElement(),this._resetInsertionMode(),this._findFormInFragmentContext(),this.tokenizer.write(e,!0),this._runParsingLoop(null);const i=this.treeAdapter.getFirstChild(r),s=this.treeAdapter.createDocumentFragment();return this._adoptNodes(i,s),s}_bootstrap(e,t){this.tokenizer=new z(this.options),this.stopped=!1,this.insertionMode=W5,this.originalInsertionMode="",this.document=e,this.fragmentContext=t,this.headElement=null,this.formElement=null,this.openElements=new n6(this.document,this.treeAdapter),this.activeFormattingElements=new Ef(this.treeAdapter),this.tmplInsertionModeStack=[],this.tmplInsertionModeStackTop=-1,this.currentTmplInsertionMode=null,this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1}_err(){}_runParsingLoop(e){for(;!this.stopped;){this._setupTokenizerCDATAMode();const t=this.tokenizer.getNextToken();if(t.type===z.HIBERNATION_TOKEN)break;if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.type===z.WHITESPACE_CHARACTER_TOKEN&&t.chars[0]===`
`)){if(t.chars.length===1)continue;t.chars=t.chars.substr(1)}if(this._processInputToken(t),e&&this.pendingScript)break}}runParsingLoopForCurrentChunk(e,t){if(this._runParsingLoop(t),t&&this.pendingScript){const r=this.pendingScript;this.pendingScript=null,t(r);return}e&&e()}_setupTokenizerCDATAMode(){const e=this._getAdjustedCurrentElement();this.tokenizer.allowCDATA=e&&e!==this.document&&this.treeAdapter.getNamespaceURI(e)!==Pe.HTML&&!this._isIntegrationPoint(e)}_switchToTextParsing(e,t){this._insertElement(e,Pe.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=S1}switchToPlaintextParsing(){this.insertionMode=S1,this.originalInsertionMode=Ir,this.tokenizer.state=z.MODE.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;do{if(this.treeAdapter.getTagName(e)===x.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}while(e)}_initTokenizerForFragmentParsing(){if(this.treeAdapter.getNamespaceURI(this.fragmentContext)===Pe.HTML){const e=this.treeAdapter.getTagName(this.fragmentContext);e===x.TITLE||e===x.TEXTAREA?this.tokenizer.state=z.MODE.RCDATA:e===x.STYLE||e===x.XMP||e===x.IFRAME||e===x.NOEMBED||e===x.NOFRAMES||e===x.NOSCRIPT?this.tokenizer.state=z.MODE.RAWTEXT:e===x.SCRIPT?this.tokenizer.state=z.MODE.SCRIPT_DATA:e===x.PLAINTEXT&&(this.tokenizer.state=z.MODE.PLAINTEXT)}}_setDocumentType(e){const t=e.name||"",r=e.publicId||"",i=e.systemId||"";this.treeAdapter.setDocumentType(this.document,t,r,i)}_attachElementToTree(e){if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const t=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.appendChild(t,e)}}_appendElement(e,t){const r=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(r)}_insertElement(e,t){const r=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(r),this.openElements.push(r)}_insertFakeElement(e){const t=this.treeAdapter.createElement(e,Pe.HTML,[]);this._attachElementToTree(t),this.openElements.push(t)}_insertTemplate(e){const t=this.treeAdapter.createElement(e.tagName,Pe.HTML,e.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,r),this._attachElementToTree(t),this.openElements.push(t)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(x.HTML,Pe.HTML,[]);this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e)}_appendCommentNode(e,t){const r=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,r)}_insertCharacters(e){if(this._shouldFosterParentOnInsertion())this._fosterParentText(e.chars);else{const t=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.insertText(t,e.chars)}}_adoptNodes(e,t){for(let r=this.treeAdapter.getFirstChild(e);r;r=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(t,r)}_shouldProcessTokenInForeignContent(e){const t=this._getAdjustedCurrentElement();if(!t||t===this.document)return!1;const r=this.treeAdapter.getNamespaceURI(t);if(r===Pe.HTML||this.treeAdapter.getTagName(t)===x.ANNOTATION_XML&&r===Pe.MATHML&&e.type===z.START_TAG_TOKEN&&e.tagName===x.SVG)return!1;const i=e.type===z.CHARACTER_TOKEN||e.type===z.NULL_CHARACTER_TOKEN||e.type===z.WHITESPACE_CHARACTER_TOKEN;return(e.type===z.START_TAG_TOKEN&&e.tagName!==x.MGLYPH&&e.tagName!==x.MALIGNMARK||i)&&this._isIntegrationPoint(t,Pe.MATHML)||(e.type===z.START_TAG_TOKEN||i)&&this._isIntegrationPoint(t,Pe.HTML)?!1:e.type!==z.EOF_TOKEN}_processToken(e){vf[this.insertionMode][e.type](this,e)}_processTokenInBodyMode(e){vf[Ir][e.type](this,e)}_processTokenInForeignContent(e){e.type===z.CHARACTER_TOKEN?G7(this,e):e.type===z.NULL_CHARACTER_TOKEN?H7(this,e):e.type===z.WHITESPACE_CHARACTER_TOKEN?Cn(this,e):e.type===z.COMMENT_TOKEN?Zt(this,e):e.type===z.START_TAG_TOKEN?V7(this,e):e.type===z.END_TAG_TOKEN&&W7(this,e)}_processInputToken(e){this._shouldProcessTokenInForeignContent(e)?this._processTokenInForeignContent(e):this._processToken(e),e.type===z.START_TAG_TOKEN&&e.selfClosing&&!e.ackSelfClosing&&this._err(hn.nonVoidHtmlElementStartTagWithTrailingSolidus)}_isIntegrationPoint(e,t){const r=this.treeAdapter.getTagName(e),i=this.treeAdapter.getNamespaceURI(e),s=this.treeAdapter.getAttrList(e);return Dr.isIntegrationPoint(r,i,s,t)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.length;if(e){let t=e,r=null;do if(t--,r=this.activeFormattingElements.entries[t],r.type===Ef.MARKER_ENTRY||this.openElements.contains(r.element)){t++;break}while(t>0);for(let i=t;i<e;i++)r=this.activeFormattingElements.entries[i],this._insertElement(r.token,this.treeAdapter.getNamespaceURI(r.element)),r.element=this.openElements.current}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=hi}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(x.P),this.openElements.popUntilTagNamePopped(x.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop,t=!1;e>=0;e--){let r=this.openElements.items[e];e===0&&(t=!0,this.fragmentContext&&(r=this.fragmentContext));const i=this.treeAdapter.getTagName(r),s=h6[i];if(s){this.insertionMode=s;break}else if(!t&&(i===x.TD||i===x.TH)){this.insertionMode=W1;break}else if(!t&&i===x.HEAD){this.insertionMode=la;break}else if(i===x.SELECT){this._resetInsertionModeForSelect(e);break}else if(i===x.TEMPLATE){this.insertionMode=this.currentTmplInsertionMode;break}else if(i===x.HTML){this.insertionMode=this.headElement?G1:H1;break}else if(t){this.insertionMode=Ir;break}}}_resetInsertionModeForSelect(e){if(e>0)for(let t=e-1;t>0;t--){const r=this.openElements.items[t],i=this.treeAdapter.getTagName(r);if(i===x.TEMPLATE)break;if(i===x.TABLE){this.insertionMode=Hu;return}}this.insertionMode=zu}_pushTmplInsertionMode(e){this.tmplInsertionModeStack.push(e),this.tmplInsertionModeStackTop++,this.currentTmplInsertionMode=e}_popTmplInsertionMode(){this.tmplInsertionModeStack.pop(),this.tmplInsertionModeStackTop--,this.currentTmplInsertionMode=this.tmplInsertionModeStack[this.tmplInsertionModeStackTop]}_isElementCausesFosterParenting(e){const t=this.treeAdapter.getTagName(e);return t===x.TABLE||t===x.TBODY||t===x.TFOOT||t===x.THEAD||t===x.TR}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.current)}_findFosterParentingLocation(){const e={parent:null,beforeElement:null};for(let t=this.openElements.stackTop;t>=0;t--){const r=this.openElements.items[t],i=this.treeAdapter.getTagName(r),s=this.treeAdapter.getNamespaceURI(r);if(i===x.TEMPLATE&&s===Pe.HTML){e.parent=this.treeAdapter.getTemplateContent(r);break}else if(i===x.TABLE){e.parent=this.treeAdapter.getParentNode(r),e.parent?e.beforeElement=r:e.parent=this.openElements.items[t-1];break}}return e.parent||(e.parent=this.openElements.items[0]),e}_fosterParentElement(e){const t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e)}_fosterParentText(e){const t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertTextBefore(t.parent,e,t.beforeElement):this.treeAdapter.insertText(t.parent,e)}_isSpecialElement(e){const t=this.treeAdapter.getTagName(e),r=this.treeAdapter.getNamespaceURI(e);return _s.SPECIAL_ELEMENTS[r][t]}}var p6=d6;function m6(n,e){let t=n.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return t?n.openElements.contains(t.element)?n.openElements.hasInScope(e.tagName)||(t=null):(n.activeFormattingElements.removeEntry(t),t=null):pr(n,e),t}function g6(n,e){let t=null;for(let r=n.openElements.stackTop;r>=0;r--){const i=n.openElements.items[r];if(i===e.element)break;n._isSpecialElement(i)&&(t=i)}return t||(n.openElements.popUntilElementPopped(e.element),n.activeFormattingElements.removeEntry(e)),t}function E6(n,e,t){let r=e,i=n.openElements.getCommonAncestor(e);for(let s=0,a=i;a!==t;s++,a=i){i=n.openElements.getCommonAncestor(a);const o=n.activeFormattingElements.getElementEntry(a),l=o&&s>=c6;!o||l?(l&&n.activeFormattingElements.removeEntry(o),n.openElements.remove(a)):(a=T6(n,o),r===e&&(n.activeFormattingElements.bookmark=o),n.treeAdapter.detachNode(r),n.treeAdapter.appendChild(a,r),r=a)}return r}function T6(n,e){const t=n.treeAdapter.getNamespaceURI(e.element),r=n.treeAdapter.createElement(e.token.tagName,t,e.token.attrs);return n.openElements.replace(e.element,r),e.element=r,r}function _6(n,e,t){if(n._isElementCausesFosterParenting(e))n._fosterParentElement(t);else{const r=n.treeAdapter.getTagName(e),i=n.treeAdapter.getNamespaceURI(e);r===x.TEMPLATE&&i===Pe.HTML&&(e=n.treeAdapter.getTemplateContent(e)),n.treeAdapter.appendChild(e,t)}}function v6(n,e,t){const r=n.treeAdapter.getNamespaceURI(t.element),i=t.token,s=n.treeAdapter.createElement(i.tagName,r,i.attrs);n._adoptNodes(e,s),n.treeAdapter.appendChild(e,s),n.activeFormattingElements.insertElementAfterBookmark(s,t.token),n.activeFormattingElements.removeEntry(t),n.openElements.remove(t.element),n.openElements.insertAfter(e,s)}function wi(n,e){let t;for(let r=0;r<u6&&(t=m6(n,e),!!t);r++){const i=g6(n,t);if(!i)break;n.activeFormattingElements.bookmark=t;const s=E6(n,i,t.element),a=n.openElements.getCommonAncestor(t.element);n.treeAdapter.detachNode(s),_6(n,a,s),v6(n,i,t)}}function mt(){}function Io(n){n._err(hn.misplacedDoctype)}function Zt(n,e){n._appendCommentNode(e,n.openElements.currentTmplContent||n.openElements.current)}function x6(n,e){n._appendCommentNode(e,n.openElements.items[0])}function xf(n,e){n._appendCommentNode(e,n.document)}function Cn(n,e){n._insertCharacters(e)}function _a(n){n.stopped=!0}function A6(n,e){n._setDocumentType(e);const t=e.forceQuirks?_s.DOCUMENT_MODE.QUIRKS:_f.getDocumentMode(e);_f.isConforming(e)||n._err(hn.nonConformingDoctype),n.treeAdapter.setDocumentMode(n.document,t),n.insertionMode=Uu}function va(n,e){n._err(hn.missingDoctype,{beforeToken:!0}),n.treeAdapter.setDocumentMode(n.document,_s.DOCUMENT_MODE.QUIRKS),n.insertionMode=Uu,n._processToken(e)}function y6(n,e){e.tagName===x.HTML?(n._insertElement(e,Pe.HTML),n.insertionMode=H1):Fa(n,e)}function S6(n,e){const t=e.tagName;(t===x.HTML||t===x.HEAD||t===x.BODY||t===x.BR)&&Fa(n,e)}function Fa(n,e){n._insertFakeRootElement(),n.insertionMode=H1,n._processToken(e)}function b6(n,e){const t=e.tagName;t===x.HTML?Pn(n,e):t===x.HEAD?(n._insertElement(e,Pe.HTML),n.headElement=n.openElements.current,n.insertionMode=la):Pa(n,e)}function M6(n,e){const t=e.tagName;t===x.HEAD||t===x.BODY||t===x.HTML||t===x.BR?Pa(n,e):n._err(hn.endTagWithoutMatchingOpenElement)}function Pa(n,e){n._insertFakeElement(x.HEAD),n.headElement=n.openElements.current,n.insertionMode=la,n._processToken(e)}function on(n,e){const t=e.tagName;t===x.HTML?Pn(n,e):t===x.BASE||t===x.BASEFONT||t===x.BGSOUND||t===x.LINK||t===x.META?(n._appendElement(e,Pe.HTML),e.ackSelfClosing=!0):t===x.TITLE?n._switchToTextParsing(e,z.MODE.RCDATA):t===x.NOSCRIPT?n.options.scriptingEnabled?n._switchToTextParsing(e,z.MODE.RAWTEXT):(n._insertElement(e,Pe.HTML),n.insertionMode=q5):t===x.NOFRAMES||t===x.STYLE?n._switchToTextParsing(e,z.MODE.RAWTEXT):t===x.SCRIPT?n._switchToTextParsing(e,z.MODE.SCRIPT_DATA):t===x.TEMPLATE?(n._insertTemplate(e,Pe.HTML),n.activeFormattingElements.insertMarker(),n.framesetOk=!1,n.insertionMode=b1,n._pushTmplInsertionMode(b1)):t===x.HEAD?n._err(hn.misplacedStartTagForHeadElement):Oa(n,e)}function vs(n,e){const t=e.tagName;t===x.HEAD?(n.openElements.pop(),n.insertionMode=G1):t===x.BODY||t===x.BR||t===x.HTML?Oa(n,e):t===x.TEMPLATE&&n.openElements.tmplCount>0?(n.openElements.generateImpliedEndTagsThoroughly(),n.openElements.currentTagName!==x.TEMPLATE&&n._err(hn.closingOfElementWithOpenChildElements),n.openElements.popUntilTagNamePopped(x.TEMPLATE),n.activeFormattingElements.clearToLastMarker(),n._popTmplInsertionMode(),n._resetInsertionMode()):n._err(hn.endTagWithoutMatchingOpenElement)}function Oa(n,e){n.openElements.pop(),n.insertionMode=G1,n._processToken(e)}function C6(n,e){const t=e.tagName;t===x.HTML?Pn(n,e):t===x.BASEFONT||t===x.BGSOUND||t===x.HEAD||t===x.LINK||t===x.META||t===x.NOFRAMES||t===x.STYLE?on(n,e):t===x.NOSCRIPT?n._err(hn.nestedNoscriptInHead):ka(n,e)}function D6(n,e){const t=e.tagName;t===x.NOSCRIPT?(n.openElements.pop(),n.insertionMode=la):t===x.BR?ka(n,e):n._err(hn.endTagWithoutMatchingOpenElement)}function ka(n,e){const t=e.type===z.EOF_TOKEN?hn.openElementsLeftAfterEof:hn.disallowedContentInNoscriptInHead;n._err(t),n.openElements.pop(),n.insertionMode=la,n._processToken(e)}function w6(n,e){const t=e.tagName;t===x.HTML?Pn(n,e):t===x.BODY?(n._insertElement(e,Pe.HTML),n.framesetOk=!1,n.insertionMode=Ir):t===x.FRAMESET?(n._insertElement(e,Pe.HTML),n.insertionMode=q1):t===x.BASE||t===x.BASEFONT||t===x.BGSOUND||t===x.LINK||t===x.META||t===x.NOFRAMES||t===x.SCRIPT||t===x.STYLE||t===x.TEMPLATE||t===x.TITLE?(n._err(hn.abandonedHeadElementChild),n.openElements.push(n.headElement),on(n,e),n.openElements.remove(n.headElement)):t===x.HEAD?n._err(hn.misplacedStartTagForHeadElement):Ba(n,e)}function R6(n,e){const t=e.tagName;t===x.BODY||t===x.HTML||t===x.BR?Ba(n,e):t===x.TEMPLATE?vs(n,e):n._err(hn.endTagWithoutMatchingOpenElement)}function Ba(n,e){n._insertFakeElement(x.BODY),n.insertionMode=Ir,n._processToken(e)}function Zi(n,e){n._reconstructActiveFormattingElements(),n._insertCharacters(e)}function Lo(n,e){n._reconstructActiveFormattingElements(),n._insertCharacters(e),n.framesetOk=!1}function N6(n,e){n.openElements.tmplCount===0&&n.treeAdapter.adoptAttributes(n.openElements.items[0],e.attrs)}function I6(n,e){const t=n.openElements.tryPeekProperlyNestedBodyElement();t&&n.openElements.tmplCount===0&&(n.framesetOk=!1,n.treeAdapter.adoptAttributes(t,e.attrs))}function L6(n,e){const t=n.openElements.tryPeekProperlyNestedBodyElement();n.framesetOk&&t&&(n.treeAdapter.detachNode(t),n.openElements.popAllUpToHtmlElement(),n._insertElement(e,Pe.HTML),n.insertionMode=q1)}function Vr(n,e){n.openElements.hasInButtonScope(x.P)&&n._closePElement(),n._insertElement(e,Pe.HTML)}function F6(n,e){n.openElements.hasInButtonScope(x.P)&&n._closePElement();const t=n.openElements.currentTagName;(t===x.H1||t===x.H2||t===x.H3||t===x.H4||t===x.H5||t===x.H6)&&n.openElements.pop(),n._insertElement(e,Pe.HTML)}function Af(n,e){n.openElements.hasInButtonScope(x.P)&&n._closePElement(),n._insertElement(e,Pe.HTML),n.skipNextNewLine=!0,n.framesetOk=!1}function P6(n,e){const t=n.openElements.tmplCount>0;(!n.formElement||t)&&(n.openElements.hasInButtonScope(x.P)&&n._closePElement(),n._insertElement(e,Pe.HTML),t||(n.formElement=n.openElements.current))}function O6(n,e){n.framesetOk=!1;const t=e.tagName;for(let r=n.openElements.stackTop;r>=0;r--){const i=n.openElements.items[r],s=n.treeAdapter.getTagName(i);let a=null;if(t===x.LI&&s===x.LI?a=x.LI:(t===x.DD||t===x.DT)&&(s===x.DD||s===x.DT)&&(a=s),a){n.openElements.generateImpliedEndTagsWithExclusion(a),n.openElements.popUntilTagNamePopped(a);break}if(s!==x.ADDRESS&&s!==x.DIV&&s!==x.P&&n._isSpecialElement(i))break}n.openElements.hasInButtonScope(x.P)&&n._closePElement(),n._insertElement(e,Pe.HTML)}function k6(n,e){n.openElements.hasInButtonScope(x.P)&&n._closePElement(),n._insertElement(e,Pe.HTML),n.tokenizer.state=z.MODE.PLAINTEXT}function B6(n,e){n.openElements.hasInScope(x.BUTTON)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(x.BUTTON)),n._reconstructActiveFormattingElements(),n._insertElement(e,Pe.HTML),n.framesetOk=!1}function U6(n,e){const t=n.activeFormattingElements.getElementEntryInScopeWithTagName(x.A);t&&(wi(n,e),n.openElements.remove(t.element),n.activeFormattingElements.removeEntry(t)),n._reconstructActiveFormattingElements(),n._insertElement(e,Pe.HTML),n.activeFormattingElements.pushElement(n.openElements.current,e)}function Ss(n,e){n._reconstructActiveFormattingElements(),n._insertElement(e,Pe.HTML),n.activeFormattingElements.pushElement(n.openElements.current,e)}function z6(n,e){n._reconstructActiveFormattingElements(),n.openElements.hasInScope(x.NOBR)&&(wi(n,e),n._reconstructActiveFormattingElements()),n._insertElement(e,Pe.HTML),n.activeFormattingElements.pushElement(n.openElements.current,e)}function yf(n,e){n._reconstructActiveFormattingElements(),n._insertElement(e,Pe.HTML),n.activeFormattingElements.insertMarker(),n.framesetOk=!1}function H6(n,e){n.treeAdapter.getDocumentMode(n.document)!==_s.DOCUMENT_MODE.QUIRKS&&n.openElements.hasInButtonScope(x.P)&&n._closePElement(),n._insertElement(e,Pe.HTML),n.framesetOk=!1,n.insertionMode=pn}function Vs(n,e){n._reconstructActiveFormattingElements(),n._appendElement(e,Pe.HTML),n.framesetOk=!1,e.ackSelfClosing=!0}function G6(n,e){n._reconstructActiveFormattingElements(),n._appendElement(e,Pe.HTML);const t=z.getTokenAttr(e,G5.TYPE);(!t||t.toLowerCase()!==V5)&&(n.framesetOk=!1),e.ackSelfClosing=!0}function Sf(n,e){n._appendElement(e,Pe.HTML),e.ackSelfClosing=!0}function V6(n,e){n.openElements.hasInButtonScope(x.P)&&n._closePElement(),n._appendElement(e,Pe.HTML),n.framesetOk=!1,e.ackSelfClosing=!0}function W6(n,e){e.tagName=x.IMG,Vs(n,e)}function q6(n,e){n._insertElement(e,Pe.HTML),n.skipNextNewLine=!0,n.tokenizer.state=z.MODE.RCDATA,n.originalInsertionMode=n.insertionMode,n.framesetOk=!1,n.insertionMode=S1}function X6(n,e){n.openElements.hasInButtonScope(x.P)&&n._closePElement(),n._reconstructActiveFormattingElements(),n.framesetOk=!1,n._switchToTextParsing(e,z.MODE.RAWTEXT)}function Y6(n,e){n.framesetOk=!1,n._switchToTextParsing(e,z.MODE.RAWTEXT)}function bf(n,e){n._switchToTextParsing(e,z.MODE.RAWTEXT)}function K6(n,e){n._reconstructActiveFormattingElements(),n._insertElement(e,Pe.HTML),n.framesetOk=!1,n.insertionMode===pn||n.insertionMode===V1||n.insertionMode===tr||n.insertionMode===hi||n.insertionMode===W1?n.insertionMode=Hu:n.insertionMode=zu}function Mf(n,e){n.openElements.currentTagName===x.OPTION&&n.openElements.pop(),n._reconstructActiveFormattingElements(),n._insertElement(e,Pe.HTML)}function Cf(n,e){n.openElements.hasInScope(x.RUBY)&&n.openElements.generateImpliedEndTags(),n._insertElement(e,Pe.HTML)}function $6(n,e){n.openElements.hasInScope(x.RUBY)&&n.openElements.generateImpliedEndTagsWithExclusion(x.RTC),n._insertElement(e,Pe.HTML)}function j6(n,e){n.openElements.hasInButtonScope(x.P)&&n._closePElement(),n._insertElement(e,Pe.HTML)}function Q6(n,e){n._reconstructActiveFormattingElements(),Dr.adjustTokenMathMLAttrs(e),Dr.adjustTokenXMLAttrs(e),e.selfClosing?n._appendElement(e,Pe.MATHML):n._insertElement(e,Pe.MATHML),e.ackSelfClosing=!0}function Z6(n,e){n._reconstructActiveFormattingElements(),Dr.adjustTokenSVGAttrs(e),Dr.adjustTokenXMLAttrs(e),e.selfClosing?n._appendElement(e,Pe.SVG):n._insertElement(e,Pe.SVG),e.ackSelfClosing=!0}function Yn(n,e){n._reconstructActiveFormattingElements(),n._insertElement(e,Pe.HTML)}function Pn(n,e){const t=e.tagName;switch(t.length){case 1:t===x.I||t===x.S||t===x.B||t===x.U?Ss(n,e):t===x.P?Vr(n,e):t===x.A?U6(n,e):Yn(n,e);break;case 2:t===x.DL||t===x.OL||t===x.UL?Vr(n,e):t===x.H1||t===x.H2||t===x.H3||t===x.H4||t===x.H5||t===x.H6?F6(n,e):t===x.LI||t===x.DD||t===x.DT?O6(n,e):t===x.EM||t===x.TT?Ss(n,e):t===x.BR?Vs(n,e):t===x.HR?V6(n,e):t===x.RB?Cf(n,e):t===x.RT||t===x.RP?$6(n,e):t!==x.TH&&t!==x.TD&&t!==x.TR&&Yn(n,e);break;case 3:t===x.DIV||t===x.DIR||t===x.NAV?Vr(n,e):t===x.PRE?Af(n,e):t===x.BIG?Ss(n,e):t===x.IMG||t===x.WBR?Vs(n,e):t===x.XMP?X6(n,e):t===x.SVG?Z6(n,e):t===x.RTC?Cf(n,e):t!==x.COL&&Yn(n,e);break;case 4:t===x.HTML?N6(n,e):t===x.BASE||t===x.LINK||t===x.META?on(n,e):t===x.BODY?I6(n,e):t===x.MAIN||t===x.MENU?Vr(n,e):t===x.FORM?P6(n,e):t===x.CODE||t===x.FONT?Ss(n,e):t===x.NOBR?z6(n,e):t===x.AREA?Vs(n,e):t===x.MATH?Q6(n,e):t===x.MENU?j6(n,e):t!==x.HEAD&&Yn(n,e);break;case 5:t===x.STYLE||t===x.TITLE?on(n,e):t===x.ASIDE?Vr(n,e):t===x.SMALL?Ss(n,e):t===x.TABLE?H6(n,e):t===x.EMBED?Vs(n,e):t===x.INPUT?G6(n,e):t===x.PARAM||t===x.TRACK?Sf(n,e):t===x.IMAGE?W6(n,e):t!==x.FRAME&&t!==x.TBODY&&t!==x.TFOOT&&t!==x.THEAD&&Yn(n,e);break;case 6:t===x.SCRIPT?on(n,e):t===x.CENTER||t===x.FIGURE||t===x.FOOTER||t===x.HEADER||t===x.HGROUP||t===x.DIALOG?Vr(n,e):t===x.BUTTON?B6(n,e):t===x.STRIKE||t===x.STRONG?Ss(n,e):t===x.APPLET||t===x.OBJECT?yf(n,e):t===x.KEYGEN?Vs(n,e):t===x.SOURCE?Sf(n,e):t===x.IFRAME?Y6(n,e):t===x.SELECT?K6(n,e):t===x.OPTION?Mf(n,e):Yn(n,e);break;case 7:t===x.BGSOUND?on(n,e):t===x.DETAILS||t===x.ADDRESS||t===x.ARTICLE||t===x.SECTION||t===x.SUMMARY?Vr(n,e):t===x.LISTING?Af(n,e):t===x.MARQUEE?yf(n,e):t===x.NOEMBED?bf(n,e):t!==x.CAPTION&&Yn(n,e);break;case 8:t===x.BASEFONT?on(n,e):t===x.FRAMESET?L6(n,e):t===x.FIELDSET?Vr(n,e):t===x.TEXTAREA?q6(n,e):t===x.TEMPLATE?on(n,e):t===x.NOSCRIPT?n.options.scriptingEnabled?bf(n,e):Yn(n,e):t===x.OPTGROUP?Mf(n,e):t!==x.COLGROUP&&Yn(n,e);break;case 9:t===x.PLAINTEXT?k6(n,e):Yn(n,e);break;case 10:t===x.BLOCKQUOTE||t===x.FIGCAPTION?Vr(n,e):Yn(n,e);break;default:Yn(n,e)}}function J6(n){n.openElements.hasInScope(x.BODY)&&(n.insertionMode=Gu)}function e7(n,e){n.openElements.hasInScope(x.BODY)&&(n.insertionMode=Gu,n._processToken(e))}function xi(n,e){const t=e.tagName;n.openElements.hasInScope(t)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(t))}function t7(n){const e=n.openElements.tmplCount>0,t=n.formElement;e||(n.formElement=null),(t||e)&&n.openElements.hasInScope(x.FORM)&&(n.openElements.generateImpliedEndTags(),e?n.openElements.popUntilTagNamePopped(x.FORM):n.openElements.remove(t))}function n7(n){n.openElements.hasInButtonScope(x.P)||n._insertFakeElement(x.P),n._closePElement()}function r7(n){n.openElements.hasInListItemScope(x.LI)&&(n.openElements.generateImpliedEndTagsWithExclusion(x.LI),n.openElements.popUntilTagNamePopped(x.LI))}function i7(n,e){const t=e.tagName;n.openElements.hasInScope(t)&&(n.openElements.generateImpliedEndTagsWithExclusion(t),n.openElements.popUntilTagNamePopped(t))}function s7(n){n.openElements.hasNumberedHeaderInScope()&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilNumberedHeaderPopped())}function Df(n,e){const t=e.tagName;n.openElements.hasInScope(t)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(t),n.activeFormattingElements.clearToLastMarker())}function a7(n){n._reconstructActiveFormattingElements(),n._insertFakeElement(x.BR),n.openElements.pop(),n.framesetOk=!1}function pr(n,e){const t=e.tagName;for(let r=n.openElements.stackTop;r>0;r--){const i=n.openElements.items[r];if(n.treeAdapter.getTagName(i)===t){n.openElements.generateImpliedEndTagsWithExclusion(t),n.openElements.popUntilElementPopped(i);break}if(n._isSpecialElement(i))break}}function Vu(n,e){const t=e.tagName;switch(t.length){case 1:t===x.A||t===x.B||t===x.I||t===x.S||t===x.U?wi(n,e):t===x.P?n7(n):pr(n,e);break;case 2:t===x.DL||t===x.UL||t===x.OL?xi(n,e):t===x.LI?r7(n):t===x.DD||t===x.DT?i7(n,e):t===x.H1||t===x.H2||t===x.H3||t===x.H4||t===x.H5||t===x.H6?s7(n):t===x.BR?a7(n):t===x.EM||t===x.TT?wi(n,e):pr(n,e);break;case 3:t===x.BIG?wi(n,e):t===x.DIR||t===x.DIV||t===x.NAV||t===x.PRE?xi(n,e):pr(n,e);break;case 4:t===x.BODY?J6(n):t===x.HTML?e7(n,e):t===x.FORM?t7(n):t===x.CODE||t===x.FONT||t===x.NOBR?wi(n,e):t===x.MAIN||t===x.MENU?xi(n,e):pr(n,e);break;case 5:t===x.ASIDE?xi(n,e):t===x.SMALL?wi(n,e):pr(n,e);break;case 6:t===x.CENTER||t===x.FIGURE||t===x.FOOTER||t===x.HEADER||t===x.HGROUP||t===x.DIALOG?xi(n,e):t===x.APPLET||t===x.OBJECT?Df(n,e):t===x.STRIKE||t===x.STRONG?wi(n,e):pr(n,e);break;case 7:t===x.ADDRESS||t===x.ARTICLE||t===x.DETAILS||t===x.SECTION||t===x.SUMMARY||t===x.LISTING?xi(n,e):t===x.MARQUEE?Df(n,e):pr(n,e);break;case 8:t===x.FIELDSET?xi(n,e):t===x.TEMPLATE?vs(n,e):pr(n,e);break;case 10:t===x.BLOCKQUOTE||t===x.FIGCAPTION?xi(n,e):pr(n,e);break;default:pr(n,e)}}function Wr(n,e){n.tmplInsertionModeStackTop>-1?Z5(n,e):n.stopped=!0}function o7(n,e){e.tagName===x.SCRIPT&&(n.pendingScript=n.openElements.current),n.openElements.pop(),n.insertionMode=n.originalInsertionMode}function l7(n,e){n._err(hn.eofInElementThatCanContainOnlyText),n.openElements.pop(),n.insertionMode=n.originalInsertionMode,n._processToken(e)}function qr(n,e){const t=n.openElements.currentTagName;t===x.TABLE||t===x.TBODY||t===x.TFOOT||t===x.THEAD||t===x.TR?(n.pendingCharacterTokens=[],n.hasNonWhitespacePendingCharacterToken=!1,n.originalInsertionMode=n.insertionMode,n.insertionMode=X5,n._processToken(e)):$n(n,e)}function u7(n,e){n.openElements.clearBackToTableContext(),n.activeFormattingElements.insertMarker(),n._insertElement(e,Pe.HTML),n.insertionMode=V1}function c7(n,e){n.openElements.clearBackToTableContext(),n._insertElement(e,Pe.HTML),n.insertionMode=Za}function h7(n,e){n.openElements.clearBackToTableContext(),n._insertFakeElement(x.COLGROUP),n.insertionMode=Za,n._processToken(e)}function f7(n,e){n.openElements.clearBackToTableContext(),n._insertElement(e,Pe.HTML),n.insertionMode=tr}function d7(n,e){n.openElements.clearBackToTableContext(),n._insertFakeElement(x.TBODY),n.insertionMode=tr,n._processToken(e)}function p7(n,e){n.openElements.hasInTableScope(x.TABLE)&&(n.openElements.popUntilTagNamePopped(x.TABLE),n._resetInsertionMode(),n._processToken(e))}function m7(n,e){const t=z.getTokenAttr(e,G5.TYPE);t&&t.toLowerCase()===V5?n._appendElement(e,Pe.HTML):$n(n,e),e.ackSelfClosing=!0}function g7(n,e){!n.formElement&&n.openElements.tmplCount===0&&(n._insertElement(e,Pe.HTML),n.formElement=n.openElements.current,n.openElements.pop())}function Wu(n,e){const t=e.tagName;switch(t.length){case 2:t===x.TD||t===x.TH||t===x.TR?d7(n,e):$n(n,e);break;case 3:t===x.COL?h7(n,e):$n(n,e);break;case 4:t===x.FORM?g7(n,e):$n(n,e);break;case 5:t===x.TABLE?p7(n,e):t===x.STYLE?on(n,e):t===x.TBODY||t===x.TFOOT||t===x.THEAD?f7(n,e):t===x.INPUT?m7(n,e):$n(n,e);break;case 6:t===x.SCRIPT?on(n,e):$n(n,e);break;case 7:t===x.CAPTION?u7(n,e):$n(n,e);break;case 8:t===x.COLGROUP?c7(n,e):t===x.TEMPLATE?on(n,e):$n(n,e);break;default:$n(n,e)}}function qu(n,e){const t=e.tagName;t===x.TABLE?n.openElements.hasInTableScope(x.TABLE)&&(n.openElements.popUntilTagNamePopped(x.TABLE),n._resetInsertionMode()):t===x.TEMPLATE?vs(n,e):t!==x.BODY&&t!==x.CAPTION&&t!==x.COL&&t!==x.COLGROUP&&t!==x.HTML&&t!==x.TBODY&&t!==x.TD&&t!==x.TFOOT&&t!==x.TH&&t!==x.THEAD&&t!==x.TR&&$n(n,e)}function $n(n,e){const t=n.fosterParentingEnabled;n.fosterParentingEnabled=!0,n._processTokenInBodyMode(e),n.fosterParentingEnabled=t}function E7(n,e){n.pendingCharacterTokens.push(e)}function T7(n,e){n.pendingCharacterTokens.push(e),n.hasNonWhitespacePendingCharacterToken=!0}function xa(n,e){let t=0;if(n.hasNonWhitespacePendingCharacterToken)for(;t<n.pendingCharacterTokens.length;t++)$n(n,n.pendingCharacterTokens[t]);else for(;t<n.pendingCharacterTokens.length;t++)n._insertCharacters(n.pendingCharacterTokens[t]);n.insertionMode=n.originalInsertionMode,n._processToken(e)}function _7(n,e){const t=e.tagName;t===x.CAPTION||t===x.COL||t===x.COLGROUP||t===x.TBODY||t===x.TD||t===x.TFOOT||t===x.TH||t===x.THEAD||t===x.TR?n.openElements.hasInTableScope(x.CAPTION)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(x.CAPTION),n.activeFormattingElements.clearToLastMarker(),n.insertionMode=pn,n._processToken(e)):Pn(n,e)}function v7(n,e){const t=e.tagName;t===x.CAPTION||t===x.TABLE?n.openElements.hasInTableScope(x.CAPTION)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(x.CAPTION),n.activeFormattingElements.clearToLastMarker(),n.insertionMode=pn,t===x.TABLE&&n._processToken(e)):t!==x.BODY&&t!==x.COL&&t!==x.COLGROUP&&t!==x.HTML&&t!==x.TBODY&&t!==x.TD&&t!==x.TFOOT&&t!==x.TH&&t!==x.THEAD&&t!==x.TR&&Vu(n,e)}function x7(n,e){const t=e.tagName;t===x.HTML?Pn(n,e):t===x.COL?(n._appendElement(e,Pe.HTML),e.ackSelfClosing=!0):t===x.TEMPLATE?on(n,e):M1(n,e)}function A7(n,e){const t=e.tagName;t===x.COLGROUP?n.openElements.currentTagName===x.COLGROUP&&(n.openElements.pop(),n.insertionMode=pn):t===x.TEMPLATE?vs(n,e):t!==x.COL&&M1(n,e)}function M1(n,e){n.openElements.currentTagName===x.COLGROUP&&(n.openElements.pop(),n.insertionMode=pn,n._processToken(e))}function y7(n,e){const t=e.tagName;t===x.TR?(n.openElements.clearBackToTableBodyContext(),n._insertElement(e,Pe.HTML),n.insertionMode=hi):t===x.TH||t===x.TD?(n.openElements.clearBackToTableBodyContext(),n._insertFakeElement(x.TR),n.insertionMode=hi,n._processToken(e)):t===x.CAPTION||t===x.COL||t===x.COLGROUP||t===x.TBODY||t===x.TFOOT||t===x.THEAD?n.openElements.hasTableBodyContextInTableScope()&&(n.openElements.clearBackToTableBodyContext(),n.openElements.pop(),n.insertionMode=pn,n._processToken(e)):Wu(n,e)}function S7(n,e){const t=e.tagName;t===x.TBODY||t===x.TFOOT||t===x.THEAD?n.openElements.hasInTableScope(t)&&(n.openElements.clearBackToTableBodyContext(),n.openElements.pop(),n.insertionMode=pn):t===x.TABLE?n.openElements.hasTableBodyContextInTableScope()&&(n.openElements.clearBackToTableBodyContext(),n.openElements.pop(),n.insertionMode=pn,n._processToken(e)):(t!==x.BODY&&t!==x.CAPTION&&t!==x.COL&&t!==x.COLGROUP||t!==x.HTML&&t!==x.TD&&t!==x.TH&&t!==x.TR)&&qu(n,e)}function b7(n,e){const t=e.tagName;t===x.TH||t===x.TD?(n.openElements.clearBackToTableRowContext(),n._insertElement(e,Pe.HTML),n.insertionMode=W1,n.activeFormattingElements.insertMarker()):t===x.CAPTION||t===x.COL||t===x.COLGROUP||t===x.TBODY||t===x.TFOOT||t===x.THEAD||t===x.TR?n.openElements.hasInTableScope(x.TR)&&(n.openElements.clearBackToTableRowContext(),n.openElements.pop(),n.insertionMode=tr,n._processToken(e)):Wu(n,e)}function M7(n,e){const t=e.tagName;t===x.TR?n.openElements.hasInTableScope(x.TR)&&(n.openElements.clearBackToTableRowContext(),n.openElements.pop(),n.insertionMode=tr):t===x.TABLE?n.openElements.hasInTableScope(x.TR)&&(n.openElements.clearBackToTableRowContext(),n.openElements.pop(),n.insertionMode=tr,n._processToken(e)):t===x.TBODY||t===x.TFOOT||t===x.THEAD?(n.openElements.hasInTableScope(t)||n.openElements.hasInTableScope(x.TR))&&(n.openElements.clearBackToTableRowContext(),n.openElements.pop(),n.insertionMode=tr,n._processToken(e)):(t!==x.BODY&&t!==x.CAPTION&&t!==x.COL&&t!==x.COLGROUP||t!==x.HTML&&t!==x.TD&&t!==x.TH)&&qu(n,e)}function C7(n,e){const t=e.tagName;t===x.CAPTION||t===x.COL||t===x.COLGROUP||t===x.TBODY||t===x.TD||t===x.TFOOT||t===x.TH||t===x.THEAD||t===x.TR?(n.openElements.hasInTableScope(x.TD)||n.openElements.hasInTableScope(x.TH))&&(n._closeTableCell(),n._processToken(e)):Pn(n,e)}function D7(n,e){const t=e.tagName;t===x.TD||t===x.TH?n.openElements.hasInTableScope(t)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(t),n.activeFormattingElements.clearToLastMarker(),n.insertionMode=hi):t===x.TABLE||t===x.TBODY||t===x.TFOOT||t===x.THEAD||t===x.TR?n.openElements.hasInTableScope(t)&&(n._closeTableCell(),n._processToken(e)):t!==x.BODY&&t!==x.CAPTION&&t!==x.COL&&t!==x.COLGROUP&&t!==x.HTML&&Vu(n,e)}function j5(n,e){const t=e.tagName;t===x.HTML?Pn(n,e):t===x.OPTION?(n.openElements.currentTagName===x.OPTION&&n.openElements.pop(),n._insertElement(e,Pe.HTML)):t===x.OPTGROUP?(n.openElements.currentTagName===x.OPTION&&n.openElements.pop(),n.openElements.currentTagName===x.OPTGROUP&&n.openElements.pop(),n._insertElement(e,Pe.HTML)):t===x.INPUT||t===x.KEYGEN||t===x.TEXTAREA||t===x.SELECT?n.openElements.hasInSelectScope(x.SELECT)&&(n.openElements.popUntilTagNamePopped(x.SELECT),n._resetInsertionMode(),t!==x.SELECT&&n._processToken(e)):(t===x.SCRIPT||t===x.TEMPLATE)&&on(n,e)}function Q5(n,e){const t=e.tagName;if(t===x.OPTGROUP){const r=n.openElements.items[n.openElements.stackTop-1],i=r&&n.treeAdapter.getTagName(r);n.openElements.currentTagName===x.OPTION&&i===x.OPTGROUP&&n.openElements.pop(),n.openElements.currentTagName===x.OPTGROUP&&n.openElements.pop()}else t===x.OPTION?n.openElements.currentTagName===x.OPTION&&n.openElements.pop():t===x.SELECT&&n.openElements.hasInSelectScope(x.SELECT)?(n.openElements.popUntilTagNamePopped(x.SELECT),n._resetInsertionMode()):t===x.TEMPLATE&&vs(n,e)}function w7(n,e){const t=e.tagName;t===x.CAPTION||t===x.TABLE||t===x.TBODY||t===x.TFOOT||t===x.THEAD||t===x.TR||t===x.TD||t===x.TH?(n.openElements.popUntilTagNamePopped(x.SELECT),n._resetInsertionMode(),n._processToken(e)):j5(n,e)}function R7(n,e){const t=e.tagName;t===x.CAPTION||t===x.TABLE||t===x.TBODY||t===x.TFOOT||t===x.THEAD||t===x.TR||t===x.TD||t===x.TH?n.openElements.hasInTableScope(t)&&(n.openElements.popUntilTagNamePopped(x.SELECT),n._resetInsertionMode(),n._processToken(e)):Q5(n,e)}function N7(n,e){const t=e.tagName;if(t===x.BASE||t===x.BASEFONT||t===x.BGSOUND||t===x.LINK||t===x.META||t===x.NOFRAMES||t===x.SCRIPT||t===x.STYLE||t===x.TEMPLATE||t===x.TITLE)on(n,e);else{const r=f6[t]||Ir;n._popTmplInsertionMode(),n._pushTmplInsertionMode(r),n.insertionMode=r,n._processToken(e)}}function I7(n,e){e.tagName===x.TEMPLATE&&vs(n,e)}function Z5(n,e){n.openElements.tmplCount>0?(n.openElements.popUntilTagNamePopped(x.TEMPLATE),n.activeFormattingElements.clearToLastMarker(),n._popTmplInsertionMode(),n._resetInsertionMode(),n._processToken(e)):n.stopped=!0}function L7(n,e){e.tagName===x.HTML?Pn(n,e):C1(n,e)}function F7(n,e){e.tagName===x.HTML?n.fragmentContext||(n.insertionMode=K5):C1(n,e)}function C1(n,e){n.insertionMode=Ir,n._processToken(e)}function P7(n,e){const t=e.tagName;t===x.HTML?Pn(n,e):t===x.FRAMESET?n._insertElement(e,Pe.HTML):t===x.FRAME?(n._appendElement(e,Pe.HTML),e.ackSelfClosing=!0):t===x.NOFRAMES&&on(n,e)}function O7(n,e){e.tagName===x.FRAMESET&&!n.openElements.isRootHtmlElementCurrent()&&(n.openElements.pop(),!n.fragmentContext&&n.openElements.currentTagName!==x.FRAMESET&&(n.insertionMode=Y5))}function k7(n,e){const t=e.tagName;t===x.HTML?Pn(n,e):t===x.NOFRAMES&&on(n,e)}function B7(n,e){e.tagName===x.HTML&&(n.insertionMode=$5)}function U7(n,e){e.tagName===x.HTML?Pn(n,e):c1(n,e)}function c1(n,e){n.insertionMode=Ir,n._processToken(e)}function z7(n,e){const t=e.tagName;t===x.HTML?Pn(n,e):t===x.NOFRAMES&&on(n,e)}function H7(n,e){e.chars=o6.REPLACEMENT_CHARACTER,n._insertCharacters(e)}function G7(n,e){n._insertCharacters(e),n.framesetOk=!1}function V7(n,e){if(Dr.causesExit(e)&&!n.fragmentContext){for(;n.treeAdapter.getNamespaceURI(n.openElements.current)!==Pe.HTML&&!n._isIntegrationPoint(n.openElements.current);)n.openElements.pop();n._processToken(e)}else{const t=n._getAdjustedCurrentElement(),r=n.treeAdapter.getNamespaceURI(t);r===Pe.MATHML?Dr.adjustTokenMathMLAttrs(e):r===Pe.SVG&&(Dr.adjustTokenSVGTagName(e),Dr.adjustTokenSVGAttrs(e)),Dr.adjustTokenXMLAttrs(e),e.selfClosing?n._appendElement(e,r):n._insertElement(e,r),e.ackSelfClosing=!0}}function W7(n,e){for(let t=n.openElements.stackTop;t>0;t--){const r=n.openElements.items[t];if(n.treeAdapter.getNamespaceURI(r)===Pe.HTML){n._processToken(e);break}if(n.treeAdapter.getTagName(r).toLowerCase()===e.tagName){n.openElements.popUntilElementPopped(r);break}}}const J5=Gi(p6);function q7(n){const e=String(n),t=[],r=/\r?\n|\r/g;for(;r.test(e);)t.push(r.lastIndex);return t.push(e.length+1),{toPoint:i,toOffset:s};function i(a){let o=-1;if(typeof a=="number"&&a>-1&&a<t[t.length-1]){for(;++o<t.length;)if(t[o]>a)return{line:o+1,column:a-(o>0?t[o-1]:0)+1,offset:a}}return{line:void 0,column:void 0,offset:void 0}}function s(a){const o=a&&a.line,l=a&&a.column;if(typeof o=="number"&&typeof l=="number"&&!Number.isNaN(o)&&!Number.isNaN(l)&&o-1 in t){const u=(t[o-2]||0)+l-1||0;if(u>-1&&u<t[t.length-1])return u}return-1}}const e4={}.hasOwnProperty,X7=Object.prototype;function t4(n,e){const t=e||{};let r,i;return $7(t)?(i=t,r={}):(i=t.file||void 0,r=t),Xu({schema:r.space==="svg"?Ts:Qa,file:i,verbose:r.verbose,location:!1},n)}function Xu(n,e){let t;switch(e.nodeName){case"#comment":{const r=e;return t={type:"comment",value:r.data},h1(n,r,t),t}case"#document":case"#document-fragment":{const r=e,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(t={type:"root",children:n4(n,e.childNodes),data:{quirksMode:i}},n.file&&n.location){const s=String(n.file),a=q7(s),o=a.toPoint(0),l=a.toPoint(s.length);t.position={start:o,end:l}}return t}case"#documentType":{const r=e;return t={type:"doctype"},h1(n,r,t),t}case"#text":{const r=e;return t={type:"text",value:r.value},h1(n,r,t),t}default:return t=Y7(n,e),t}}function n4(n,e){let t=-1;const r=[];for(;++t<e.length;)r[t]=Xu(n,e[t]);return r}function Y7(n,e){const t=n.schema;n.schema=e.namespaceURI===si.svg?Ts:Qa;let r=-1;const i={};for(;++r<e.attrs.length;){const o=e.attrs[r],l=(o.prefix?o.prefix+":":"")+o.name;e4.call(X7,l)||(i[l]=o.value)}const a=(n.schema.space==="svg"?y5:ai)(e.tagName,i,n4(n,e.childNodes));if(h1(n,e,a),a.tagName==="template"){const o=e,l=o.sourceCodeLocation,u=l&&l.startTag&&qs(l.startTag),c=l&&l.endTag&&qs(l.endTag),h=Xu(n,o.content);u&&c&&n.file&&(h.position={start:u.end,end:c.start}),a.content=h}return n.schema=t,a}function h1(n,e,t){if("sourceCodeLocation"in e&&e.sourceCodeLocation&&n.file){const r=K7(n,t,e.sourceCodeLocation);r&&(n.location=!0,t.position=r)}}function K7(n,e,t){const r=qs(t);if(e.type==="element"){const i=e.children[e.children.length-1];if(r&&!t.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),n.verbose){const s={};let a;if(t.attrs)for(a in t.attrs)e4.call(t.attrs,a)&&(s[B1(n.schema,a).property]=qs(t.attrs[a]));e.data={position:{opening:qs(t.startTag),closing:t.endTag?qs(t.endTag):null,properties:s}}}}return r}function qs(n){const e=wf({line:n.startLine,column:n.startCol,offset:n.startOffset}),t=wf({line:n.endLine,column:n.endCol,offset:n.endOffset});return e||t?{start:e,end:t}:void 0}function wf(n){return n.line&&n.column?n:void 0}function $7(n){return"messages"in n}const j7={abandonedHeadElementChild:{reason:"Unexpected metadata element after head",description:"Unexpected element after head. Expected the element before `</head>`",url:!1},abruptClosingOfEmptyComment:{reason:"Unexpected abruptly closed empty comment",description:"Unexpected `>` or `->`. Expected `-->` to close comments"},abruptDoctypePublicIdentifier:{reason:"Unexpected abruptly closed public identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the public identifier"},abruptDoctypeSystemIdentifier:{reason:"Unexpected abruptly closed system identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the identifier identifier"},absenceOfDigitsInNumericCharacterReference:{reason:"Unexpected non-digit at start of numeric character reference",description:"Unexpected `%c`. Expected `[0-9]` for decimal references or `[0-9a-fA-F]` for hexadecimal references"},cdataInHtmlContent:{reason:"Unexpected CDATA section in HTML",description:"Unexpected `<![CDATA[` in HTML. Remove it, use a comment, or encode special characters instead"},characterReferenceOutsideUnicodeRange:{reason:"Unexpected too big numeric character reference",description:"Unexpectedly high character reference. Expected character references to be at most hexadecimal 10ffff (or decimal 1114111)"},closingOfElementWithOpenChildElements:{reason:"Unexpected closing tag with open child elements",description:"Unexpectedly closing tag. Expected other tags to be closed first",url:!1},controlCharacterInInputStream:{reason:"Unexpected control character",description:"Unexpected control character `%x`. Expected a non-control code point, 0x00, or ASCII whitespace"},controlCharacterReference:{reason:"Unexpected control character reference",description:"Unexpectedly control character in reference. Expected a non-control code point, 0x00, or ASCII whitespace"},disallowedContentInNoscriptInHead:{reason:"Disallowed content inside `<noscript>` in `<head>`",description:"Unexpected text character `%c`. Only use text in `<noscript>`s in `<body>`",url:!1},duplicateAttribute:{reason:"Unexpected duplicate attribute",description:"Unexpectedly double attribute. Expected attributes to occur only once"},endTagWithAttributes:{reason:"Unexpected attribute on closing tag",description:"Unexpected attribute. Expected `>` instead"},endTagWithTrailingSolidus:{reason:"Unexpected slash at end of closing tag",description:"Unexpected `%c-1`. Expected `>` instead"},endTagWithoutMatchingOpenElement:{reason:"Unexpected unopened end tag",description:"Unexpected end tag. Expected no end tag or another end tag",url:!1},eofBeforeTagName:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected tag name instead"},eofInCdata:{reason:"Unexpected end of file in CDATA",description:"Unexpected end of file. Expected `]]>` to close the CDATA"},eofInComment:{reason:"Unexpected end of file in comment",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInDoctype:{reason:"Unexpected end of file in doctype",description:"Unexpected end of file. Expected a valid doctype (such as `<!doctype html>`)"},eofInElementThatCanContainOnlyText:{reason:"Unexpected end of file in element that can only contain text",description:"Unexpected end of file. Expected text or a closing tag",url:!1},eofInScriptHtmlCommentLikeText:{reason:"Unexpected end of file in comment inside script",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInTag:{reason:"Unexpected end of file in tag",description:"Unexpected end of file. Expected `>` to close the tag"},incorrectlyClosedComment:{reason:"Incorrectly closed comment",description:"Unexpected `%c-1`. Expected `-->` to close the comment"},incorrectlyOpenedComment:{reason:"Incorrectly opened comment",description:"Unexpected `%c`. Expected `<!--` to open the comment"},invalidCharacterSequenceAfterDoctypeName:{reason:"Invalid sequence after doctype name",description:"Unexpected sequence at `%c`. Expected `public` or `system`"},invalidFirstCharacterOfTagName:{reason:"Invalid first character in tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},misplacedDoctype:{reason:"Misplaced doctype",description:"Unexpected doctype. Expected doctype before head",url:!1},misplacedStartTagForHeadElement:{reason:"Misplaced `<head>` start tag",description:"Unexpected start tag `<head>`. Expected `<head>` directly after doctype",url:!1},missingAttributeValue:{reason:"Missing attribute value",description:"Unexpected `%c-1`. Expected an attribute value or no `%c-1` instead"},missingDoctype:{reason:"Missing doctype before other content",description:"Expected a `<!doctype html>` before anything else",url:!1},missingDoctypeName:{reason:"Missing doctype name",description:"Unexpected doctype end at `%c`. Expected `html` instead"},missingDoctypePublicIdentifier:{reason:"Missing public identifier in doctype",description:"Unexpected `%c`. Expected identifier for `public` instead"},missingDoctypeSystemIdentifier:{reason:"Missing system identifier in doctype",description:'Unexpected `%c`. Expected identifier for `system` instead (suggested: `"about:legacy-compat"`)'},missingEndTagName:{reason:"Missing name in end tag",description:"Unexpected `%c`. Expected an ASCII letter instead"},missingQuoteBeforeDoctypePublicIdentifier:{reason:"Missing quote before public identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingQuoteBeforeDoctypeSystemIdentifier:{reason:"Missing quote before system identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingSemicolonAfterCharacterReference:{reason:"Missing semicolon after character reference",description:"Unexpected `%c`. Expected `;` instead"},missingWhitespaceAfterDoctypePublicKeyword:{reason:"Missing whitespace after public identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceAfterDoctypeSystemKeyword:{reason:"Missing whitespace after system identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBeforeDoctypeName:{reason:"Missing whitespace before doctype name",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenAttributes:{reason:"Missing whitespace between attributes",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:{reason:"Missing whitespace between public and system identifiers in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},nestedComment:{reason:"Unexpected nested comment",description:"Unexpected `<!--`. Expected `-->`"},nestedNoscriptInHead:{reason:"Unexpected nested `<noscript>` in `<head>`",description:"Unexpected `<noscript>`. Expected a closing tag or a meta element",url:!1},nonConformingDoctype:{reason:"Unexpected non-conforming doctype declaration",description:'Expected `<!doctype html>` or `<!doctype html system "about:legacy-compat">`',url:!1},nonVoidHtmlElementStartTagWithTrailingSolidus:{reason:"Unexpected trailing slash on start tag of non-void element",description:"Unexpected `/`. Expected `>` instead"},noncharacterCharacterReference:{reason:"Unexpected noncharacter code point referenced by character reference",description:"Unexpected code point. Do not use noncharacters in HTML"},noncharacterInInputStream:{reason:"Unexpected noncharacter character",description:"Unexpected code point `%x`. Do not use noncharacters in HTML"},nullCharacterReference:{reason:"Unexpected NULL character referenced by character reference",description:"Unexpected code point. Do not use NULL characters in HTML"},openElementsLeftAfterEof:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected closing tag instead",url:!1},surrogateCharacterReference:{reason:"Unexpected surrogate character referenced by character reference",description:"Unexpected code point. Do not use lone surrogate characters in HTML"},surrogateInInputStream:{reason:"Unexpected surrogate character",description:"Unexpected code point `%x`. Do not use lone surrogate characters in HTML"},unexpectedCharacterAfterDoctypeSystemIdentifier:{reason:"Invalid character after system identifier in doctype",description:"Unexpected character at `%c`. Expected `>`"},unexpectedCharacterInAttributeName:{reason:"Unexpected character in attribute name",description:"Unexpected `%c`. Expected whitespace, `/`, `>`, `=`, or probably an ASCII letter"},unexpectedCharacterInUnquotedAttributeValue:{reason:"Unexpected character in unquoted attribute value",description:"Unexpected `%c`. Quote the attribute value to include it"},unexpectedEqualsSignBeforeAttributeName:{reason:"Unexpected equals sign before attribute name",description:"Unexpected `%c`. Add an attribute name before it"},unexpectedNullCharacter:{reason:"Unexpected NULL character",description:"Unexpected code point `%x`. Do not use NULL characters in HTML"},unexpectedQuestionMarkInsteadOfTagName:{reason:"Unexpected question mark instead of tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},unexpectedSolidusInTag:{reason:"Unexpected slash in tag",description:"Unexpected `%c-1`. Expected it followed by `>` or in a quoted attribute value"},unknownNamedCharacterReference:{reason:"Unexpected unknown named character reference",description:"Unexpected character reference. Expected known named character references"}},Q7="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-",Z7={2:!0,1:!1,0:null};function J7(n){const e=this.data("settings"),t=Object.assign({},e,n);Object.assign(this,{Parser:r});function r(i,s){const a=t.fragment?"parseFragment":"parse",o=t.emitParseErrors?u:null,l=new J5({sourceCodeLocationInfo:!0,onParseError:o,scriptingEnabled:!1});return t4(l[a](i),{space:t.space,file:s,verbose:t.verbose});function u(c){const h=c.code,f=eE(h),d=t[f],T=d??!0,E=typeof T=="number"?T:T?1:0,g={line:c.startLine,column:c.startCol,offset:c.startOffset},p={line:c.endLine,column:c.endCol,offset:c.endOffset};if(E){const _=j7[f]||{reason:"",description:"",url:""},D=s.message(A(_.reason),{start:g,end:p});D.source="parse-error",D.ruleId=h,D.fatal=Z7[E],D.note=A(_.description),D.url="url"in _&&_.url===!1?null:Q7+h}function A(_){return _.replace(/%c(?:-(\d+))?/g,(D,M)=>{const y=M?-Number.parseInt(M,10):0,C=i.charAt(c.startOffset+y);return C==="`"?"` ` `":C}).replace(/%x/g,()=>"0x"+i.charCodeAt(c.startOffset).toString(16).toUpperCase())}}}}function eE(n){return n.replace(/-[a-z]/g,e=>e.charAt(1).toUpperCase())}function Rf(n){if(n)throw n}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var tE=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)};const r4=Gi(tE);var f1=Object.prototype.hasOwnProperty,i4=Object.prototype.toString,Nf=Object.defineProperty,If=Object.getOwnPropertyDescriptor,Lf=function(e){return typeof Array.isArray=="function"?Array.isArray(e):i4.call(e)==="[object Array]"},Ff=function(e){if(!e||i4.call(e)!=="[object Object]")return!1;var t=f1.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&f1.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!r)return!1;var i;for(i in e);return typeof i>"u"||f1.call(e,i)},Pf=function(e,t){Nf&&t.name==="__proto__"?Nf(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},Of=function(e,t){if(t==="__proto__")if(f1.call(e,t)){if(If)return If(e,t).value}else return;return e[t]},nE=function n(){var e,t,r,i,s,a,o=arguments[0],l=1,u=arguments.length,c=!1;for(typeof o=="boolean"&&(c=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<u;++l)if(e=arguments[l],e!=null)for(t in e)r=Of(o,t),i=Of(e,t),o!==i&&(c&&i&&(Ff(i)||(s=Lf(i)))?(s?(s=!1,a=r&&Lf(r)?r:[]):a=r&&Ff(r)?r:{},Pf(o,{name:t,newValue:n(c,a,i)})):typeof i<"u"&&Pf(o,{name:t,newValue:i}));return o};const kf=Gi(nE);function Yl(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function rE(){const n=[],e={run:t,use:r};return e;function t(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(l,...u){const c=n[++s];let h=-1;if(l){a(l);return}for(;++h<i.length;)(u[h]===null||u[h]===void 0)&&(u[h]=i[h]);i=u,c?iE(c,o)(...u):a(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return n.push(i),e}}function iE(n,e){let t;return r;function r(...a){const o=n.length>a.length;let l;o&&a.push(i);try{l=n.apply(this,a)}catch(u){const c=u;if(o&&t)throw c;return i(c)}o||(l instanceof Promise?l.then(s,i):l instanceof Error?i(l):s(l))}function i(a,...o){t||(t=!0,e(a,...o))}function s(a){i(null,a)}}function sE(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?Bf(n.position):"start"in n||"end"in n?Bf(n):"line"in n||"column"in n?Kl(n):""}function Kl(n){return Uf(n&&n.line)+":"+Uf(n&&n.column)}function Bf(n){return Kl(n&&n.start)+"-"+Kl(n&&n.end)}function Uf(n){return n&&typeof n=="number"?n:1}class ar extends Error{constructor(e,t,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof t=="string"&&(r=t,t=void 0),typeof r=="string"){const a=r.indexOf(":");a===-1?i[1]=r:(i[0]=r.slice(0,a),i[1]=r.slice(a+1))}t&&("type"in t||"position"in t?t.position&&(s=t.position):"start"in t||"end"in t?s=t:("line"in t||"column"in t)&&(s.start=t)),this.name=sE(t)||"1:1",this.message=typeof e=="object"?e.message:e,this.stack="",typeof e=="object"&&e.stack&&(this.stack=e.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}ar.prototype.file="";ar.prototype.name="";ar.prototype.reason="";ar.prototype.message="";ar.prototype.stack="";ar.prototype.fatal=null;ar.prototype.column=null;ar.prototype.line=null;ar.prototype.source=null;ar.prototype.ruleId=null;ar.prototype.position=null;const br={basename:aE,dirname:oE,extname:lE,join:uE,sep:"/"};function aE(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Ja(n);let t=0,r=-1,i=n.length,s;if(e===void 0||e.length===0||e.length>n.length){for(;i--;)if(n.charCodeAt(i)===47){if(s){t=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":n.slice(t,r)}if(e===n)return"";let a=-1,o=e.length-1;for(;i--;)if(n.charCodeAt(i)===47){if(s){t=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(n.charCodeAt(i)===e.charCodeAt(o--)?o<0&&(r=i):(o=-1,r=a));return t===r?r=a:r<0&&(r=n.length),n.slice(t,r)}function oE(n){if(Ja(n),n.length===0)return".";let e=-1,t=n.length,r;for(;--t;)if(n.charCodeAt(t)===47){if(r){e=t;break}}else r||(r=!0);return e<0?n.charCodeAt(0)===47?"/":".":e===1&&n.charCodeAt(0)===47?"//":n.slice(0,e)}function lE(n){Ja(n);let e=n.length,t=-1,r=0,i=-1,s=0,a;for(;e--;){const o=n.charCodeAt(e);if(o===47){if(a){r=e+1;break}continue}t<0&&(a=!0,t=e+1),o===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||t<0||s===0||s===1&&i===t-1&&i===r+1?"":n.slice(i,t)}function uE(...n){let e=-1,t;for(;++e<n.length;)Ja(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":cE(t)}function cE(n){Ja(n);const e=n.charCodeAt(0)===47;let t=hE(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.charCodeAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function hE(n,e){let t="",r=0,i=-1,s=0,a=-1,o,l;for(;++a<=n.length;){if(a<n.length)o=n.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){if(l=t.lastIndexOf("/"),l!==t.length-1){l<0?(t="",r=0):(t=t.slice(0,l),r=t.length-1-t.lastIndexOf("/")),i=a,s=0;continue}}else if(t.length>0){t="",r=0,i=a,s=0;continue}}e&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+n.slice(i+1,a):t=n.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return t}function Ja(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const fE={cwd:dE};function dE(){return"/"}function $l(n){return n!==null&&typeof n=="object"&&n.href&&n.origin}function pE(n){if(typeof n=="string")n=new URL(n);else if(!$l(n)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return mE(n)}function mE(n){if(n.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=n.pathname;let t=-1;for(;++t<e.length;)if(e.charCodeAt(t)===37&&e.charCodeAt(t+1)===50){const r=e.charCodeAt(t+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const G0=["history","path","basename","stem","extname","dirname"];class gE{constructor(e){let t;e?typeof e=="string"||EE(e)?t={value:e}:$l(e)?t={path:e}:t=e:t={},this.data={},this.messages=[],this.history=[],this.cwd=fE.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<G0.length;){const s=G0[r];s in t&&t[s]!==void 0&&t[s]!==null&&(this[s]=s==="history"?[...t[s]]:t[s])}let i;for(i in t)G0.includes(i)||(this[i]=t[i])}get path(){return this.history[this.history.length-1]}set path(e){$l(e)&&(e=pE(e)),W0(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return typeof this.path=="string"?br.dirname(this.path):void 0}set dirname(e){zf(this.basename,"dirname"),this.path=br.join(e||"",this.basename)}get basename(){return typeof this.path=="string"?br.basename(this.path):void 0}set basename(e){W0(e,"basename"),V0(e,"basename"),this.path=br.join(this.dirname||"",e)}get extname(){return typeof this.path=="string"?br.extname(this.path):void 0}set extname(e){if(V0(e,"extname"),zf(this.dirname,"extname"),e){if(e.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=br.join(this.dirname,this.stem+(e||""))}get stem(){return typeof this.path=="string"?br.basename(this.path,this.extname):void 0}set stem(e){W0(e,"stem"),V0(e,"stem"),this.path=br.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e||void 0)}message(e,t,r){const i=new ar(e,t,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(e,t,r){const i=this.message(e,t,r);return i.fatal=null,i}fail(e,t,r){const i=this.message(e,t,r);throw i.fatal=!0,i}}function V0(n,e){if(n&&n.includes(br.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+br.sep+"`")}function W0(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function zf(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}function EE(n){return r4(n)}const Yu=a4().freeze(),s4={}.hasOwnProperty;function a4(){const n=rE(),e=[];let t={},r,i=-1;return s.data=a,s.Parser=void 0,s.Compiler=void 0,s.freeze=o,s.attachers=e,s.use=l,s.parse=u,s.stringify=c,s.run=h,s.runSync=f,s.process=d,s.processSync=T,s;function s(){const E=a4();let g=-1;for(;++g<e.length;)E.use(...e[g]);return E.data(kf(!0,{},t)),E}function a(E,g){return typeof E=="string"?arguments.length===2?(Y0("data",r),t[E]=g,s):s4.call(t,E)&&t[E]||null:E?(Y0("data",r),t=E,s):t}function o(){if(r)return s;for(;++i<e.length;){const[E,...g]=e[i];if(g[0]===!1)continue;g[0]===!0&&(g[0]=void 0);const p=E.call(s,...g);typeof p=="function"&&n.use(p)}return r=!0,i=Number.POSITIVE_INFINITY,s}function l(E,...g){let p;if(Y0("use",r),E!=null)if(typeof E=="function")M(E,...g);else if(typeof E=="object")Array.isArray(E)?D(E):_(E);else throw new TypeError("Expected usable value, not `"+E+"`");return p&&(t.settings=Object.assign(t.settings||{},p)),s;function A(y){if(typeof y=="function")M(y);else if(typeof y=="object")if(Array.isArray(y)){const[C,...B]=y;M(C,...B)}else _(y);else throw new TypeError("Expected usable value, not `"+y+"`")}function _(y){D(y.plugins),y.settings&&(p=Object.assign(p||{},y.settings))}function D(y){let C=-1;if(y!=null)if(Array.isArray(y))for(;++C<y.length;){const B=y[C];A(B)}else throw new TypeError("Expected a list of plugins, not `"+y+"`")}function M(y,C){let B=-1,S;for(;++B<e.length;)if(e[B][0]===y){S=e[B];break}S?(Yl(S[1])&&Yl(C)&&(C=kf(!0,S[1],C)),S[1]=C):e.push([...arguments])}}function u(E){s.freeze();const g=Aa(E),p=s.Parser;return q0("parse",p),Hf(p,"parse")?new p(String(g),g).parse():p(String(g),g)}function c(E,g){s.freeze();const p=Aa(g),A=s.Compiler;return X0("stringify",A),Gf(E),Hf(A,"compile")?new A(E,p).compile():A(E,p)}function h(E,g,p){if(Gf(E),s.freeze(),!p&&typeof g=="function"&&(p=g,g=void 0),!p)return new Promise(A);A(null,p);function A(_,D){n.run(E,Aa(g),M);function M(y,C,B){C=C||E,y?D(y):_?_(C):p(null,C,B)}}}function f(E,g){let p,A;return s.run(E,g,_),Vf("runSync","run",A),p;function _(D,M){Rf(D),p=M,A=!0}}function d(E,g){if(s.freeze(),q0("process",s.Parser),X0("process",s.Compiler),!g)return new Promise(p);p(null,g);function p(A,_){const D=Aa(E);s.run(s.parse(D),D,(y,C,B)=>{if(y||!C||!B)M(y);else{const S=s.stringify(C,B);S==null||(vE(S)?B.value=S:B.result=S),M(y,B)}});function M(y,C){y||!C?_(y):A?A(C):g(null,C)}}}function T(E){let g;s.freeze(),q0("processSync",s.Parser),X0("processSync",s.Compiler);const p=Aa(E);return s.process(p,A),Vf("processSync","process",g),p;function A(_){g=!0,Rf(_)}}}function Hf(n,e){return typeof n=="function"&&n.prototype&&(TE(n.prototype)||e in n.prototype)}function TE(n){let e;for(e in n)if(s4.call(n,e))return!0;return!1}function q0(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `Parser`")}function X0(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `Compiler`")}function Y0(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Gf(n){if(!Yl(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function Vf(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function Aa(n){return _E(n)?n:new gE(n)}function _E(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function vE(n){return typeof n=="string"||r4(n)}const Wf={}.hasOwnProperty;function X1(n,e){const t=e||{};function r(i,...s){let a=r.invalid;const o=r.handlers;if(i&&Wf.call(i,n)){const l=String(i[n]);a=Wf.call(o,l)?o[l]:r.unknown}if(a)return a.call(this,i,...s)}return r.handlers=t.handlers||{},r.invalid=t.invalid,r.unknown=t.unknown,r}const xE=X1("operator",{unknown:DE,invalid:o4,handlers:{"=":yE,"^=":bE,"$=":ME,"*=":CE,"~=":SE}});function AE(n,e){let t=-1;for(;++t<n.attrs.length;)if(!xE(n.attrs[t],e))return!1;return!0}function o4(n,e){return e[n.name]!==null&&e[n.name]!==void 0}function yE(n,e){return o4(n,e)&&String(e[n.name])===n.value}function SE(n,e){const t=e[n.name];return t==null?!1:Array.isArray(t)&&t.includes(n.value)?!0:String(t)===n.value}function bE(n,e){const t=e[n.name];return!!(n.value&&typeof t=="string"&&t.slice(0,n.value.length)===n.value)}function ME(n,e){const t=e[n.name];return!!(n.value&&typeof t=="string"&&t.slice(-n.value.length)===n.value)}function CE(n,e){const t=e[n.name];return!!(n.value&&typeof t=="string"&&t.includes(n.value))}function DE(n){throw new Error("Unknown operator `"+n.operator+"`")}function wE(n,e){return n.tagName==="*"||n.tagName===e.type}const RE=new Set([9,10,12,13,32]),qf="0".charCodeAt(0),NE="9".charCodeAt(0);function IE(n){if(n=n.trim().toLowerCase(),n==="even")return[2,0];if(n==="odd")return[2,1];let e=0,t=0,r=s(),i=a();if(e<n.length&&n.charAt(e)==="n"&&(e++,t=r*(i??1),o(),e<n.length?(r=s(),o(),i=a()):r=i=0),i===null||e<n.length)throw new Error(`n-th rule couldn't be parsed ('${n}')`);return[t,r*i];function s(){return n.charAt(e)==="-"?(e++,-1):(n.charAt(e)==="+"&&e++,1)}function a(){const l=e;let u=0;for(;e<n.length&&n.charCodeAt(e)>=qf&&n.charCodeAt(e)<=NE;)u=u*10+(n.charCodeAt(e)-qf),e++;return e===l?null:u}function o(){for(;e<n.length&&RE.has(n.charCodeAt(e));)e++}}var LE={trueFunc:function(){return!0},falseFunc:function(){return!1}};const Xf=Gi(LE);function FE(n){const e=n[0],t=n[1]-1;if(t<0&&e<=0)return Xf.falseFunc;if(e===-1)return s=>s<=t;if(e===0)return s=>s===t;if(e===1)return t<0?Xf.trueFunc:s=>s>=t;const r=Math.abs(e),i=(t%r+r)%r;return e>1?s=>s>=t&&s%r===i:s=>s<=t&&s%r===i}function Yf(n){return FE(IE(n))}function Y1(n){return Array.isArray(n.children)}const PE=Yf.default||Yf,OE=X1("name",{unknown:ZE,invalid:QE,handlers:{any:jl,blank:Kf,empty:Kf,"first-child":kE,"first-of-type":BE,has:UE,"last-child":zE,"last-of-type":HE,matches:jl,not:GE,"nth-child":VE,"nth-last-child":WE,"nth-of-type":XE,"nth-last-of-type":qE,"only-child":YE,"only-of-type":KE,root:$E,scope:jE}});l4.needsIndex=["any","first-child","first-of-type","last-child","last-of-type","matches","not","nth-child","nth-last-child","nth-of-type","nth-last-of-type","only-child","only-of-type"];function l4(n,e,t,r,i){const s=n.pseudos;let a=-1;for(;++a<s.length;)if(!OE(s[a],e,t,r,i))return!1;return!0}function Kf(n,e){return Y1(e)?e.children.length===0:!("value"in e)}function kE(n,e,t,r,i){return Br(i,n),i.nodeIndex===0}function BE(n,e,t,r,i){return Br(i,n),i.typeIndex===0}function UE(n,e,t,r,i){const s={type:"root",children:Y1(e)?e.children:[]},a={...i,found:!1,shallow:!1,one:!0,scopeNodes:[e],results:[],rootQuery:Ku(n.value)};return $u(a,s),a.results.length>0}function zE(n,e,t,r,i){return Br(i,n),typeof i.nodeCount=="number"&&i.nodeIndex===i.nodeCount-1}function HE(n,e,t,r,i){return Br(i,n),typeof i.typeCount=="number"&&i.typeIndex===i.typeCount-1}function jl(n,e,t,r,i){const s={...i,found:!1,shallow:!1,one:!0,scopeNodes:[e],results:[],rootQuery:Ku(n.value)};return $u(s,e),s.results[0]===e}function GE(n,e,t,r,i){return!jl(n,e,t,r,i)}function VE(n,e,t,r,i){const s=K1(n);return Br(i,n),typeof i.nodeIndex=="number"&&s(i.nodeIndex)}function WE(n,e,t,r,i){const s=K1(n);return Br(i,n),typeof i.nodeCount=="number"&&typeof i.nodeIndex=="number"&&s(i.nodeCount-i.nodeIndex-1)}function qE(n,e,t,r,i){const s=K1(n);return Br(i,n),typeof i.typeIndex=="number"&&typeof i.typeCount=="number"&&s(i.typeCount-1-i.typeIndex)}function XE(n,e,t,r,i){const s=K1(n);return Br(i,n),typeof i.typeIndex=="number"&&s(i.typeIndex)}function YE(n,e,t,r,i){return Br(i,n),i.nodeCount===1}function KE(n,e,t,r,i){return Br(i,n),i.typeCount===1}function $E(n,e,t,r){return e&&!r}function jE(n,e,t,r,i){return e&&i.scopeNodes.includes(e)}function QE(){throw new Error("Invalid pseudo-selector")}function ZE(n){throw n.name?new Error("Unknown pseudo-selector `"+n.name+"`"):new Error("Unexpected pseudo-element or empty pseudo-class")}function Br(n,e){if(n.shallow)throw new Error("Cannot use `:"+e.name+"` without parent")}function K1(n){let e=n._cachedFn;return e||(e=PE(n.value),n._cachedFn=e),e}function JE(n,e,t,r,i){if(n.id)throw new Error("Invalid selector: id");if(n.classNames)throw new Error("Invalid selector: class");return!!(e&&(!n.tagName||wE(n,e))&&(!n.attrs||AE(n,e))&&(!n.pseudos||l4(n,e,t,r,i)))}const eT=[];function Ku(n){return n===null?{type:"selectors",selectors:[]}:n.type==="ruleSet"?{type:"selectors",selectors:[n]}:n}function $u(n,e){e&&u4(n,[],e,void 0,void 0)}function u4(n,e,t,r,i){let s={directChild:void 0,descendant:void 0,adjacentSibling:void 0,generalSibling:void 0};return s=nT(n,d1(e,n.rootQuery.selectors),t,r,i),Y1(t)&&!n.shallow&&!(n.one&&n.found)&&tT(n,s,t),s}function tT(n,e,t){const r=d1(e.descendant,e.directChild);let i,s=-1;const a={count:0,types:new Map},o={count:0,types:new Map};for(;++s<t.children.length;)$f(a,t.children[s]);for(s=-1;++s<t.children.length;){const u=t.children[s].type.toUpperCase();n.nodeIndex=o.count,n.typeIndex=o.types.get(u)||0,n.nodeCount=a.count,n.typeCount=a.types.get(u);const c=d1(r,i),h=u4(n,c,t.children[s],s,t);if(i=d1(h.generalSibling,h.adjacentSibling),n.one&&n.found)break;$f(o,t.children[s])}}function nT(n,e,t,r,i){const s={directChild:void 0,descendant:void 0,adjacentSibling:void 0,generalSibling:void 0};let a=-1;for(;++a<e.length;){const o=e[a];if(n.one&&n.found)break;if(n.shallow&&o.rule.rule)throw new Error("Expected selector without nesting");if(JE(o.rule,t,r,i,n)){const l=o.rule.rule;if(l){const u={type:"ruleSet",rule:l},c=l.nestingOperator==="+"?"adjacentSibling":l.nestingOperator==="~"?"generalSibling":l.nestingOperator===">"?"directChild":"descendant";K0(s,c,u)}else n.found=!0,n.results.includes(t)||n.results.push(t)}o.rule.nestingOperator===null?K0(s,"descendant",o):o.rule.nestingOperator==="~"&&K0(s,"generalSibling",o)}return s}function d1(n,e){return n&&e&&n.length>0&&e.length>0?[...n,...e]:n&&n.length>0?n:e&&e.length>0?e:eT}function K0(n,e,t){const r=n[e];r?r.push(t):n[e]=[t]}function $f(n,e){const t=e.type.toUpperCase(),r=(n.types.get(t)||0)+1;n.count++,n.types.set(t,r)}var c4={},ju={},Qu={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(a){return a>="a"&&a<="z"||a>="A"&&a<="Z"||a==="-"||a==="_"}n.isIdentStart=e;function t(a){return a>="a"&&a<="z"||a>="A"&&a<="Z"||a>="0"&&a<="9"||a==="-"||a==="_"}n.isIdent=t;function r(a){return a>="a"&&a<="f"||a>="A"&&a<="F"||a>="0"&&a<="9"}n.isHex=r;function i(a){for(var o=a.length,l="",u=0;u<o;){var c=a.charAt(u);if(n.identSpecialChars[c])l+="\\"+c;else if(c==="_"||c==="-"||c>="A"&&c<="Z"||c>="a"&&c<="z"||u!==0&&c>="0"&&c<="9")l+=c;else{var h=c.charCodeAt(0);if((h&63488)===55296){var f=a.charCodeAt(u++);if((h&64512)!==55296||(f&64512)!==56320)throw Error("UCS-2(decode): illegal sequence");h=((h&1023)<<10)+(f&1023)+65536}l+="\\"+h.toString(16)+" "}u++}return l}n.escapeIdentifier=i;function s(a){for(var o=a.length,l="",u=0,c;u<o;){var h=a.charAt(u);h==='"'?h='\\"':h==="\\"?h="\\\\":(c=n.strReplacementsRev[h])!==void 0&&(h=c),l+=h,u++}return'"'+l+'"'}n.escapeStr=s,n.identSpecialChars={"!":!0,'"':!0,"#":!0,$:!0,"%":!0,"&":!0,"'":!0,"(":!0,")":!0,"*":!0,"+":!0,",":!0,".":!0,"/":!0,";":!0,"<":!0,"=":!0,">":!0,"?":!0,"@":!0,"[":!0,"\\":!0,"]":!0,"^":!0,"`":!0,"{":!0,"|":!0,"}":!0,"~":!0},n.strReplacementsRev={"\n":"\\n","\r":"\\r","	":"\\t","\f":"\\f","\v":"\\v"},n.singleQuoteEscapeChars={n:`
`,r:"\r",t:"	",f:"\f","\\":"\\","'":"'"},n.doubleQuotesEscapeChars={n:`
`,r:"\r",t:"	",f:"\f","\\":"\\",'"':'"'}})(Qu);Object.defineProperty(ju,"__esModule",{value:!0});var lr=Qu;function rT(n,e,t,r,i,s){var a=n.length,o="";function l(E,g){var p="";for(e++,o=n.charAt(e);e<a;){if(o===E)return e++,p;if(o==="\\"){e++,o=n.charAt(e);var A=void 0;if(o===E)p+=E;else if((A=g[o])!==void 0)p+=A;else if(lr.isHex(o)){var _=o;for(e++,o=n.charAt(e);lr.isHex(o);)_+=o,e++,o=n.charAt(e);o===" "&&(e++,o=n.charAt(e)),p+=String.fromCharCode(parseInt(_,16));continue}else p+=o}else p+=o;e++,o=n.charAt(e)}return p}function u(){var E="";for(o=n.charAt(e);e<a;){if(lr.isIdent(o))E+=o;else if(o==="\\"){if(e++,e>=a)throw Error("Expected symbol but end of file reached.");if(o=n.charAt(e),lr.identSpecialChars[o])E+=o;else if(lr.isHex(o)){var g=o;for(e++,o=n.charAt(e);lr.isHex(o);)g+=o,e++,o=n.charAt(e);o===" "&&(e++,o=n.charAt(e)),E+=String.fromCharCode(parseInt(g,16));continue}else E+=o}else return E;e++,o=n.charAt(e)}return E}function c(){o=n.charAt(e);for(var E=!1;o===" "||o==="	"||o===`
`||o==="\r"||o==="\f";)E=!0,e++,o=n.charAt(e);return E}function h(){var E=f();if(e<a)throw Error('Rule expected but "'+n.charAt(e)+'" found.');return E}function f(){var E=d();if(!E)return null;var g=E;for(o=n.charAt(e);o===",";){if(e++,c(),g.type!=="selectors"&&(g={type:"selectors",selectors:[E]}),E=d(),!E)throw Error('Rule expected after ",".');g.selectors.push(E)}return g}function d(){c();var E={type:"ruleSet"},g=T();if(!g)return null;for(var p=E;g&&(g.type="rule",p.rule=g,p=g,c(),o=n.charAt(e),!(e>=a||o===","||o===")"));)if(i[o]){var A=o;if(e++,c(),g=T(),!g)throw Error('Rule expected after "'+A+'".');g.nestingOperator=A}else g=T(),g&&(g.nestingOperator=null);return E}function T(){for(var E=null;e<a;)if(o=n.charAt(e),o==="*")e++,(E=E||{}).tagName="*";else if(lr.isIdentStart(o)||o==="\\")(E=E||{}).tagName=u();else if(o===".")e++,E=E||{},(E.classNames=E.classNames||[]).push(u());else if(o==="#")e++,(E=E||{}).id=u();else if(o==="["){e++,c();var g={name:u()};if(c(),o==="]")e++;else{var p="";if(r[o]&&(p=o,e++,o=n.charAt(e)),e>=a)throw Error('Expected "=" but end of file reached.');if(o!=="=")throw Error('Expected "=" but "'+o+'" found.');g.operator=p+"=",e++,c();var A="";if(g.valueType="string",o==='"')A=l('"',lr.doubleQuotesEscapeChars);else if(o==="'")A=l("'",lr.singleQuoteEscapeChars);else if(s&&o==="$")e++,A=u(),g.valueType="substitute";else{for(;e<a&&o!=="]";)A+=o,e++,o=n.charAt(e);A=A.trim()}if(c(),e>=a)throw Error('Expected "]" but end of file reached.');if(o!=="]")throw Error('Expected "]" but "'+o+'" found.');e++,g.value=A}E=E||{},(E.attrs=E.attrs||[]).push(g)}else if(o===":"){e++;var _=u(),D={name:_};if(o==="("){e++;var M="";if(c(),t[_]==="selector")D.valueType="selector",M=f();else{if(D.valueType=t[_]||"string",o==='"')M=l('"',lr.doubleQuotesEscapeChars);else if(o==="'")M=l("'",lr.singleQuoteEscapeChars);else if(s&&o==="$")e++,M=u(),D.valueType="substitute";else{for(;e<a&&o!==")";)M+=o,e++,o=n.charAt(e);M=M.trim()}c()}if(e>=a)throw Error('Expected ")" but end of file reached.');if(o!==")")throw Error('Expected ")" but "'+o+'" found.');e++,D.value=M}E=E||{},(E.pseudos=E.pseudos||[]).push(D)}else break;return E}return h()}ju.parseCssSelector=rT;var Zu={};Object.defineProperty(Zu,"__esModule",{value:!0});var kn=Qu;function p1(n){var e="";switch(n.type){case"ruleSet":for(var t=n.rule,r=[];t;)t.nestingOperator&&r.push(t.nestingOperator),r.push(p1(t)),t=t.rule;e=r.join(" ");break;case"selectors":e=n.selectors.map(p1).join(", ");break;case"rule":n.tagName&&(n.tagName==="*"?e="*":e=kn.escapeIdentifier(n.tagName)),n.id&&(e+="#"+kn.escapeIdentifier(n.id)),n.classNames&&(e+=n.classNames.map(function(i){return"."+kn.escapeIdentifier(i)}).join("")),n.attrs&&(e+=n.attrs.map(function(i){return"operator"in i?i.valueType==="substitute"?"["+kn.escapeIdentifier(i.name)+i.operator+"$"+i.value+"]":"["+kn.escapeIdentifier(i.name)+i.operator+kn.escapeStr(i.value)+"]":"["+kn.escapeIdentifier(i.name)+"]"}).join("")),n.pseudos&&(e+=n.pseudos.map(function(i){return i.valueType?i.valueType==="selector"?":"+kn.escapeIdentifier(i.name)+"("+p1(i.value)+")":i.valueType==="substitute"?":"+kn.escapeIdentifier(i.name)+"($"+i.value+")":i.valueType==="numeric"?":"+kn.escapeIdentifier(i.name)+"("+i.value+")":":"+kn.escapeIdentifier(i.name)+"("+kn.escapeIdentifier(i.value)+")":":"+kn.escapeIdentifier(i.name)}).join(""));break;default:throw Error('Unknown entity type: "'+n.type+'".')}return e}Zu.renderEntity=p1;Object.defineProperty(c4,"__esModule",{value:!0});var iT=ju,sT=Zu,aT=function(){function n(){this.pseudos={},this.attrEqualityMods={},this.ruleNestingOperators={},this.substitutesEnabled=!1}return n.prototype.registerSelectorPseudos=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,i=e;r<i.length;r++){var s=i[r];this.pseudos[s]="selector"}return this},n.prototype.unregisterSelectorPseudos=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,i=e;r<i.length;r++){var s=i[r];delete this.pseudos[s]}return this},n.prototype.registerNumericPseudos=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,i=e;r<i.length;r++){var s=i[r];this.pseudos[s]="numeric"}return this},n.prototype.unregisterNumericPseudos=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,i=e;r<i.length;r++){var s=i[r];delete this.pseudos[s]}return this},n.prototype.registerNestingOperators=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,i=e;r<i.length;r++){var s=i[r];this.ruleNestingOperators[s]=!0}return this},n.prototype.unregisterNestingOperators=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,i=e;r<i.length;r++){var s=i[r];delete this.ruleNestingOperators[s]}return this},n.prototype.registerAttrEqualityMods=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,i=e;r<i.length;r++){var s=i[r];this.attrEqualityMods[s]=!0}return this},n.prototype.unregisterAttrEqualityMods=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,i=e;r<i.length;r++){var s=i[r];delete this.attrEqualityMods[s]}return this},n.prototype.enableSubstitutes=function(){return this.substitutesEnabled=!0,this},n.prototype.disableSubstitutes=function(){return this.substitutesEnabled=!1,this},n.prototype.parse=function(e){return iT.parseCssSelector(e,0,this.pseudos,this.attrEqualityMods,this.ruleNestingOperators,this.substitutesEnabled)},n.prototype.render=function(e){return sT.renderEntity(e).trim()},n}(),oT=c4.CssSelectorParser=aT;const $1=new oT;$1.registerAttrEqualityMods("~","^","$","*");$1.registerSelectorPseudos("any","matches","not","has");$1.registerNestingOperators(">","+","~");function lT(n){if(typeof n!="string")throw new TypeError("Expected `string` as selector, not `"+n+"`");return $1.parse(n)}function h4(n,e){const t=uT(n,e);return t.one=!0,$u(t,e||void 0),t.results[0]||null}function uT(n,e){return{rootQuery:Ku(lT(n)),results:[],scopeNodes:e?Y1(e)&&(e.type==="RootNode"||e.type==="root")?e.children:[e]:[],one:!1,shallow:!1,found:!1,typeIndex:void 0,nodeIndex:void 0,typeCount:void 0,nodeCount:void 0}}function cT(n){var e,t;return(((t=(e=n.properties)===null||e===void 0?void 0:e.className)===null||t===void 0?void 0:t[0])||"").replace(/^language-/,"")}function f4(n,e){n.properties||(n.properties={}),n.properties.className||(n.properties.className=[]),typeof n.properties.className=="string"&&(n.properties.className=[n.properties.className]),typeof n.properties.className=="number"&&(n.properties.className=[n.properties.className]),typeof n.properties.className=="boolean"&&(n.properties.className=[]),n.properties.className.push(e)}function hT(n){return!!n&&n.type==="text"}function fT(n,e){return`(function(button){
    const setting = ${JSON.stringify(e)}
    const span = button.querySelector('span')

    function setState(state) {
			span.textContent = setting[state];
			button.setAttribute('data-copy-state', state);
    }

    function resetButtonText() {
			setTimeout(function () {
        setState('copy');
      }, setting['copy-timeout']);
		}

    function onSuccess() {
      setState('copy-success');
      resetButtonText();
    }

    function onError(error) {
      error && console.error(error)
      setState('copy-error');
      resetButtonText();
    }

    function fallbackCopyTextToClipboard(str) {
      var textArea = document.createElement('textarea');
      textArea.value = str

      // Avoid scrolling to bottom
      textArea.style.top = '0';
      textArea.style.left = '0';
      textArea.style.position = 'fixed';

      document.body.appendChild(textArea);
      textArea.focus();
      textArea.select();

      try {
        var successful = document.execCommand('copy');
        setTimeout(function () {
          if (successful) onSuccess()
          else onError()

        }, 1);
      } catch (err) {
        setTimeout(function () {
          onError(err)
        }, 1);
      }

      document.body.removeChild(textArea);
    }

    function copyTextToClipboard(str) {
      if (navigator.clipboard) {
        navigator.clipboard.writeText(str)
          .then(onSuccess, function () {
            fallbackCopyTextToClipboard(str);
          });
      } else {
        fallbackCopyTextToClipboard(str);
      }
    }

    copyTextToClipboard(${JSON.stringify(n)})
  })(this)`}function dT(n){n.toolbar.buttons.push(({raw:e})=>{const t=ai("span",{},["Copy"]);return ai("button",{type:"button",className:["copy-to-clipboard-button"],onClick:fT(e,{copy:"Copy","copy-error":"Press Ctrl+C to copy","copy-success":"Copied!","copy-timeout":5e3})},[t])})}function d4(n){const e=h4("[tagName=code]",n);return Fu(e)?e:null}function pT(n){const e=n.match(/\n(?!$)/g);return e?e.length+1:1}function mT(){return n=>{const{preElement:e,raw:t}=n,r=d4(e);if(!r)return;f4(e,"line-numbers");const i=pT(t),s=ai("span",{"aria-hidden":"true",className:["line-numbers-rows"]},new Array(i).fill(ai("span")));r.children.push(s)}}function gT(n){return e=>{const{parentNode:t,index:r,preElement:i}=e,s=ai("div",{className:["toolbar"]}),a=ai("div",{className:["code-toolbar"]},[i,s]);t.children.splice(r,1,a);for(const o of n.toolbar.buttons)s.children.push(ai("div",{className:["toolbar-item"]},[o(e)]))}}function ET(n){const e={toolbar:{buttons:[]}},t=n.filter((r,i,s)=>s.indexOf(r,0)===i).map(r=>{if(r==="line-numbers")return mT();if(r==="toolbar")return gT(e);if(r==="copy-to-clipboard")return dT(e)});return r=>{for(const i of t)i&&i(r)}}const TT=Yu().use(J7,{fragment:!0});function _T(n){const e=ET((n==null?void 0:n.plugins)||[]);return(t,r,i)=>{if(!Fu(t)||t.tagName!=="pre"||r===null||i===null)return;const s=t,a=d4(s);if(!a)return;const o=cT(a);if(!o||!b0.languages[o])return;const l=h4("text",a);if(!hT(l))return;const u=l.value,c=b0.highlight(u,b0.languages[o],o),h=TT.parse(c);f4(s,`language-${o}`),a.children=[...h.children],e({parentNode:i,index:r,preElement:s,raw:u,lang:o})}}const vT=["line-numbers","toolbar","copy-to-clipboard"],xT=n=>{if(n&&n.plugins){const e=n.plugins.filter(t=>!vT.includes(t));for(const t of e)lm(()=>import(`prismjs/plugins/${t}/prism-${t}.js`),[])}return e=>jg(e,Qg(),_T(n))},eo=p4("start"),j1=p4("end");function AT(n){return{start:eo(n),end:j1(n)}}function p4(n){return e;function e(t){const r=t&&t.position&&t.position[n]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}const yT=!0,jf=!1,ST="skip",bT=function(n,e,t,r){typeof e=="function"&&typeof t!="function"&&(r=t,t=e,e=null);const i=di(e),s=r?-1:1;a(n,void 0,[])();function a(o,l,u){const c=o&&typeof o=="object"?o:{};if(typeof c.type=="string"){const f=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(o.type+(f?"<"+f+">":""))+")"})}return h;function h(){let f=[],d,T,E;if((!e||i(o,l,u[u.length-1]||null))&&(f=MT(t(o,u)),f[0]===jf))return f;if(o.children&&f[0]!==ST)for(T=(r?o.children.length:-1)+s,E=u.concat(o);T>-1&&T<o.children.length;){if(d=a(o.children[T],T,E)(),d[0]===jf)return d;T=typeof d[1]=="number"?d[1]:T+s}return f}}};function MT(n){return Array.isArray(n)?n:typeof n=="number"?[yT,n]:[n]}const CT=function(n,e,t,r){typeof e=="function"&&typeof t!="function"&&(r=t,t=e,e=null),bT(n,e,i,r);function i(s,a){const o=a[a.length-1];return t(s,o?o.children.indexOf(s):null,o)}},DT={}.hasOwnProperty,m4=X1("type",{handlers:{root:RT,element:PT,text:LT,comment:FT,doctype:IT}});function wT(n,e){const t=e&&typeof e=="object"?e.space:e;return m4(n,t==="svg"?Ts:Qa)}function RT(n,e){const t={nodeName:"#document",mode:(n.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return t.childNodes=Ju(n.children,t,e),ua(n,t),t}function NT(n,e){const t={nodeName:"#document-fragment",childNodes:[]};return t.childNodes=Ju(n.children,t,e),ua(n,t),t}function IT(n){const e={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:void 0};return ua(n,e),e}function LT(n){const e={nodeName:"#text",value:n.value,parentNode:void 0};return ua(n,e),e}function FT(n){const e={nodeName:"#comment",data:n.value,parentNode:void 0};return ua(n,e),e}function PT(n,e){const t=e;let r=t;n.type==="element"&&n.tagName.toLowerCase()==="svg"&&t.space==="html"&&(r=Ts);const i=[];let s;if(n.properties){for(s in n.properties)if(s!=="children"&&DT.call(n.properties,s)){const o=OT(r,s,n.properties[s]);o&&i.push(o)}}const a={nodeName:n.tagName,tagName:n.tagName,attrs:i,namespaceURI:si[r.space],childNodes:[],parentNode:void 0};return a.childNodes=Ju(n.children,a,r),ua(n,a),n.tagName==="template"&&n.content&&(a.content=NT(n.content,r)),a}function OT(n,e,t){const r=B1(n,e);if(t==null||t===!1||typeof t=="number"&&Number.isNaN(t)||!t&&r.boolean)return;Array.isArray(t)&&(t=r.commaSeparated?x5(t):v5(t));const i={name:r.attribute,value:t===!0?"":String(t)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=r.attribute.slice(0,s)),i.namespace=si[r.space]}return i}function Ju(n,e,t){let r=-1;const i=[];if(n)for(;++r<n.length;){const s=m4(n[r],t);s.parentNode=e,i.push(s)}return i}function ua(n,e){const t=n.position;t&&t.start&&t.end&&(e.sourceCodeLocation={startLine:t.start.line,startCol:t.start.column,startOffset:t.start.offset,endLine:t.end.line,endCol:t.end.column,endOffset:t.end.offset})}const kT=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","isindex","keygen","link","menuitem","meta","nextid","param","source","track","wbr"],BT="IN_TEMPLATE_MODE",UT="DATA_STATE",zT="CHARACTER_TOKEN",HT="START_TAG_TOKEN",GT="END_TAG_TOKEN",VT="COMMENT_TOKEN",WT="DOCTYPE_TOKEN",qT={sourceCodeLocationInfo:!0,scriptingEnabled:!1},g4=function(n,e,t){let r=-1;const i=new J5(qT),s=X1("type",{handlers:{root:E,element:g,text:p,comment:_,doctype:A,raw:D},unknown:$T});let a,o,l,u,c;if(QT(e)&&(t=e,e=void 0),t&&t.passThrough)for(;++r<t.passThrough.length;)s.handlers[t.passThrough[r]]=M;const h=t4(jT(n)?d():f(),e);if(a&&CT(h,"comment",(C,B,S)=>{const I=C;if(I.value.stitch&&S!==null&&B!==null)return S.children[B]=I.value.stitch,B}),n.type!=="root"&&h.type==="root"&&h.children.length===1)return h.children[0];return h;function f(){const C={nodeName:"template",tagName:"template",attrs:[],namespaceURI:si.html,childNodes:[]},B={nodeName:"documentmock",tagName:"documentmock",attrs:[],namespaceURI:si.html,childNodes:[]},S={nodeName:"#document-fragment",childNodes:[]};if(i._bootstrap(B,C),i._pushTmplInsertionMode(BT),i._initTokenizerForFragmentParsing(),i._insertFakeRootElement(),i._resetInsertionMode(),i._findFormInFragmentContext(),o=i.tokenizer,!o)throw new Error("Expected `tokenizer`");return l=o.preprocessor,c=o.__mixins[0],u=c.posTracker,s(n),y(),i._adoptNodes(B.childNodes[0],S),S}function d(){const C=i.treeAdapter.createDocument();if(i._bootstrap(C,void 0),o=i.tokenizer,!o)throw new Error("Expected `tokenizer`");return l=o.preprocessor,c=o.__mixins[0],u=c.posTracker,s(n),y(),C}function T(C){let B=-1;if(C)for(;++B<C.length;)s(C[B])}function E(C){T(C.children)}function g(C){y(),i._processInputToken(XT(C)),T(C.children),kT.includes(C.tagName)||(y(),i._processInputToken(KT(C)))}function p(C){y(),i._processInputToken({type:zT,chars:C.value,location:Xs(C)})}function A(C){y(),i._processInputToken({type:WT,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:Xs(C)})}function _(C){y(),i._processInputToken({type:VT,data:C.value,location:Xs(C)})}function D(C){const B=eo(C),S=B.line||1,I=B.column||1,V=B.offset||0;if(!l)throw new Error("Expected `preprocessor`");if(!o)throw new Error("Expected `tokenizer`");if(!u)throw new Error("Expected `posTracker`");if(!c)throw new Error("Expected `locationTracker`");l.html=void 0,l.pos=-1,l.lastGapPos=-1,l.lastCharPos=-1,l.gapStack=[],l.skipNextNewLine=!1,l.lastChunkWritten=!1,l.endOfChunkHit=!1,u.isEol=!1,u.lineStartPos=-I+1,u.droppedBufferSize=V,u.offset=0,u.col=1,u.line=S,c.currentAttrLocation=void 0,c.ctLoc=Xs(C),o.write(C.value),i._runParsingLoop(null),(o.state==="NAMED_CHARACTER_REFERENCE_STATE"||o.state==="NUMERIC_CHARACTER_REFERENCE_END_STATE")&&(l.lastChunkWritten=!0,o[o.state](o._consume()))}function M(C){a=!0;let B;"children"in C?B={...C,children:g4({type:"root",children:C.children},e,t).children}:B={...C},_({type:"comment",value:{stitch:B}})}function y(){if(!o)throw new Error("Expected `tokenizer`");if(!u)throw new Error("Expected `posTracker`");const C=o.currentCharacterToken;C&&(C.location.endLine=u.line,C.location.endCol=u.col+1,C.location.endOffset=u.offset+1,i._processInputToken(C)),o.tokenQueue=[],o.state=UT,o.returnState="",o.charRefCode=-1,o.tempBuff=[],o.lastStartTagName="",o.consumedAfterSnapshot=-1,o.active=!1,o.currentCharacterToken=void 0,o.currentToken=void 0,o.currentAttr=void 0}};function XT(n){const e=Object.assign(Xs(n));return e.startTag=Object.assign({},e),{type:HT,tagName:n.tagName,selfClosing:!1,attrs:YT(n),location:e}}function YT(n){return wT({tagName:n.tagName,type:"element",properties:n.properties,children:[]}).attrs}function KT(n){const e=Object.assign(Xs(n));return e.startTag=Object.assign({},e),{type:GT,tagName:n.tagName,attrs:[],location:e}}function $T(n){throw new Error("Cannot compile `"+n.type+"` node")}function jT(n){const e=n.type==="root"?n.children[0]:n;return!!(e&&(e.type==="doctype"||e.type==="element"&&e.tagName==="html"))}function Xs(n){const e=eo(n),t=j1(n);return{startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:t.line,endCol:t.column,endOffset:t.offset}}function QT(n){return!!(n&&!("message"in n&&"messages"in n))}function ZT(n={}){return(e,t)=>g4(e,t,n)}var ec={exports:{}},Qf=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,JT=/\n/g,e_=/^\s*/,t_=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,n_=/^:\s*/,r_=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,i_=/^[;\s]*/,s_=/^\s+|\s+$/g,a_=`
`,Zf="/",Jf="*",os="",o_="comment",l_="declaration",u_=function(n,e){if(typeof n!="string")throw new TypeError("First argument must be a string");if(!n)return[];e=e||{};var t=1,r=1;function i(T){var E=T.match(JT);E&&(t+=E.length);var g=T.lastIndexOf(a_);r=~g?T.length-g:r+T.length}function s(){var T={line:t,column:r};return function(E){return E.position=new a(T),u(),E}}function a(T){this.start=T,this.end={line:t,column:r},this.source=e.source}a.prototype.content=n;function o(T){var E=new Error(e.source+":"+t+":"+r+": "+T);if(E.reason=T,E.filename=e.source,E.line=t,E.column=r,E.source=n,!e.silent)throw E}function l(T){var E=T.exec(n);if(E){var g=E[0];return i(g),n=n.slice(g.length),E}}function u(){l(e_)}function c(T){var E;for(T=T||[];E=h();)E!==!1&&T.push(E);return T}function h(){var T=s();if(!(Zf!=n.charAt(0)||Jf!=n.charAt(1))){for(var E=2;os!=n.charAt(E)&&(Jf!=n.charAt(E)||Zf!=n.charAt(E+1));)++E;if(E+=2,os===n.charAt(E-1))return o("End of comment missing");var g=n.slice(2,E-2);return r+=2,i(g),n=n.slice(E),r+=2,T({type:o_,comment:g})}}function f(){var T=s(),E=l(t_);if(E){if(h(),!l(n_))return o("property missing ':'");var g=l(r_),p=T({type:l_,property:ed(E[0].replace(Qf,os)),value:g?ed(g[0].replace(Qf,os)):os});return l(i_),p}}function d(){var T=[];c(T);for(var E;E=f();)E!==!1&&(T.push(E),c(T));return T}return u(),d()};function ed(n){return n?n.replace(s_,os):os}var c_=u_;function E4(n,e){var t=null;if(!n||typeof n!="string")return t;for(var r,i=c_(n),s=typeof e=="function",a,o,l=0,u=i.length;l<u;l++)r=i[l],a=r.property,o=r.value,s?e(a,o,r):o&&(t||(t={}),t[a]=o);return t}ec.exports=E4;ec.exports.default=E4;var h_=ec.exports;const f_=Gi(h_),d_={}.hasOwnProperty;function p_(n,e,t){if(typeof n!="function")throw new TypeError("h is not a function");const r=g_(n),i=__(n),s=T_(n);let a,o;if(typeof t=="string"||typeof t=="boolean"?(a=t,t={}):(t||(t={}),a=t.prefix),e&&e.type==="root"){const l=e.children[0];o=e.children.length===1&&l.type==="element"?l:{type:"element",tagName:"div",properties:{},children:e.children}}else if(e&&e.type==="element")o=e;else throw new Error("Expected root or element, not `"+(e&&e.type||e)+"`");return T4(n,o,{schema:t.space==="svg"?Ts:Qa,prefix:a==null?r||i||s?"h-":void 0:typeof a=="string"?a:a?"h-":void 0,key:0,react:r,vue:i,vdom:s,hyperscript:E_(n)})}function T4(n,e,t){const r=t.schema;let i=r,s=e.tagName;const a={},o=[];let l=-1,u;r.space==="html"&&s.toLowerCase()==="svg"&&(i=Ts,t.schema=i);for(u in e.properties)e.properties&&d_.call(e.properties,u)&&m_(a,u,e.properties[u],t,s);if(t.vdom&&(i.space==="html"?s=s.toUpperCase():i.space&&(a.namespace=si[i.space])),t.prefix&&(t.key++,a.key=t.prefix+t.key),e.children)for(;++l<e.children.length;){const c=e.children[l];c.type==="element"?o.push(T4(n,c,t)):c.type==="text"&&o.push(c.value)}return t.schema=r,o.length>0?n.call(e,s,a,o):n.call(e,s,a)}function m_(n,e,t,r,i){const s=B1(r.schema,e);let a;t==null||typeof t=="number"&&Number.isNaN(t)||t===!1&&(r.vue||r.vdom||r.hyperscript)||!t&&s.boolean&&(r.vue||r.vdom||r.hyperscript)||(Array.isArray(t)&&(t=s.commaSeparated?x5(t):v5(t)),s.boolean&&r.hyperscript&&(t=""),s.property==="style"&&typeof t=="string"&&(r.react||r.vue||r.vdom)&&(t=v_(t,i)),r.vue?s.property!=="style"&&(a="attrs"):s.mustUseProperty||(r.vdom?s.property!=="style"&&(a="attributes"):r.hyperscript&&(a="attrs")),a?n[a]=Object.assign(n[a]||{},{[s.attribute]:t}):s.space&&r.react?n[Mg[s.property]||s.property]=t:n[s.attribute]=t)}function g_(n){const e=n("div",{});return!!(e&&("_owner"in e||"_store"in e)&&(e.key===void 0||e.key===null))}function E_(n){return"context"in n&&"cleanup"in n}function T_(n){return n("div",{}).type==="VirtualNode"}function __(n){const e=n("div",{});return!!(e&&e.context&&e.context._isVue)}function v_(n,e){const t={};try{f_(n,(r,i)=>{r.slice(0,4)==="-ms-"&&(r="ms-"+r.slice(4)),t[r.replace(/-([a-z])/g,(s,a)=>a.toUpperCase())]=i})}catch(r){const i=r;throw i.message=e+"[style]"+i.message.slice(9),i}return t}var x_=_4;function _4(n){if(typeof n=="string")return b_(n);if(n==null)return M_;if(typeof n=="object")return("length"in n?S_:y_)(n);if(typeof n=="function")return n;throw new Error("Expected function, string, or object as test")}function A_(n){for(var e=[],t=n.length,r=-1;++r<t;)e[r]=_4(n[r]);return e}function y_(n){return e;function e(t){var r;for(r in n)if(t[r]!==n[r])return!1;return!0}}function S_(n){var e=A_(n),t=e.length;return r;function r(){for(var i=-1;++i<t;)if(e[i].apply(this,arguments))return!0;return!1}}function b_(n){return e;function e(t){return!!(t&&t.type===n)}}function M_(){return!0}var C_=Q1,D_=x_,v4=!0,x4="skip",m1=!1;Q1.CONTINUE=v4;Q1.SKIP=x4;Q1.EXIT=m1;function Q1(n,e,t,r){var i;typeof e=="function"&&typeof t!="function"&&(r=t,t=e,e=null),i=D_(e),s(n,null,[]);function s(o,l,u){var c=[],h;return(!e||i(o,l,u[u.length-1]||null))&&(c=td(t(o,u)),c[0]===m1)?c:o.children&&c[0]!==x4?(h=td(a(o.children,u.concat(o))),h[0]===m1?h:c):c}function a(o,l){for(var u=-1,c=r?-1:1,h=(r?o.length:u)+c,f;h>u&&h<o.length;){if(f=s(o[h],h,l),f[0]===m1)return f;h=typeof f[1]=="number"?f[1]:h+c}}}function td(n){return n!==null&&typeof n=="object"&&"length"in n?n:typeof n=="number"?[v4,n]:[n]}var w_=J1,Z1=C_,R_=Z1.CONTINUE,N_=Z1.SKIP,I_=Z1.EXIT;J1.CONTINUE=R_;J1.SKIP=N_;J1.EXIT=I_;function J1(n,e,t,r){typeof e=="function"&&typeof t!="function"&&(r=t,t=e,e=null),Z1(n,e,i,r);function i(s,a){var o=a[a.length-1],l=o?o.children.indexOf(s):null;return t(s,l,o)}}var L_=w_,F_=Object.prototype.hasOwnProperty,$0={align:"text-align",valign:"vertical-align",height:"height",width:"width"},P_=function(e){return L_(e,"element",O_),e};function O_(n){if(!(n.tagName!=="tr"&&n.tagName!=="td"&&n.tagName!=="th")){var e,t;for(e in $0)!F_.call($0,e)||n.properties[e]===void 0||(t=$0[e],k_(n,t,n.properties[e]),delete n.properties[e])}}function k_(n,e,t){var r=(n.properties.style||"").trim();r&&!/;\s*/.test(r)&&(r+=";"),r&&(r+=" ");var i=r+e+": "+t+";";n.properties.style=i}const B_=Gi(P_);function U_(n){const e=n&&typeof n=="object"&&n.type==="text"?n.value||"":n;return typeof e=="string"&&e.replace(/[ \t\n\f\r]/g,"")===""}const z_={}.hasOwnProperty,H_=new Set(["table","thead","tbody","tfoot","tr"]);function G_(n){if(!n||typeof n.createElement!="function")throw new TypeError("createElement is not a function");const e=n.createElement,t=n.fixTableCellAlign!==!1;Object.assign(this,{Compiler:r});function r(s){let a=p_(i,t?B_(s):s,n.prefix);return s.type==="root"?(a=a&&typeof a=="object"&&"type"in a&&"props"in a&&a.type==="div"&&(s.children.length!==1||s.children[0].type!=="element")?a.props.children:[a],e(n.Fragment||"div",{},a)):a}function i(s,a,o){if(o&&H_.has(s)&&(o=o.filter(l=>!U_(l))),n.components&&z_.call(n.components,s)){const l=n.components[s];return n.passNode&&typeof l=="function"&&(a=Object.assign({node:this},a)),e(l,a,o)}return e(s,a,o)}}const V_={};function W_(n,e){const t=e||V_,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,i=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return A4(n,r,i)}function A4(n,e,t){if(q_(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(e&&"alt"in n&&n.alt)return n.alt;if("children"in n)return nd(n.children,e,t)}return Array.isArray(n)?nd(n,e,t):""}function nd(n,e,t){const r=[];let i=-1;for(;++i<n.length;)r[i]=A4(n[i],e,t);return r.join("")}function q_(n){return!!(n&&typeof n=="object")}function Lr(n,e,t,r){const i=n.length;let s=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,t=t>0?t:0,r.length<1e4)a=Array.from(r),a.unshift(e,t),n.splice(...a);else for(t&&n.splice(e,t);s<r.length;)a=r.slice(s,s+1e4),a.unshift(e,0),n.splice(...a),s+=1e4,e+=1e4}function jn(n,e){return n.length>0?(Lr(n,n.length,0,e),n):e}const rd={}.hasOwnProperty;function X_(n){const e={};let t=-1;for(;++t<n.length;)Y_(e,n[t]);return e}function Y_(n,e){let t;for(t in e){const i=(rd.call(n,t)?n[t]:void 0)||(n[t]={}),s=e[t];let a;if(s)for(a in s){rd.call(i,a)||(i[a]=[]);const o=s[a];K_(i[a],Array.isArray(o)?o:o?[o]:[])}}}function K_(n,e){let t=-1;const r=[];for(;++t<e.length;)(e[t].add==="after"?n:r).push(e[t]);Lr(n,0,0,r)}const $_=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,wr=qi(/[A-Za-z]/),Gn=qi(/[\dA-Za-z]/),j_=qi(/[#-'*+\--9=?A-Z^-~]/);function Ql(n){return n!==null&&(n<32||n===127)}const Zl=qi(/\d/),Q_=qi(/[\dA-Fa-f]/),Z_=qi(/[!-/:-@[-`{-~]/);function Qe(n){return n!==null&&n<-2}function Nn(n){return n!==null&&(n<0||n===32)}function _t(n){return n===-2||n===-1||n===32}const J_=qi($_),ev=qi(/\s/);function qi(n){return e;function e(t){return t!==null&&n.test(String.fromCharCode(t))}}function wt(n,e,t,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(l){return _t(l)?(n.enter(t),o(l)):e(l)}function o(l){return _t(l)&&s++<i?(n.consume(l),o):(n.exit(t),e(l))}}const tv={tokenize:nv};function nv(n){const e=n.attempt(this.parser.constructs.contentInitial,r,i);let t;return e;function r(o){if(o===null){n.consume(o);return}return n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),wt(n,e,"linePrefix")}function i(o){return n.enter("paragraph"),s(o)}function s(o){const l=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=l),t=l,a(o)}function a(o){if(o===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(o);return}return Qe(o)?(n.consume(o),n.exit("chunkText"),s):(n.consume(o),a)}}const rv={tokenize:iv},id={tokenize:sv};function iv(n){const e=this,t=[];let r=0,i,s,a;return o;function o(_){if(r<t.length){const D=t[r];return e.containerState=D[1],n.attempt(D[0].continuation,l,u)(_)}return u(_)}function l(_){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&A();const D=e.events.length;let M=D,y;for(;M--;)if(e.events[M][0]==="exit"&&e.events[M][1].type==="chunkFlow"){y=e.events[M][1].end;break}p(r);let C=D;for(;C<e.events.length;)e.events[C][1].end=Object.assign({},y),C++;return Lr(e.events,M+1,0,e.events.slice(D)),e.events.length=C,u(_)}return o(_)}function u(_){if(r===t.length){if(!i)return f(_);if(i.currentConstruct&&i.currentConstruct.concrete)return T(_);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(id,c,h)(_)}function c(_){return i&&A(),p(r),f(_)}function h(_){return e.parser.lazy[e.now().line]=r!==t.length,a=e.now().offset,T(_)}function f(_){return e.containerState={},n.attempt(id,d,T)(_)}function d(_){return r++,t.push([e.currentConstruct,e.containerState]),f(_)}function T(_){if(_===null){i&&A(),p(0),n.consume(_);return}return i=i||e.parser.flow(e.now()),n.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),E(_)}function E(_){if(_===null){g(n.exit("chunkFlow"),!0),p(0),n.consume(_);return}return Qe(_)?(n.consume(_),g(n.exit("chunkFlow")),r=0,e.interrupt=void 0,o):(n.consume(_),E)}function g(_,D){const M=e.sliceStream(_);if(D&&M.push(null),_.previous=s,s&&(s.next=_),s=_,i.defineSkip(_.start),i.write(M),e.parser.lazy[_.start.line]){let y=i.events.length;for(;y--;)if(i.events[y][1].start.offset<a&&(!i.events[y][1].end||i.events[y][1].end.offset>a))return;const C=e.events.length;let B=C,S,I;for(;B--;)if(e.events[B][0]==="exit"&&e.events[B][1].type==="chunkFlow"){if(S){I=e.events[B][1].end;break}S=!0}for(p(r),y=C;y<e.events.length;)e.events[y][1].end=Object.assign({},I),y++;Lr(e.events,B+1,0,e.events.slice(C)),e.events.length=y}}function p(_){let D=t.length;for(;D-- >_;){const M=t[D];e.containerState=M[1],M[0].exit.call(e,n)}t.length=_}function A(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function sv(n,e,t){return wt(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function sd(n){if(n===null||Nn(n)||ev(n))return 1;if(J_(n))return 2}function tc(n,e,t){const r=[];let i=-1;for(;++i<n.length;){const s=n[i].resolveAll;s&&!r.includes(s)&&(e=s(e,t),r.push(s))}return e}const Jl={name:"attention",tokenize:ov,resolveAll:av};function av(n,e){let t=-1,r,i,s,a,o,l,u,c;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(r=t;r--;)if(n[r][0]==="exit"&&n[r][1].type==="attentionSequence"&&n[r][1]._open&&e.sliceSerialize(n[r][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[r][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[r][1].end.offset-n[r][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;l=n[r][1].end.offset-n[r][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;const h=Object.assign({},n[r][1].end),f=Object.assign({},n[t][1].start);ad(h,-l),ad(f,l),a={type:l>1?"strongSequence":"emphasisSequence",start:h,end:Object.assign({},n[r][1].end)},o={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},n[t][1].start),end:f},s={type:l>1?"strongText":"emphasisText",start:Object.assign({},n[r][1].end),end:Object.assign({},n[t][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},a.start),end:Object.assign({},o.end)},n[r][1].end=Object.assign({},a.start),n[t][1].start=Object.assign({},o.end),u=[],n[r][1].end.offset-n[r][1].start.offset&&(u=jn(u,[["enter",n[r][1],e],["exit",n[r][1],e]])),u=jn(u,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",s,e]]),u=jn(u,tc(e.parser.constructs.insideSpan.null,n.slice(r+1,t),e)),u=jn(u,[["exit",s,e],["enter",o,e],["exit",o,e],["exit",i,e]]),n[t][1].end.offset-n[t][1].start.offset?(c=2,u=jn(u,[["enter",n[t][1],e],["exit",n[t][1],e]])):c=0,Lr(n,r-1,t-r+3,u),t=r+u.length-c-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function ov(n,e){const t=this.parser.constructs.attentionMarkers.null,r=this.previous,i=sd(r);let s;return a;function a(l){return s=l,n.enter("attentionSequence"),o(l)}function o(l){if(l===s)return n.consume(l),o;const u=n.exit("attentionSequence"),c=sd(l),h=!c||c===2&&i||t.includes(l),f=!i||i===2&&c||t.includes(r);return u._open=!!(s===42?h:h&&(i||!f)),u._close=!!(s===42?f:f&&(c||!h)),e(l)}}function ad(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}const lv={name:"autolink",tokenize:uv};function uv(n,e,t){let r=0;return i;function i(d){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(d),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),s}function s(d){return wr(d)?(n.consume(d),a):u(d)}function a(d){return d===43||d===45||d===46||Gn(d)?(r=1,o(d)):u(d)}function o(d){return d===58?(n.consume(d),r=0,l):(d===43||d===45||d===46||Gn(d))&&r++<32?(n.consume(d),o):(r=0,u(d))}function l(d){return d===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(d),n.exit("autolinkMarker"),n.exit("autolink"),e):d===null||d===32||d===60||Ql(d)?t(d):(n.consume(d),l)}function u(d){return d===64?(n.consume(d),c):j_(d)?(n.consume(d),u):t(d)}function c(d){return Gn(d)?h(d):t(d)}function h(d){return d===46?(n.consume(d),r=0,c):d===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(d),n.exit("autolinkMarker"),n.exit("autolink"),e):f(d)}function f(d){if((d===45||Gn(d))&&r++<63){const T=d===45?f:h;return n.consume(d),T}return t(d)}}const e0={tokenize:cv,partial:!0};function cv(n,e,t){return r;function r(s){return _t(s)?wt(n,i,"linePrefix")(s):i(s)}function i(s){return s===null||Qe(s)?e(s):t(s)}}const y4={name:"blockQuote",tokenize:hv,continuation:{tokenize:fv},exit:dv};function hv(n,e,t){const r=this;return i;function i(a){if(a===62){const o=r.containerState;return o.open||(n.enter("blockQuote",{_container:!0}),o.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(a),n.exit("blockQuoteMarker"),s}return t(a)}function s(a){return _t(a)?(n.enter("blockQuotePrefixWhitespace"),n.consume(a),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(a))}}function fv(n,e,t){const r=this;return i;function i(a){return _t(a)?wt(n,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return n.attempt(y4,e,t)(a)}}function dv(n){n.exit("blockQuote")}const S4={name:"characterEscape",tokenize:pv};function pv(n,e,t){return r;function r(s){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(s),n.exit("escapeMarker"),i}function i(s){return Z_(s)?(n.enter("characterEscapeValue"),n.consume(s),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(s)}}const od=document.createElement("i");function nc(n){const e="&"+n+";";od.innerHTML=e;const t=od.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}const b4={name:"characterReference",tokenize:mv};function mv(n,e,t){const r=this;let i=0,s,a;return o;function o(h){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(h),n.exit("characterReferenceMarker"),l}function l(h){return h===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(h),n.exit("characterReferenceMarkerNumeric"),u):(n.enter("characterReferenceValue"),s=31,a=Gn,c(h))}function u(h){return h===88||h===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(h),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),s=6,a=Q_,c):(n.enter("characterReferenceValue"),s=7,a=Zl,c(h))}function c(h){if(h===59&&i){const f=n.exit("characterReferenceValue");return a===Gn&&!nc(r.sliceSerialize(f))?t(h):(n.enter("characterReferenceMarker"),n.consume(h),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)}return a(h)&&i++<s?(n.consume(h),c):t(h)}}const ld={tokenize:Ev,partial:!0},ud={name:"codeFenced",tokenize:gv,concrete:!0};function gv(n,e,t){const r=this,i={tokenize:M,partial:!0};let s=0,a=0,o;return l;function l(y){return u(y)}function u(y){const C=r.events[r.events.length-1];return s=C&&C[1].type==="linePrefix"?C[2].sliceSerialize(C[1],!0).length:0,o=y,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),c(y)}function c(y){return y===o?(a++,n.consume(y),c):a<3?t(y):(n.exit("codeFencedFenceSequence"),_t(y)?wt(n,h,"whitespace")(y):h(y))}function h(y){return y===null||Qe(y)?(n.exit("codeFencedFence"),r.interrupt?e(y):n.check(ld,E,D)(y)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),f(y))}function f(y){return y===null||Qe(y)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),h(y)):_t(y)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),wt(n,d,"whitespace")(y)):y===96&&y===o?t(y):(n.consume(y),f)}function d(y){return y===null||Qe(y)?h(y):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),T(y))}function T(y){return y===null||Qe(y)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),h(y)):y===96&&y===o?t(y):(n.consume(y),T)}function E(y){return n.attempt(i,D,g)(y)}function g(y){return n.enter("lineEnding"),n.consume(y),n.exit("lineEnding"),p}function p(y){return s>0&&_t(y)?wt(n,A,"linePrefix",s+1)(y):A(y)}function A(y){return y===null||Qe(y)?n.check(ld,E,D)(y):(n.enter("codeFlowValue"),_(y))}function _(y){return y===null||Qe(y)?(n.exit("codeFlowValue"),A(y)):(n.consume(y),_)}function D(y){return n.exit("codeFenced"),e(y)}function M(y,C,B){let S=0;return I;function I(q){return y.enter("lineEnding"),y.consume(q),y.exit("lineEnding"),V}function V(q){return y.enter("codeFencedFence"),_t(q)?wt(y,Y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):Y(q)}function Y(q){return q===o?(y.enter("codeFencedFenceSequence"),X(q)):B(q)}function X(q){return q===o?(S++,y.consume(q),X):S>=a?(y.exit("codeFencedFenceSequence"),_t(q)?wt(y,j,"whitespace")(q):j(q)):B(q)}function j(q){return q===null||Qe(q)?(y.exit("codeFencedFence"),C(q)):B(q)}}}function Ev(n,e,t){const r=this;return i;function i(a){return a===null?t(a):(n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?t(a):e(a)}}const j0={name:"codeIndented",tokenize:_v},Tv={tokenize:vv,partial:!0};function _v(n,e,t){const r=this;return i;function i(u){return n.enter("codeIndented"),wt(n,s,"linePrefix",4+1)(u)}function s(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?a(u):t(u)}function a(u){return u===null?l(u):Qe(u)?n.attempt(Tv,a,l)(u):(n.enter("codeFlowValue"),o(u))}function o(u){return u===null||Qe(u)?(n.exit("codeFlowValue"),a(u)):(n.consume(u),o)}function l(u){return n.exit("codeIndented"),e(u)}}function vv(n,e,t){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?t(a):Qe(a)?(n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),i):wt(n,s,"linePrefix",4+1)(a)}function s(a){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):Qe(a)?i(a):t(a)}}const xv={name:"codeText",tokenize:Sv,resolve:Av,previous:yv};function Av(n){let e=n.length-4,t=3,r,i;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(r=t;++r<e;)if(n[r][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(r=t-1,e++;++r<=e;)i===void 0?r!==e&&n[r][1].type!=="lineEnding"&&(i=r):(r===e||n[r][1].type==="lineEnding")&&(n[i][1].type="codeTextData",r!==i+2&&(n[i][1].end=n[r-1][1].end,n.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return n}function yv(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Sv(n,e,t){let r=0,i,s;return a;function a(h){return n.enter("codeText"),n.enter("codeTextSequence"),o(h)}function o(h){return h===96?(n.consume(h),r++,o):(n.exit("codeTextSequence"),l(h))}function l(h){return h===null?t(h):h===32?(n.enter("space"),n.consume(h),n.exit("space"),l):h===96?(s=n.enter("codeTextSequence"),i=0,c(h)):Qe(h)?(n.enter("lineEnding"),n.consume(h),n.exit("lineEnding"),l):(n.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||Qe(h)?(n.exit("codeTextData"),l(h)):(n.consume(h),u)}function c(h){return h===96?(n.consume(h),i++,c):i===r?(n.exit("codeTextSequence"),n.exit("codeText"),e(h)):(s.type="codeTextData",u(h))}}function M4(n){const e={};let t=-1,r,i,s,a,o,l,u;for(;++t<n.length;){for(;t in e;)t=e[t];if(r=n[t],t&&r[1].type==="chunkFlow"&&n[t-1][1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,bv(n,t)),t=e[t],u=!0);else if(r[1]._container){for(s=t,i=void 0;s--&&(a=n[s],a[1].type==="lineEnding"||a[1].type==="lineEndingBlank");)a[0]==="enter"&&(i&&(n[i][1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},n[i][1].start),o=n.slice(i,t),o.unshift(r),Lr(n,i,t-i+1,o))}}return!u}function bv(n,e){const t=n[e][1],r=n[e][2];let i=e-1;const s=[],a=t._tokenizer||r.parser[t.contentType](t.start),o=a.events,l=[],u={};let c,h,f=-1,d=t,T=0,E=0;const g=[E];for(;d;){for(;n[++i][1]!==d;);s.push(i),d._tokenizer||(c=r.sliceStream(d),d.next||c.push(null),h&&a.defineSkip(d.start),d._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(c),d._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),h=d,d=d.next}for(d=t;++f<o.length;)o[f][0]==="exit"&&o[f-1][0]==="enter"&&o[f][1].type===o[f-1][1].type&&o[f][1].start.line!==o[f][1].end.line&&(E=f+1,g.push(E),d._tokenizer=void 0,d.previous=void 0,d=d.next);for(a.events=[],d?(d._tokenizer=void 0,d.previous=void 0):g.pop(),f=g.length;f--;){const p=o.slice(g[f],g[f+1]),A=s.pop();l.unshift([A,A+p.length-1]),Lr(n,A,2,p)}for(f=-1;++f<l.length;)u[T+l[f][0]]=T+l[f][1],T+=l[f][1]-l[f][0]-1;return u}const Mv={tokenize:wv,resolve:Dv},Cv={tokenize:Rv,partial:!0};function Dv(n){return M4(n),n}function wv(n,e){let t;return r;function r(o){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):Qe(o)?n.check(Cv,a,s)(o):(n.consume(o),i)}function s(o){return n.exit("chunkContent"),n.exit("content"),e(o)}function a(o){return n.consume(o),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,i}}function Rv(n,e,t){const r=this;return i;function i(a){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),wt(n,s,"linePrefix")}function s(a){if(a===null||Qe(a))return t(a);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):n.interrupt(r.parser.constructs.flow,t,e)(a)}}function C4(n,e,t,r,i,s,a,o,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return h;function h(p){return p===60?(n.enter(r),n.enter(i),n.enter(s),n.consume(p),n.exit(s),f):p===null||p===32||p===41||Ql(p)?t(p):(n.enter(r),n.enter(a),n.enter(o),n.enter("chunkString",{contentType:"string"}),E(p))}function f(p){return p===62?(n.enter(s),n.consume(p),n.exit(s),n.exit(i),n.exit(r),e):(n.enter(o),n.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===62?(n.exit("chunkString"),n.exit(o),f(p)):p===null||p===60||Qe(p)?t(p):(n.consume(p),p===92?T:d)}function T(p){return p===60||p===62||p===92?(n.consume(p),d):d(p)}function E(p){return!c&&(p===null||p===41||Nn(p))?(n.exit("chunkString"),n.exit(o),n.exit(a),n.exit(r),e(p)):c<u&&p===40?(n.consume(p),c++,E):p===41?(n.consume(p),c--,E):p===null||p===32||p===40||Ql(p)?t(p):(n.consume(p),p===92?g:E)}function g(p){return p===40||p===41||p===92?(n.consume(p),E):E(p)}}function D4(n,e,t,r,i,s){const a=this;let o=0,l;return u;function u(d){return n.enter(r),n.enter(i),n.consume(d),n.exit(i),n.enter(s),c}function c(d){return o>999||d===null||d===91||d===93&&!l||d===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?t(d):d===93?(n.exit(s),n.enter(i),n.consume(d),n.exit(i),n.exit(r),e):Qe(d)?(n.enter("lineEnding"),n.consume(d),n.exit("lineEnding"),c):(n.enter("chunkString",{contentType:"string"}),h(d))}function h(d){return d===null||d===91||d===93||Qe(d)||o++>999?(n.exit("chunkString"),c(d)):(n.consume(d),l||(l=!_t(d)),d===92?f:h)}function f(d){return d===91||d===92||d===93?(n.consume(d),o++,h):h(d)}}function w4(n,e,t,r,i,s){let a;return o;function o(f){return f===34||f===39||f===40?(n.enter(r),n.enter(i),n.consume(f),n.exit(i),a=f===40?41:f,l):t(f)}function l(f){return f===a?(n.enter(i),n.consume(f),n.exit(i),n.exit(r),e):(n.enter(s),u(f))}function u(f){return f===a?(n.exit(s),l(a)):f===null?t(f):Qe(f)?(n.enter("lineEnding"),n.consume(f),n.exit("lineEnding"),wt(n,u,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===a||f===null||Qe(f)?(n.exit("chunkString"),u(f)):(n.consume(f),f===92?h:c)}function h(f){return f===a||f===92?(n.consume(f),c):c(f)}}function Ua(n,e){let t;return r;function r(i){return Qe(i)?(n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),t=!0,r):_t(i)?wt(n,r,t?"linePrefix":"lineSuffix")(i):e(i)}}function Qs(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Nv={name:"definition",tokenize:Lv},Iv={tokenize:Fv,partial:!0};function Lv(n,e,t){const r=this;let i;return s;function s(d){return n.enter("definition"),a(d)}function a(d){return D4.call(r,n,o,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(d)}function o(d){return i=Qs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),d===58?(n.enter("definitionMarker"),n.consume(d),n.exit("definitionMarker"),l):t(d)}function l(d){return Nn(d)?Ua(n,u)(d):u(d)}function u(d){return C4(n,c,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(d)}function c(d){return n.attempt(Iv,h,h)(d)}function h(d){return _t(d)?wt(n,f,"whitespace")(d):f(d)}function f(d){return d===null||Qe(d)?(n.exit("definition"),r.parser.defined.push(i),e(d)):t(d)}}function Fv(n,e,t){return r;function r(o){return Nn(o)?Ua(n,i)(o):t(o)}function i(o){return w4(n,s,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return _t(o)?wt(n,a,"whitespace")(o):a(o)}function a(o){return o===null||Qe(o)?e(o):t(o)}}const Pv={name:"hardBreakEscape",tokenize:Ov};function Ov(n,e,t){return r;function r(s){return n.enter("hardBreakEscape"),n.consume(s),i}function i(s){return Qe(s)?(n.exit("hardBreakEscape"),e(s)):t(s)}}const kv={name:"headingAtx",tokenize:Uv,resolve:Bv};function Bv(n,e){let t=n.length-2,r=3,i,s;return n[r][1].type==="whitespace"&&(r+=2),t-2>r&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&n[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(i={type:"atxHeadingText",start:n[r][1].start,end:n[t][1].end},s={type:"chunkText",start:n[r][1].start,end:n[t][1].end,contentType:"text"},Lr(n,r,t-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),n}function Uv(n,e,t){let r=0;return i;function i(c){return n.enter("atxHeading"),s(c)}function s(c){return n.enter("atxHeadingSequence"),a(c)}function a(c){return c===35&&r++<6?(n.consume(c),a):c===null||Nn(c)?(n.exit("atxHeadingSequence"),o(c)):t(c)}function o(c){return c===35?(n.enter("atxHeadingSequence"),l(c)):c===null||Qe(c)?(n.exit("atxHeading"),e(c)):_t(c)?wt(n,o,"whitespace")(c):(n.enter("atxHeadingText"),u(c))}function l(c){return c===35?(n.consume(c),l):(n.exit("atxHeadingSequence"),o(c))}function u(c){return c===null||c===35||Nn(c)?(n.exit("atxHeadingText"),o(c)):(n.consume(c),u)}}const zv=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],cd=["pre","script","style","textarea"],Hv={name:"htmlFlow",tokenize:qv,resolveTo:Wv,concrete:!0},Gv={tokenize:Yv,partial:!0},Vv={tokenize:Xv,partial:!0};function Wv(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function qv(n,e,t){const r=this;let i,s,a,o,l;return u;function u(L){return c(L)}function c(L){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(L),h}function h(L){return L===33?(n.consume(L),f):L===47?(n.consume(L),s=!0,E):L===63?(n.consume(L),i=3,r.interrupt?e:R):wr(L)?(n.consume(L),a=String.fromCharCode(L),g):t(L)}function f(L){return L===45?(n.consume(L),i=2,d):L===91?(n.consume(L),i=5,o=0,T):wr(L)?(n.consume(L),i=4,r.interrupt?e:R):t(L)}function d(L){return L===45?(n.consume(L),r.interrupt?e:R):t(L)}function T(L){const Ee="CDATA[";return L===Ee.charCodeAt(o++)?(n.consume(L),o===Ee.length?r.interrupt?e:Y:T):t(L)}function E(L){return wr(L)?(n.consume(L),a=String.fromCharCode(L),g):t(L)}function g(L){if(L===null||L===47||L===62||Nn(L)){const Ee=L===47,Ae=a.toLowerCase();return!Ee&&!s&&cd.includes(Ae)?(i=1,r.interrupt?e(L):Y(L)):zv.includes(a.toLowerCase())?(i=6,Ee?(n.consume(L),p):r.interrupt?e(L):Y(L)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(L):s?A(L):_(L))}return L===45||Gn(L)?(n.consume(L),a+=String.fromCharCode(L),g):t(L)}function p(L){return L===62?(n.consume(L),r.interrupt?e:Y):t(L)}function A(L){return _t(L)?(n.consume(L),A):I(L)}function _(L){return L===47?(n.consume(L),I):L===58||L===95||wr(L)?(n.consume(L),D):_t(L)?(n.consume(L),_):I(L)}function D(L){return L===45||L===46||L===58||L===95||Gn(L)?(n.consume(L),D):M(L)}function M(L){return L===61?(n.consume(L),y):_t(L)?(n.consume(L),M):_(L)}function y(L){return L===null||L===60||L===61||L===62||L===96?t(L):L===34||L===39?(n.consume(L),l=L,C):_t(L)?(n.consume(L),y):B(L)}function C(L){return L===l?(n.consume(L),l=null,S):L===null||Qe(L)?t(L):(n.consume(L),C)}function B(L){return L===null||L===34||L===39||L===47||L===60||L===61||L===62||L===96||Nn(L)?M(L):(n.consume(L),B)}function S(L){return L===47||L===62||_t(L)?_(L):t(L)}function I(L){return L===62?(n.consume(L),V):t(L)}function V(L){return L===null||Qe(L)?Y(L):_t(L)?(n.consume(L),V):t(L)}function Y(L){return L===45&&i===2?(n.consume(L),he):L===60&&i===1?(n.consume(L),ae):L===62&&i===4?(n.consume(L),K):L===63&&i===3?(n.consume(L),R):L===93&&i===5?(n.consume(L),ce):Qe(L)&&(i===6||i===7)?(n.exit("htmlFlowData"),n.check(Gv,re,X)(L)):L===null||Qe(L)?(n.exit("htmlFlowData"),X(L)):(n.consume(L),Y)}function X(L){return n.check(Vv,j,re)(L)}function j(L){return n.enter("lineEnding"),n.consume(L),n.exit("lineEnding"),q}function q(L){return L===null||Qe(L)?X(L):(n.enter("htmlFlowData"),Y(L))}function he(L){return L===45?(n.consume(L),R):Y(L)}function ae(L){return L===47?(n.consume(L),a="",ie):Y(L)}function ie(L){if(L===62){const Ee=a.toLowerCase();return cd.includes(Ee)?(n.consume(L),K):Y(L)}return wr(L)&&a.length<8?(n.consume(L),a+=String.fromCharCode(L),ie):Y(L)}function ce(L){return L===93?(n.consume(L),R):Y(L)}function R(L){return L===62?(n.consume(L),K):L===45&&i===2?(n.consume(L),R):Y(L)}function K(L){return L===null||Qe(L)?(n.exit("htmlFlowData"),re(L)):(n.consume(L),K)}function re(L){return n.exit("htmlFlow"),e(L)}}function Xv(n,e,t){const r=this;return i;function i(a){return Qe(a)?(n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),s):t(a)}function s(a){return r.parser.lazy[r.now().line]?t(a):e(a)}}function Yv(n,e,t){return r;function r(i){return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),n.attempt(e0,e,t)}}const Kv={name:"htmlText",tokenize:$v};function $v(n,e,t){const r=this;let i,s,a;return o;function o(R){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(R),l}function l(R){return R===33?(n.consume(R),u):R===47?(n.consume(R),M):R===63?(n.consume(R),_):wr(R)?(n.consume(R),B):t(R)}function u(R){return R===45?(n.consume(R),c):R===91?(n.consume(R),s=0,T):wr(R)?(n.consume(R),A):t(R)}function c(R){return R===45?(n.consume(R),d):t(R)}function h(R){return R===null?t(R):R===45?(n.consume(R),f):Qe(R)?(a=h,ae(R)):(n.consume(R),h)}function f(R){return R===45?(n.consume(R),d):h(R)}function d(R){return R===62?he(R):R===45?f(R):h(R)}function T(R){const K="CDATA[";return R===K.charCodeAt(s++)?(n.consume(R),s===K.length?E:T):t(R)}function E(R){return R===null?t(R):R===93?(n.consume(R),g):Qe(R)?(a=E,ae(R)):(n.consume(R),E)}function g(R){return R===93?(n.consume(R),p):E(R)}function p(R){return R===62?he(R):R===93?(n.consume(R),p):E(R)}function A(R){return R===null||R===62?he(R):Qe(R)?(a=A,ae(R)):(n.consume(R),A)}function _(R){return R===null?t(R):R===63?(n.consume(R),D):Qe(R)?(a=_,ae(R)):(n.consume(R),_)}function D(R){return R===62?he(R):_(R)}function M(R){return wr(R)?(n.consume(R),y):t(R)}function y(R){return R===45||Gn(R)?(n.consume(R),y):C(R)}function C(R){return Qe(R)?(a=C,ae(R)):_t(R)?(n.consume(R),C):he(R)}function B(R){return R===45||Gn(R)?(n.consume(R),B):R===47||R===62||Nn(R)?S(R):t(R)}function S(R){return R===47?(n.consume(R),he):R===58||R===95||wr(R)?(n.consume(R),I):Qe(R)?(a=S,ae(R)):_t(R)?(n.consume(R),S):he(R)}function I(R){return R===45||R===46||R===58||R===95||Gn(R)?(n.consume(R),I):V(R)}function V(R){return R===61?(n.consume(R),Y):Qe(R)?(a=V,ae(R)):_t(R)?(n.consume(R),V):S(R)}function Y(R){return R===null||R===60||R===61||R===62||R===96?t(R):R===34||R===39?(n.consume(R),i=R,X):Qe(R)?(a=Y,ae(R)):_t(R)?(n.consume(R),Y):(n.consume(R),j)}function X(R){return R===i?(n.consume(R),i=void 0,q):R===null?t(R):Qe(R)?(a=X,ae(R)):(n.consume(R),X)}function j(R){return R===null||R===34||R===39||R===60||R===61||R===96?t(R):R===47||R===62||Nn(R)?S(R):(n.consume(R),j)}function q(R){return R===47||R===62||Nn(R)?S(R):t(R)}function he(R){return R===62?(n.consume(R),n.exit("htmlTextData"),n.exit("htmlText"),e):t(R)}function ae(R){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(R),n.exit("lineEnding"),ie}function ie(R){return _t(R)?wt(n,ce,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):ce(R)}function ce(R){return n.enter("htmlTextData"),a(R)}}const rc={name:"labelEnd",tokenize:tx,resolveTo:ex,resolveAll:Jv},jv={tokenize:nx},Qv={tokenize:rx},Zv={tokenize:ix};function Jv(n){let e=-1;for(;++e<n.length;){const t=n[e][1];(t.type==="labelImage"||t.type==="labelLink"||t.type==="labelEnd")&&(n.splice(e+1,t.type==="labelImage"?4:2),t.type="data",e++)}return n}function ex(n,e){let t=n.length,r=0,i,s,a,o;for(;t--;)if(i=n[t][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;n[t][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(n[t][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=t,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=t);const l={type:n[s][1].type==="labelLink"?"link":"image",start:Object.assign({},n[s][1].start),end:Object.assign({},n[n.length-1][1].end)},u={type:"label",start:Object.assign({},n[s][1].start),end:Object.assign({},n[a][1].end)},c={type:"labelText",start:Object.assign({},n[s+r+2][1].end),end:Object.assign({},n[a-2][1].start)};return o=[["enter",l,e],["enter",u,e]],o=jn(o,n.slice(s+1,s+r+3)),o=jn(o,[["enter",c,e]]),o=jn(o,tc(e.parser.constructs.insideSpan.null,n.slice(s+r+4,a-3),e)),o=jn(o,[["exit",c,e],n[a-2],n[a-1],["exit",u,e]]),o=jn(o,n.slice(a+1)),o=jn(o,[["exit",l,e]]),Lr(n,s,n.length,o),n}function tx(n,e,t){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return o;function o(f){return s?s._inactive?h(f):(a=r.parser.defined.includes(Qs(r.sliceSerialize({start:s.end,end:r.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(f),n.exit("labelMarker"),n.exit("labelEnd"),l):t(f)}function l(f){return f===40?n.attempt(jv,c,a?c:h)(f):f===91?n.attempt(Qv,c,a?u:h)(f):a?c(f):h(f)}function u(f){return n.attempt(Zv,c,h)(f)}function c(f){return e(f)}function h(f){return s._balanced=!0,t(f)}}function nx(n,e,t){return r;function r(h){return n.enter("resource"),n.enter("resourceMarker"),n.consume(h),n.exit("resourceMarker"),i}function i(h){return Nn(h)?Ua(n,s)(h):s(h)}function s(h){return h===41?c(h):C4(n,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function a(h){return Nn(h)?Ua(n,l)(h):c(h)}function o(h){return t(h)}function l(h){return h===34||h===39||h===40?w4(n,u,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):c(h)}function u(h){return Nn(h)?Ua(n,c)(h):c(h)}function c(h){return h===41?(n.enter("resourceMarker"),n.consume(h),n.exit("resourceMarker"),n.exit("resource"),e):t(h)}}function rx(n,e,t){const r=this;return i;function i(o){return D4.call(r,n,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(Qs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):t(o)}function a(o){return t(o)}}function ix(n,e,t){return r;function r(s){return n.enter("reference"),n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),i}function i(s){return s===93?(n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),n.exit("reference"),e):t(s)}}const sx={name:"labelStartImage",tokenize:ax,resolveAll:rc.resolveAll};function ax(n,e,t){const r=this;return i;function i(o){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(o),n.exit("labelImageMarker"),s}function s(o){return o===91?(n.enter("labelMarker"),n.consume(o),n.exit("labelMarker"),n.exit("labelImage"),a):t(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(o):e(o)}}const ox={name:"labelStartLink",tokenize:lx,resolveAll:rc.resolveAll};function lx(n,e,t){const r=this;return i;function i(a){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(a),n.exit("labelMarker"),n.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(a):e(a)}}const Q0={name:"lineEnding",tokenize:ux};function ux(n,e){return t;function t(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),wt(n,e,"linePrefix")}}const g1={name:"thematicBreak",tokenize:cx};function cx(n,e,t){let r=0,i;return s;function s(u){return n.enter("thematicBreak"),a(u)}function a(u){return i=u,o(u)}function o(u){return u===i?(n.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||Qe(u))?(n.exit("thematicBreak"),e(u)):t(u)}function l(u){return u===i?(n.consume(u),r++,l):(n.exit("thematicBreakSequence"),_t(u)?wt(n,o,"whitespace")(u):o(u))}}const Dn={name:"list",tokenize:dx,continuation:{tokenize:px},exit:gx},hx={tokenize:Ex,partial:!0},fx={tokenize:mx,partial:!0};function dx(n,e,t){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(d){const T=r.containerState.type||(d===42||d===43||d===45?"listUnordered":"listOrdered");if(T==="listUnordered"?!r.containerState.marker||d===r.containerState.marker:Zl(d)){if(r.containerState.type||(r.containerState.type=T,n.enter(T,{_container:!0})),T==="listUnordered")return n.enter("listItemPrefix"),d===42||d===45?n.check(g1,t,u)(d):u(d);if(!r.interrupt||d===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),l(d)}return t(d)}function l(d){return Zl(d)&&++a<10?(n.consume(d),l):(!r.interrupt||a<2)&&(r.containerState.marker?d===r.containerState.marker:d===41||d===46)?(n.exit("listItemValue"),u(d)):t(d)}function u(d){return n.enter("listItemMarker"),n.consume(d),n.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||d,n.check(e0,r.interrupt?t:c,n.attempt(hx,f,h))}function c(d){return r.containerState.initialBlankLine=!0,s++,f(d)}function h(d){return _t(d)?(n.enter("listItemPrefixWhitespace"),n.consume(d),n.exit("listItemPrefixWhitespace"),f):t(d)}function f(d){return r.containerState.size=s+r.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(d)}}function px(n,e,t){const r=this;return r.containerState._closeFlow=void 0,n.check(e0,i,s);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,wt(n,e,"listItemIndent",r.containerState.size+1)(o)}function s(o){return r.containerState.furtherBlankLines||!_t(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,n.attempt(fx,e,a)(o))}function a(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,wt(n,n.attempt(Dn,e,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function mx(n,e,t){const r=this;return wt(n,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(s):t(s)}}function gx(n){n.exit(this.containerState.type)}function Ex(n,e,t){const r=this;return wt(n,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(s){const a=r.events[r.events.length-1];return!_t(s)&&a&&a[1].type==="listItemPrefixWhitespace"?e(s):t(s)}}const hd={name:"setextUnderline",tokenize:_x,resolveTo:Tx};function Tx(n,e){let t=n.length,r,i,s;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){r=t;break}n[t][1].type==="paragraph"&&(i=t)}else n[t][1].type==="content"&&n.splice(t,1),!s&&n[t][1].type==="definition"&&(s=t);const a={type:"setextHeading",start:Object.assign({},n[i][1].start),end:Object.assign({},n[n.length-1][1].end)};return n[i][1].type="setextHeadingText",s?(n.splice(i,0,["enter",a,e]),n.splice(s+1,0,["exit",n[r][1],e]),n[r][1].end=Object.assign({},n[s][1].end)):n[r][1]=a,n.push(["exit",a,e]),n}function _x(n,e,t){const r=this;let i;return s;function s(u){let c=r.events.length,h;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){h=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(n.enter("setextHeadingLine"),i=u,a(u)):t(u)}function a(u){return n.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(n.consume(u),o):(n.exit("setextHeadingLineSequence"),_t(u)?wt(n,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Qe(u)?(n.exit("setextHeadingLine"),e(u)):t(u)}}const vx={tokenize:xx};function xx(n){const e=this,t=n.attempt(e0,r,n.attempt(this.parser.constructs.flowInitial,i,wt(n,n.attempt(this.parser.constructs.flow,i,n.attempt(Mv,i)),"linePrefix")));return t;function r(s){if(s===null){n.consume(s);return}return n.enter("lineEndingBlank"),n.consume(s),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function i(s){if(s===null){n.consume(s);return}return n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),e.currentConstruct=void 0,t}}const Ax={resolveAll:N4()},yx=R4("string"),Sx=R4("text");function R4(n){return{tokenize:e,resolveAll:N4(n==="text"?bx:void 0)};function e(t){const r=this,i=this.parser.constructs[n],s=t.attempt(i,a,o);return a;function a(c){return u(c)?s(c):o(c)}function o(c){if(c===null){t.consume(c);return}return t.enter("data"),t.consume(c),l}function l(c){return u(c)?(t.exit("data"),s(c)):(t.consume(c),l)}function u(c){if(c===null)return!0;const h=i[c];let f=-1;if(h)for(;++f<h.length;){const d=h[f];if(!d.previous||d.previous.call(r,r.previous))return!0}return!1}}}function N4(n){return e;function e(t,r){let i=-1,s;for(;++i<=t.length;)s===void 0?t[i]&&t[i][1].type==="data"&&(s=i,i++):(!t[i]||t[i][1].type!=="data")&&(i!==s+2&&(t[s][1].end=t[i-1][1].end,t.splice(s+2,i-s-2),i=s+2),s=void 0);return n?n(t,r):t}}function bx(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){const r=n[t-1][1],i=e.sliceStream(r);let s=i.length,a=-1,o=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(u===-2)l=!0,o++;else if(u!==-1){s++;break}}if(o){const u={type:t===n.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-o,offset:r.end.offset-o,_index:r.start._index+s,_bufferIndex:s?a:r.start._bufferIndex+a},end:Object.assign({},r.end)};r.end=Object.assign({},u.start),r.start.offset===r.end.offset?Object.assign(r,u):(n.splice(t,0,["enter",u,e],["exit",u,e]),t+=2)}t++}return n}function Mx(n,e,t){let r=Object.assign(t?Object.assign({},t):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let a=[],o=[];const l={consume:A,enter:_,exit:D,attempt:C(M),check:C(y),interrupt:C(y,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:n,sliceStream:d,sliceSerialize:f,now:T,defineSkip:E,write:h};let c=e.tokenize.call(u,l);return e.resolveAll&&s.push(e),u;function h(V){return a=jn(a,V),g(),a[a.length-1]!==null?[]:(B(e,0),u.events=tc(s,u.events,u),u.events)}function f(V,Y){return Dx(d(V),Y)}function d(V){return Cx(a,V)}function T(){const{line:V,column:Y,offset:X,_index:j,_bufferIndex:q}=r;return{line:V,column:Y,offset:X,_index:j,_bufferIndex:q}}function E(V){i[V.line]=V.column,I()}function g(){let V;for(;r._index<a.length;){const Y=a[r._index];if(typeof Y=="string")for(V=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===V&&r._bufferIndex<Y.length;)p(Y.charCodeAt(r._bufferIndex));else p(Y)}}function p(V){c=c(V)}function A(V){Qe(V)?(r.line++,r.column=1,r.offset+=V===-3?2:1,I()):V!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=V}function _(V,Y){const X=Y||{};return X.type=V,X.start=T(),u.events.push(["enter",X,u]),o.push(X),X}function D(V){const Y=o.pop();return Y.end=T(),u.events.push(["exit",Y,u]),Y}function M(V,Y){B(V,Y.from)}function y(V,Y){Y.restore()}function C(V,Y){return X;function X(j,q,he){let ae,ie,ce,R;return Array.isArray(j)?re(j):"tokenize"in j?re([j]):K(j);function K(Ce){return ze;function ze(Ie){const it=Ie!==null&&Ce[Ie],vt=Ie!==null&&Ce.null,Ke=[...Array.isArray(it)?it:it?[it]:[],...Array.isArray(vt)?vt:vt?[vt]:[]];return re(Ke)(Ie)}}function re(Ce){return ae=Ce,ie=0,Ce.length===0?he:L(Ce[ie])}function L(Ce){return ze;function ze(Ie){return R=S(),ce=Ce,Ce.partial||(u.currentConstruct=Ce),Ce.name&&u.parser.constructs.disable.null.includes(Ce.name)?Ae():Ce.tokenize.call(Y?Object.assign(Object.create(u),Y):u,l,Ee,Ae)(Ie)}}function Ee(Ce){return V(ce,R),q}function Ae(Ce){return R.restore(),++ie<ae.length?L(ae[ie]):he}}}function B(V,Y){V.resolveAll&&!s.includes(V)&&s.push(V),V.resolve&&Lr(u.events,Y,u.events.length-Y,V.resolve(u.events.slice(Y),u)),V.resolveTo&&(u.events=V.resolveTo(u.events,u))}function S(){const V=T(),Y=u.previous,X=u.currentConstruct,j=u.events.length,q=Array.from(o);return{restore:he,from:j};function he(){r=V,u.previous=Y,u.currentConstruct=X,u.events.length=j,o=q,I()}}function I(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Cx(n,e){const t=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let a;if(t===i)a=[n[t].slice(r,s)];else{if(a=n.slice(t,i),r>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(r):a.shift()}s>0&&a.push(n[i].slice(0,s))}return a}function Dx(n,e){let t=-1;const r=[];let i;for(;++t<n.length;){const s=n[t];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}const wx={42:Dn,43:Dn,45:Dn,48:Dn,49:Dn,50:Dn,51:Dn,52:Dn,53:Dn,54:Dn,55:Dn,56:Dn,57:Dn,62:y4},Rx={91:Nv},Nx={[-2]:j0,[-1]:j0,32:j0},Ix={35:kv,42:g1,45:[hd,g1],60:Hv,61:hd,95:g1,96:ud,126:ud},Lx={38:b4,92:S4},Fx={[-5]:Q0,[-4]:Q0,[-3]:Q0,33:sx,38:b4,42:Jl,60:[lv,Kv],91:ox,92:[Pv,S4],93:rc,95:Jl,96:xv},Px={null:[Jl,Ax]},Ox={null:[42,95]},kx={null:[]},Bx=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Ox,contentInitial:Rx,disable:kx,document:wx,flow:Ix,flowInitial:Nx,insideSpan:Px,string:Lx,text:Fx},Symbol.toStringTag,{value:"Module"}));function Ux(n){const t=X_([Bx,...(n||{}).extensions||[]]),r={defined:[],lazy:{},constructs:t,content:i(tv),document:i(rv),flow:i(vx),string:i(yx),text:i(Sx)};return r;function i(s){return a;function a(o){return Mx(r,s,o)}}}const fd=/[\0\t\n\r]/g;function zx(){let n=1,e="",t=!0,r;return i;function i(s,a,o){const l=[];let u,c,h,f,d;for(s=e+s.toString(a),h=0,e="",t&&(s.charCodeAt(0)===65279&&h++,t=void 0);h<s.length;){if(fd.lastIndex=h,u=fd.exec(s),f=u&&u.index!==void 0?u.index:s.length,d=s.charCodeAt(f),!u){e=s.slice(h);break}if(d===10&&h===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<f&&(l.push(s.slice(h,f)),n+=f-h),d){case 0:{l.push(65533),n++;break}case 9:{for(c=Math.ceil(n/4)*4,l.push(-2);n++<c;)l.push(-1);break}case 10:{l.push(-4),n=1;break}default:r=!0,n=1}h=f+1}return o&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}function Hx(n){for(;!M4(n););return n}function I4(n,e){const t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"�":String.fromCharCode(t)}const Gx=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Vx(n){return n.replace(Gx,Wx)}function Wx(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){const i=t.charCodeAt(1),s=i===120||i===88;return I4(t.slice(s?2:1),s?16:10)}return nc(t)||n}function E1(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?dd(n.position):"start"in n||"end"in n?dd(n):"line"in n||"column"in n?eu(n):""}function eu(n){return pd(n&&n.line)+":"+pd(n&&n.column)}function dd(n){return eu(n&&n.start)+"-"+eu(n&&n.end)}function pd(n){return n&&typeof n=="number"?n:1}const L4={}.hasOwnProperty,qx=function(n,e,t){return typeof e!="string"&&(t=e,e=void 0),Xx(t)(Hx(Ux(t).document().write(zx()(n,e,!0))))};function Xx(n){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(At),autolinkProtocol:V,autolinkEmail:V,atxHeading:o($e),blockQuote:o(Ke),characterEscape:V,characterReference:V,codeFenced:o(ee),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(ee,l),codeText:o(Ft,l),codeTextData:V,data:V,codeFlowValue:V,definition:o(We),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(Je),hardBreakEscape:o(xt),hardBreakTrailing:o(xt),htmlFlow:o(st,l),htmlFlowData:V,htmlText:o(st,l),htmlTextData:V,image:o(et),label:l,link:o(At),listItem:o(rn),listItemValue:T,listOrdered:o(Wt,d),listUnordered:o(Wt),paragraph:o(P),reference:Ae,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o($e),strong:o(N),thematicBreak:o(ye)},exit:{atxHeading:c(),atxHeadingSequence:C,autolink:c(),autolinkEmail:vt,autolinkProtocol:it,blockQuote:c(),characterEscapeValue:Y,characterReferenceMarkerHexadecimal:ze,characterReferenceMarkerNumeric:ze,characterReferenceValue:Ie,codeFenced:c(A),codeFencedFence:p,codeFencedFenceInfo:E,codeFencedFenceMeta:g,codeFlowValue:Y,codeIndented:c(_),codeText:c(ae),codeTextData:Y,data:Y,definition:c(),definitionDestinationString:y,definitionLabelString:D,definitionTitleString:M,emphasis:c(),hardBreakEscape:c(j),hardBreakTrailing:c(j),htmlFlow:c(q),htmlFlowData:Y,htmlText:c(he),htmlTextData:Y,image:c(ce),label:K,labelText:R,lineEnding:X,link:c(ie),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:Ce,resourceDestinationString:re,resourceTitleString:L,resource:Ee,setextHeading:c(I),setextHeadingLineSequence:S,setextHeadingText:B,strong:c(),thematicBreak:c()}};F4(e,(n||{}).mdastExtensions||[]);const t={};return r;function r(H){let $={type:"root",children:[]};const pe={stack:[$],tokenStack:[],config:e,enter:u,exit:h,buffer:l,resume:f,setData:s,getData:a},de=[];let Q=-1;for(;++Q<H.length;)if(H[Q][1].type==="listOrdered"||H[Q][1].type==="listUnordered")if(H[Q][0]==="enter")de.push(Q);else{const Oe=de.pop();Q=i(H,Oe,Q)}for(Q=-1;++Q<H.length;){const Oe=e[H[Q][0]];L4.call(Oe,H[Q][1].type)&&Oe[H[Q][1].type].call(Object.assign({sliceSerialize:H[Q][2].sliceSerialize},pe),H[Q][1])}if(pe.tokenStack.length>0){const Oe=pe.tokenStack[pe.tokenStack.length-1];(Oe[1]||md).call(pe,void 0,Oe[0])}for($.position={start:Ai(H.length>0?H[0][1].start:{line:1,column:1,offset:0}),end:Ai(H.length>0?H[H.length-2][1].end:{line:1,column:1,offset:0})},Q=-1;++Q<e.transforms.length;)$=e.transforms[Q]($)||$;return $}function i(H,$,pe){let de=$-1,Q=-1,Oe=!1,Be,Ue,Le,Fe;for(;++de<=pe;){const He=H[de];if(He[1].type==="listUnordered"||He[1].type==="listOrdered"||He[1].type==="blockQuote"?(He[0]==="enter"?Q++:Q--,Fe=void 0):He[1].type==="lineEndingBlank"?He[0]==="enter"&&(Be&&!Fe&&!Q&&!Le&&(Le=de),Fe=void 0):He[1].type==="linePrefix"||He[1].type==="listItemValue"||He[1].type==="listItemMarker"||He[1].type==="listItemPrefix"||He[1].type==="listItemPrefixWhitespace"||(Fe=void 0),!Q&&He[0]==="enter"&&He[1].type==="listItemPrefix"||Q===-1&&He[0]==="exit"&&(He[1].type==="listUnordered"||He[1].type==="listOrdered")){if(Be){let yt=de;for(Ue=void 0;yt--;){const G=H[yt];if(G[1].type==="lineEnding"||G[1].type==="lineEndingBlank"){if(G[0]==="exit")continue;Ue&&(H[Ue][1].type="lineEndingBlank",Oe=!0),G[1].type="lineEnding",Ue=yt}else if(!(G[1].type==="linePrefix"||G[1].type==="blockQuotePrefix"||G[1].type==="blockQuotePrefixWhitespace"||G[1].type==="blockQuoteMarker"||G[1].type==="listItemIndent"))break}Le&&(!Ue||Le<Ue)&&(Be._spread=!0),Be.end=Object.assign({},Ue?H[Ue][1].start:He[1].end),H.splice(Ue||de,0,["exit",Be,He[2]]),de++,pe++}He[1].type==="listItemPrefix"&&(Be={type:"listItem",_spread:!1,start:Object.assign({},He[1].start),end:void 0},H.splice(de,0,["enter",Be,He[2]]),de++,pe++,Le=void 0,Fe=!0)}}return H[$][1]._spread=Oe,pe}function s(H,$){t[H]=$}function a(H){return t[H]}function o(H,$){return pe;function pe(de){u.call(this,H(de),de),$&&$.call(this,de)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(H,$,pe){return this.stack[this.stack.length-1].children.push(H),this.stack.push(H),this.tokenStack.push([$,pe]),H.position={start:Ai($.start)},H}function c(H){return $;function $(pe){H&&H.call(this,pe),h.call(this,pe)}}function h(H,$){const pe=this.stack.pop(),de=this.tokenStack.pop();if(de)de[0].type!==H.type&&($?$.call(this,H,de[0]):(de[1]||md).call(this,H,de[0]));else throw new Error("Cannot close `"+H.type+"` ("+E1({start:H.start,end:H.end})+"): it’s not open");return pe.position.end=Ai(H.end),pe}function f(){return W_(this.stack.pop())}function d(){s("expectingFirstListItemValue",!0)}function T(H){if(a("expectingFirstListItemValue")){const $=this.stack[this.stack.length-2];$.start=Number.parseInt(this.sliceSerialize(H),10),s("expectingFirstListItemValue")}}function E(){const H=this.resume(),$=this.stack[this.stack.length-1];$.lang=H}function g(){const H=this.resume(),$=this.stack[this.stack.length-1];$.meta=H}function p(){a("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function A(){const H=this.resume(),$=this.stack[this.stack.length-1];$.value=H.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function _(){const H=this.resume(),$=this.stack[this.stack.length-1];$.value=H.replace(/(\r?\n|\r)$/g,"")}function D(H){const $=this.resume(),pe=this.stack[this.stack.length-1];pe.label=$,pe.identifier=Qs(this.sliceSerialize(H)).toLowerCase()}function M(){const H=this.resume(),$=this.stack[this.stack.length-1];$.title=H}function y(){const H=this.resume(),$=this.stack[this.stack.length-1];$.url=H}function C(H){const $=this.stack[this.stack.length-1];if(!$.depth){const pe=this.sliceSerialize(H).length;$.depth=pe}}function B(){s("setextHeadingSlurpLineEnding",!0)}function S(H){const $=this.stack[this.stack.length-1];$.depth=this.sliceSerialize(H).charCodeAt(0)===61?1:2}function I(){s("setextHeadingSlurpLineEnding")}function V(H){const $=this.stack[this.stack.length-1];let pe=$.children[$.children.length-1];(!pe||pe.type!=="text")&&(pe=se(),pe.position={start:Ai(H.start)},$.children.push(pe)),this.stack.push(pe)}function Y(H){const $=this.stack.pop();$.value+=this.sliceSerialize(H),$.position.end=Ai(H.end)}function X(H){const $=this.stack[this.stack.length-1];if(a("atHardBreak")){const pe=$.children[$.children.length-1];pe.position.end=Ai(H.end),s("atHardBreak");return}!a("setextHeadingSlurpLineEnding")&&e.canContainEols.includes($.type)&&(V.call(this,H),Y.call(this,H))}function j(){s("atHardBreak",!0)}function q(){const H=this.resume(),$=this.stack[this.stack.length-1];$.value=H}function he(){const H=this.resume(),$=this.stack[this.stack.length-1];$.value=H}function ae(){const H=this.resume(),$=this.stack[this.stack.length-1];$.value=H}function ie(){const H=this.stack[this.stack.length-1];if(a("inReference")){const $=a("referenceType")||"shortcut";H.type+="Reference",H.referenceType=$,delete H.url,delete H.title}else delete H.identifier,delete H.label;s("referenceType")}function ce(){const H=this.stack[this.stack.length-1];if(a("inReference")){const $=a("referenceType")||"shortcut";H.type+="Reference",H.referenceType=$,delete H.url,delete H.title}else delete H.identifier,delete H.label;s("referenceType")}function R(H){const $=this.sliceSerialize(H),pe=this.stack[this.stack.length-2];pe.label=Vx($),pe.identifier=Qs($).toLowerCase()}function K(){const H=this.stack[this.stack.length-1],$=this.resume(),pe=this.stack[this.stack.length-1];if(s("inReference",!0),pe.type==="link"){const de=H.children;pe.children=de}else pe.alt=$}function re(){const H=this.resume(),$=this.stack[this.stack.length-1];$.url=H}function L(){const H=this.resume(),$=this.stack[this.stack.length-1];$.title=H}function Ee(){s("inReference")}function Ae(){s("referenceType","collapsed")}function Ce(H){const $=this.resume(),pe=this.stack[this.stack.length-1];pe.label=$,pe.identifier=Qs(this.sliceSerialize(H)).toLowerCase(),s("referenceType","full")}function ze(H){s("characterReferenceType",H.type)}function Ie(H){const $=this.sliceSerialize(H),pe=a("characterReferenceType");let de;pe?(de=I4($,pe==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):de=nc($);const Q=this.stack.pop();Q.value+=de,Q.position.end=Ai(H.end)}function it(H){Y.call(this,H);const $=this.stack[this.stack.length-1];$.url=this.sliceSerialize(H)}function vt(H){Y.call(this,H);const $=this.stack[this.stack.length-1];$.url="mailto:"+this.sliceSerialize(H)}function Ke(){return{type:"blockquote",children:[]}}function ee(){return{type:"code",lang:null,meta:null,value:""}}function Ft(){return{type:"inlineCode",value:""}}function We(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Je(){return{type:"emphasis",children:[]}}function $e(){return{type:"heading",depth:void 0,children:[]}}function xt(){return{type:"break"}}function st(){return{type:"html",value:""}}function et(){return{type:"image",title:null,url:"",alt:null}}function At(){return{type:"link",title:null,url:"",children:[]}}function Wt(H){return{type:"list",ordered:H.type==="listOrdered",start:null,spread:H._spread,children:[]}}function rn(H){return{type:"listItem",spread:H._spread,checked:null,children:[]}}function P(){return{type:"paragraph",children:[]}}function N(){return{type:"strong",children:[]}}function se(){return{type:"text",value:""}}function ye(){return{type:"thematicBreak"}}}function Ai(n){return{line:n.line,column:n.column,offset:n.offset}}function F4(n,e){let t=-1;for(;++t<e.length;){const r=e[t];Array.isArray(r)?F4(n,r):Yx(n,r)}}function Yx(n,e){let t;for(t in e)if(L4.call(e,t)){if(t==="canContainEols"){const r=e[t];r&&n[t].push(...r)}else if(t==="transforms"){const r=e[t];r&&n[t].push(...r)}else if(t==="enter"||t==="exit"){const r=e[t];r&&Object.assign(n[t],r)}}}function md(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+E1({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+E1({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+E1({start:e.start,end:e.end})+") is still open")}function Kx(n){Object.assign(this,{Parser:t=>{const r=this.data("settings");return qx(t,Object.assign({},r,n,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function $x(n,e){const t={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(e),!0)};return n.patch(e,t),n.applyData(e,t)}function jx(n,e){const t={type:"element",tagName:"br",properties:{},children:[]};return n.patch(e,t),[n.applyData(e,t),{type:"text",value:`
`}]}function Qx(n,e){const t=e.value?e.value+`
`:"",r=e.lang?e.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,i={};r&&(i.className=["language-"+r]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:t}]};return e.meta&&(s.data={meta:e.meta}),n.patch(e,s),s=n.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},n.patch(e,s),s}function Zx(n,e){const t={type:"element",tagName:"del",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function Jx(n,e){const t={type:"element",tagName:"em",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function ca(n){const e=[];let t=-1,r=0,i=0;for(;++t<n.length;){const s=n.charCodeAt(t);let a="";if(s===37&&Gn(n.charCodeAt(t+1))&&Gn(n.charCodeAt(t+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=n.charCodeAt(t+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a="�"}else a=String.fromCharCode(s);a&&(e.push(n.slice(r,t),encodeURIComponent(a)),r=t+i+1,a=""),i&&(t+=i,i=0)}return e.join("")+n.slice(r)}function P4(n,e){const t=String(e.identifier).toUpperCase(),r=ca(t.toLowerCase()),i=n.footnoteOrder.indexOf(t);let s;i===-1?(n.footnoteOrder.push(t),n.footnoteCounts[t]=1,s=n.footnoteOrder.length):(n.footnoteCounts[t]++,s=i+1);const a=n.footnoteCounts[t],o={type:"element",tagName:"a",properties:{href:"#"+n.clobberPrefix+"fn-"+r,id:n.clobberPrefix+"fnref-"+r+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};n.patch(e,o);const l={type:"element",tagName:"sup",properties:{},children:[o]};return n.patch(e,l),n.applyData(e,l)}function eA(n,e){const t=n.footnoteById;let r=1;for(;r in t;)r++;const i=String(r);return t[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:e.children}],position:e.position},P4(n,{type:"footnoteReference",identifier:i,position:e.position})}function tA(n,e){const t={type:"element",tagName:"h"+e.depth,properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function nA(n,e){if(n.dangerous){const t={type:"raw",value:e.value};return n.patch(e,t),n.applyData(e,t)}return null}function O4(n,e){const t=e.referenceType;let r="]";if(t==="collapsed"?r+="[]":t==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return{type:"text",value:"!["+e.alt+r};const i=n.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function rA(n,e){const t=n.definition(e.identifier);if(!t)return O4(n,e);const r={src:ca(t.url||""),alt:e.alt};t.title!==null&&t.title!==void 0&&(r.title=t.title);const i={type:"element",tagName:"img",properties:r,children:[]};return n.patch(e,i),n.applyData(e,i)}function iA(n,e){const t={src:ca(e.url)};e.alt!==null&&e.alt!==void 0&&(t.alt=e.alt),e.title!==null&&e.title!==void 0&&(t.title=e.title);const r={type:"element",tagName:"img",properties:t,children:[]};return n.patch(e,r),n.applyData(e,r)}function sA(n,e){const t={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};n.patch(e,t);const r={type:"element",tagName:"code",properties:{},children:[t]};return n.patch(e,r),n.applyData(e,r)}function aA(n,e){const t=n.definition(e.identifier);if(!t)return O4(n,e);const r={href:ca(t.url||"")};t.title!==null&&t.title!==void 0&&(r.title=t.title);const i={type:"element",tagName:"a",properties:r,children:n.all(e)};return n.patch(e,i),n.applyData(e,i)}function oA(n,e){const t={href:ca(e.url)};e.title!==null&&e.title!==void 0&&(t.title=e.title);const r={type:"element",tagName:"a",properties:t,children:n.all(e)};return n.patch(e,r),n.applyData(e,r)}function lA(n,e,t){const r=n.all(e),i=t?uA(t):k4(e),s={},a=[];if(typeof e.checked=="boolean"){const c=r[0];let h;c&&c.type==="element"&&c.tagName==="p"?h=c:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const c=r[o];(i||o!==0||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?a.push(...c.children):a.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:a};return n.patch(e,u),n.applyData(e,u)}function uA(n){let e=!1;if(n.type==="list"){e=n.spread||!1;const t=n.children;let r=-1;for(;!e&&++r<t.length;)e=k4(t[r])}return e}function k4(n){const e=n.spread;return e??n.children.length>1}function cA(n,e){const t={},r=n.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(t.start=e.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:t,children:n.wrap(r,!0)};return n.patch(e,s),n.applyData(e,s)}function hA(n,e){const t={type:"element",tagName:"p",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function fA(n,e){const t={type:"root",children:n.wrap(n.all(e))};return n.patch(e,t),n.applyData(e,t)}function dA(n,e){const t={type:"element",tagName:"strong",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function pA(n,e){const t=n.all(e),r=t.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:n.wrap([r],!0)};n.patch(e.children[0],a),i.push(a)}if(t.length>0){const a={type:"element",tagName:"tbody",properties:{},children:n.wrap(t,!0)},o=eo(e.children[1]),l=j1(e.children[e.children.length-1]);o.line&&l.line&&(a.position={start:o,end:l}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:n.wrap(i,!0)};return n.patch(e,s),n.applyData(e,s)}function mA(n,e,t){const r=t?t.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",a=t&&t.type==="table"?t.align:void 0,o=a?a.length:e.children.length;let l=-1;const u=[];for(;++l<o;){const h=e.children[l],f={},d=a?a[l]:void 0;d&&(f.align=d);let T={type:"element",tagName:s,properties:f,children:[]};h&&(T.children=n.all(h),n.patch(h,T),T=n.applyData(e,T)),u.push(T)}const c={type:"element",tagName:"tr",properties:{},children:n.wrap(u,!0)};return n.patch(e,c),n.applyData(e,c)}function gA(n,e){const t={type:"element",tagName:"td",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}const gd=9,Ed=32;function EA(n){const e=String(n),t=/\r?\n|\r/g;let r=t.exec(e),i=0;const s=[];for(;r;)s.push(Td(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=t.exec(e);return s.push(Td(e.slice(i),i>0,!1)),s.join("")}function Td(n,e,t){let r=0,i=n.length;if(e){let s=n.codePointAt(r);for(;s===gd||s===Ed;)r++,s=n.codePointAt(r)}if(t){let s=n.codePointAt(i-1);for(;s===gd||s===Ed;)i--,s=n.codePointAt(i-1)}return i>r?n.slice(r,i):""}function TA(n,e){const t={type:"text",value:EA(String(e.value))};return n.patch(e,t),n.applyData(e,t)}function _A(n,e){const t={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(e,t),n.applyData(e,t)}const vA={blockquote:$x,break:jx,code:Qx,delete:Zx,emphasis:Jx,footnoteReference:P4,footnote:eA,heading:tA,html:nA,imageReference:rA,image:iA,inlineCode:sA,linkReference:aA,link:oA,listItem:lA,list:cA,paragraph:hA,root:fA,strong:dA,table:pA,tableCell:gA,tableRow:mA,text:TA,thematicBreak:_A,toml:Fo,yaml:Fo,definition:Fo,footnoteDefinition:Fo};function Fo(){return null}const xA=!0,_d=!1,AA="skip",yA=function(n,e,t,r){typeof e=="function"&&typeof t!="function"&&(r=t,t=e,e=null);const i=di(e),s=r?-1:1;a(n,void 0,[])();function a(o,l,u){const c=o&&typeof o=="object"?o:{};if(typeof c.type=="string"){const f=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(o.type+(f?"<"+f+">":""))+")"})}return h;function h(){let f=[],d,T,E;if((!e||i(o,l,u[u.length-1]||null))&&(f=SA(t(o,u)),f[0]===_d))return f;if(o.children&&f[0]!==AA)for(T=(r?o.children.length:-1)+s,E=u.concat(o);T>-1&&T<o.children.length;){if(d=a(o.children[T],T,E)(),d[0]===_d)return d;T=typeof d[1]=="number"?d[1]:T+s}return f}}};function SA(n){return Array.isArray(n)?n:typeof n=="number"?[xA,n]:[n]}const bA=function(n,e,t,r){typeof e=="function"&&typeof t!="function"&&(r=t,t=e,e=null),yA(n,e,i,r);function i(s,a){const o=a[a.length-1];return t(s,o?o.children.indexOf(s):null,o)}};function MA(n){return!n||!n.position||!n.position.start||!n.position.start.line||!n.position.start.column||!n.position.end||!n.position.end.line||!n.position.end.column}const CA=!0,vd=!1,DA="skip",wA=function(n,e,t,r){typeof e=="function"&&typeof t!="function"&&(r=t,t=e,e=null);const i=di(e),s=r?-1:1;a(n,void 0,[])();function a(o,l,u){const c=o&&typeof o=="object"?o:{};if(typeof c.type=="string"){const f=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(o.type+(f?"<"+f+">":""))+")"})}return h;function h(){let f=[],d,T,E;if((!e||i(o,l,u[u.length-1]||null))&&(f=RA(t(o,u)),f[0]===vd))return f;if(o.children&&f[0]!==DA)for(T=(r?o.children.length:-1)+s,E=u.concat(o);T>-1&&T<o.children.length;){if(d=a(o.children[T],T,E)(),d[0]===vd)return d;T=typeof d[1]=="number"?d[1]:T+s}return f}}};function RA(n){return Array.isArray(n)?n:typeof n=="number"?[CA,n]:[n]}const NA=function(n,e,t,r){typeof e=="function"&&typeof t!="function"&&(r=t,t=e,e=null),wA(n,e,i,r);function i(s,a){const o=a[a.length-1];return t(s,o?o.children.indexOf(s):null,o)}},xd={}.hasOwnProperty;function IA(n){const e=Object.create(null);if(!n||!n.type)throw new Error("mdast-util-definitions expected node");return NA(n,"definition",r=>{const i=Ad(r.identifier);i&&!xd.call(e,i)&&(e[i]=r)}),t;function t(r){const i=Ad(r);return i&&xd.call(e,i)?e[i]:null}}function Ad(n){return String(n||"").toUpperCase()}const D1={}.hasOwnProperty;function LA(n,e){const t=e||{},r=t.allowDangerousHtml||!1,i={};return a.dangerous=r,a.clobberPrefix=t.clobberPrefix===void 0||t.clobberPrefix===null?"user-content-":t.clobberPrefix,a.footnoteLabel=t.footnoteLabel||"Footnotes",a.footnoteLabelTagName=t.footnoteLabelTagName||"h2",a.footnoteLabelProperties=t.footnoteLabelProperties||{className:["sr-only"]},a.footnoteBackLabel=t.footnoteBackLabel||"Back to content",a.unknownHandler=t.unknownHandler,a.passThrough=t.passThrough,a.handlers={...vA,...t.handlers},a.definition=IA(n),a.footnoteById=i,a.footnoteOrder=[],a.footnoteCounts={},a.patch=FA,a.applyData=PA,a.one=o,a.all=l,a.wrap=kA,a.augment=s,bA(n,"footnoteDefinition",u=>{const c=String(u.identifier).toUpperCase();D1.call(i,c)||(i[c]=u)}),a;function s(u,c){if(u&&"data"in u&&u.data){const h=u.data;h.hName&&(c.type!=="element"&&(c={type:"element",tagName:"",properties:{},children:[]}),c.tagName=h.hName),c.type==="element"&&h.hProperties&&(c.properties={...c.properties,...h.hProperties}),"children"in c&&c.children&&h.hChildren&&(c.children=h.hChildren)}if(u){const h="type"in u?u:{position:u};MA(h)||(c.position={start:eo(h),end:j1(h)})}return c}function a(u,c,h,f){return Array.isArray(h)&&(f=h,h={}),s(u,{type:"element",tagName:c,properties:h||{},children:f||[]})}function o(u,c){return B4(a,u,c)}function l(u){return ic(a,u)}}function FA(n,e){n.position&&(e.position=AT(n))}function PA(n,e){let t=e;if(n&&n.data){const r=n.data.hName,i=n.data.hChildren,s=n.data.hProperties;typeof r=="string"&&(t.type==="element"?t.tagName=r:t={type:"element",tagName:r,properties:{},children:[]}),t.type==="element"&&s&&(t.properties={...t.properties,...s}),"children"in t&&t.children&&i!==null&&i!==void 0&&(t.children=i)}return t}function B4(n,e,t){const r=e&&e.type;if(!r)throw new Error("Expected node, got `"+e+"`");return D1.call(n.handlers,r)?n.handlers[r](n,e,t):n.passThrough&&n.passThrough.includes(r)?"children"in e?{...e,children:ic(n,e)}:e:n.unknownHandler?n.unknownHandler(n,e,t):OA(n,e)}function ic(n,e){const t=[];if("children"in e){const r=e.children;let i=-1;for(;++i<r.length;){const s=B4(n,r[i],e);if(s){if(i&&r[i-1].type==="break"&&(!Array.isArray(s)&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,"")),!Array.isArray(s)&&s.type==="element")){const a=s.children[0];a&&a.type==="text"&&(a.value=a.value.replace(/^\s+/,""))}Array.isArray(s)?t.push(...s):t.push(s)}}}return t}function OA(n,e){const t=e.data||{},r="value"in e&&!(D1.call(t,"hProperties")||D1.call(t,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:ic(n,e)};return n.patch(e,r),n.applyData(e,r)}function kA(n,e){const t=[];let r=-1;for(e&&t.push({type:"text",value:`
`});++r<n.length;)r&&t.push({type:"text",value:`
`}),t.push(n[r]);return e&&n.length>0&&t.push({type:"text",value:`
`}),t}function BA(n){const e=[];let t=-1;for(;++t<n.footnoteOrder.length;){const r=n.footnoteById[n.footnoteOrder[t]];if(!r)continue;const i=n.all(r),s=String(r.identifier).toUpperCase(),a=ca(s.toLowerCase());let o=0;const l=[];for(;++o<=n.footnoteCounts[s];){const h={type:"element",tagName:"a",properties:{href:"#"+n.clobberPrefix+"fnref-"+a+(o>1?"-"+o:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:n.footnoteBackLabel},children:[{type:"text",value:"↩"}]};o>1&&h.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(o)}]}),l.length>0&&l.push({type:"text",value:" "}),l.push(h)}const u=i[i.length-1];if(u&&u.type==="element"&&u.tagName==="p"){const h=u.children[u.children.length-1];h&&h.type==="text"?h.value+=" ":u.children.push({type:"text",value:" "}),u.children.push(...l)}else i.push(...l);const c={type:"element",tagName:"li",properties:{id:n.clobberPrefix+"fn-"+a},children:n.wrap(i,!0)};n.patch(r,c),e.push(c)}if(e.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:n.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(n.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:n.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(e,!0)},{type:"text",value:`
`}]}}function U4(n,e){const t=LA(n,e),r=t.one(n,null),i=BA(t);return i&&r.children.push({type:"text",value:`
`},i),Array.isArray(r)?{type:"root",children:r}:r}const UA=function(n,e){return n&&"run"in n?HA(n,e):GA(n||e)},zA=UA;function HA(n,e){return(t,r,i)=>{n.run(U4(t,e),r,s=>{i(s)})}}function GA(n){return e=>U4(e,n)}function VA(n){const e=class extends n{},t=e.prototype;let r;for(r in t){const i=t[r];i&&typeof i=="object"&&(t[r]="concat"in i?i.concat():Object.assign({},i))}return e}function Ht(n,e){let t=-1;if(!n||!Array.isArray(n)&&!n.type)throw new Error("Expected node, not `"+n+"`");if(typeof n.value=="string")return n.value;const r=(Array.isArray(n)?n:n.children)||[];if(r.length===1&&"value"in r[0])return r[0].value;const i=[];for(;++t<r.length;)i[t]=Ht(r[t],e);return i.join(e||"")}const WA={}.hasOwnProperty;function qA(n,e,t){let r=-1;if(!n)throw new Error("Iterate requires that |this| not be "+n);if(!WA.call(n,"length"))throw new Error("Iterate requires that |this| has a `length`");if(typeof e!="function")throw new TypeError("`callback` must be a function");for(;++r<n.length;){if(!(r in n))continue;const i=e.call(t,n[r],r,n);typeof i=="number"&&(i<0&&(r=0),r=i-1)}}function yn(n){return e;function e(r){if(!r||!r.children)throw new Error("Missing children in `parent` for `modifier`");qA(r.children,t,r)}function t(r,i){return n(r,i,this)}}const XA=yn(function(n,e,t){if(n.type!=="SymbolNode"&&n.type!=="PunctuationNode"||Ht(n)!=="&")return;const r=t.children,i=r[e+1];if(!(e>0&&r[e-1].type==="WordNode"||!(i&&i.type==="WordNode")))return r.splice(e,1),i.children.unshift(n),i.position&&n.position&&(i.position.start=n.position.start),e-1}),YA=yn(function(n,e,t){if(e>0&&(n.type==="SymbolNode"||n.type==="PunctuationNode")&&Ht(n)==="-"){const r=t.children,i=r[e-1],s=r[e+1];if((!s||s.type!=="WordNode")&&i&&i.type==="WordNode")return r.splice(e,1),i.children.push(n),i.position&&n.position&&(i.position.end=n.position.end),e}}),KA=/^([!"').?\u00BB\u0F3B\u0F3D\u169C\u2019\u201D\u2026\u203A\u203D\u2046\u207E\u208E\u2309\u230B\u232A\u2769\u276B\u276D\u276F\u2771\u2773\u2775\u27C6\u27E7\u27E9\u27EB\u27ED\u27EF\u2984\u2986\u2988\u298A\u298C\u298E\u2990\u2992\u2994\u2996\u2998\u29D9\u29DB\u29FD\u2E03\u2E05\u2E0A\u2E0D\u2E1D\u2E21\u2E23\u2E25\u2E27\u2E29\u3009\u300B\u300D\u300F\u3011\u3015\u3017\u3019\u301B\u301E\u301F\uFD3E\uFE18\uFE36\uFE38\uFE3A\uFE3C\uFE3E\uFE40\uFE42\uFE44\uFE48\uFE5A\uFE5C\uFE5E\uFF09\uFF3D\uFF5D\uFF60\uFF63\]}])\1*$/,$A=/^[ \t]*((\r?\n|\r)[\t ]*)+$/,z4=/^([!.?\u2026\u203D]+)$/,jA=/^([&'\-.:=?@\u00AD\u00B7\u2010\u2011\u2019\u2027]|_+)$/,QA=/^(?:[\d\u00B2\u00B3\u00B9\u00BC-\u00BE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9])+$/,ZA=/^\d/,JA=/^(?:[a-z\u00B5\u00DF-\u00F6\u00F8-\u00FF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0560-\u0588\u10D0-\u10FA\u10FD-\u10FF\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7AF\uA7B5\uA7B7\uA7B9\uA7BB\uA7BD\uA7BF\uA7C3\uA7C8\uA7CA\uA7F6\uA7FA\uAB30-\uAB5A\uAB60-\uAB68\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]|\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD83A[\uDD22-\uDD43])/,ey=/[\uD800-\uDFFF]/,ty=/[!"'-),-/:;?[-\]_{}\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u201F\u2022-\u2027\u2032-\u203A\u203C-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,ny=/[\dA-Za-z\u00AA\u00B2\u00B3\u00B5\u00B9\u00BA\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u08D3-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09F4-\u09F9\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71-\u0B77\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BF2\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C78-\u0C7E\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D63\u0D66-\u0D78\u0D7A-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F33\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u17F0-\u17F9\u180B-\u180D\u1810-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1AC0\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u20D0-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA672\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA827\uA82C\uA830-\uA835\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE6\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD27\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC52-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD47\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E-\uDC61\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF3B]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B-\uDD43\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFE4\uDFF0\uDFF1]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A]|\uDB40[\uDD00-\uDDEF]/,ry=/[\t-\r \u0085\u00A0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,iy=yn(function(n,e,t){if(e>0&&(n.type==="SymbolNode"||n.type==="PunctuationNode")){const r=t.children,i=r[e-1];if(i&&i.type==="WordNode"){let s=e-1,a=[],o=[];for(;r[++s];){const l=r[s];if(l.type==="WordNode")a=a.concat(o,l.children),o=[];else if((l.type==="SymbolNode"||l.type==="PunctuationNode")&&jA.test(Ht(l)))o.push(l);else break}if(a.length>0){o.length>0&&(s-=o.length),r.splice(e,s-e),i.children=i.children.concat(a);const l=a[a.length-1];return i.position&&l.position&&(i.position.end=l.position.end),e}}}}),sy="/",ay=yn(function(n,e,t){const r=t.children,i=r[e-1],s=r[e+1];if(i&&i.type==="WordNode"&&(n.type==="SymbolNode"||n.type==="PunctuationNode")&&Ht(n)===sy){const a=Ht(i);let o=n,l=[n],u=1,c="";if(s&&s.type==="WordNode"&&(c=Ht(s),o=s,l=l.concat(s.children),u++),a.length<3&&(!c||c.length<3))return i.children=i.children.concat(l),r.splice(e,u),i.position&&o.position&&(i.position.end=o.position.end),e}}),oy=yn(function(n,e,t){if(e>0&&Ht(n)==="."){const r=t.children,i=r[e-1],s=i.children;if(i.type==="WordNode"&&s&&s.length!==1&&s.length%2!==0){let a=s.length,o=!0;for(;s[--a];){const l=s[a],u=Ht(l);if(a%2===0){if(u.length>1)return;QA.test(u)||(o=!1)}else if(u!=="."){if(a<s.length-2)break;return}}if(!o)return r.splice(e,1),s.push(n),i.position&&n.position&&(i.position.end=n.position.end),e}}}),ly=yn(function(n,e,t){const r=t.children;if(n.type==="WordNode"){const i=r[e+1];if(i&&i.type==="WordNode")return r.splice(e+1,1),n.children=n.children.concat(i.children),i.position&&n.position&&(n.position.end=i.position.end),e}});function sc(n){return e;function e(t){const r=t&&t.children;let i=-1;if(!r)throw new Error("Missing children in `parent` for `visit`");for(;++i in r;)n(r[i],i,t)}}const ac=sc(function(n,e,t){const r=t.children;n.position&&(e<1&&(!t.position||!t.position.start)&&(yd(t),t.position.start=n.position.start),e===r.length-1&&(!t.position||!t.position.end)&&(yd(t),t.position.end=n.position.end))});function yd(n){n.position||(n.position={})}const uy=yn(function(n,e,t){const r=n.children;let i=-1;for(;r[++i];)if(r[i].type==="WordNode")return;const s=t.children[e-1];if(s)return s.children=s.children.concat(r),t.children.splice(e,1),s.position&&n.position&&(s.position.end=n.position.end),e;const a=t.children[e+1];a&&(a.children=r.concat(a.children),a.position&&n.position&&(a.position.start=n.position.start),t.children.splice(e,1))}),cy=yn(function(n,e,t){const r=n.children;if(r&&r.length>0&&e>0){const i=r[0],s=r[1],a=t.children[e-1];if((i.type==="SymbolNode"||i.type==="PunctuationNode")&&KA.test(Ht(i)))return a.children.push(r.shift()),i.position&&a.position&&(a.position.end=i.position.end),s&&s.position&&n.position&&(n.position.start=s.position.start),e-1}}),hy=yn(function(n,e,t){const r=n.children;if(r&&r.length>0&&e>0){let i=-1;for(;r[++i];){const s=r[i];if(s.type==="WordNode"){if(!JA.test(Ht(s)))return;const a=t.children,o=a[e-1];return o.children=o.children.concat(r),a.splice(e,1),o.position&&n.position&&(o.position.end=n.position.end),e}if(s.type==="SymbolNode"||s.type==="PunctuationNode")return}}}),fy=yn(function(n,e,t){const r=n.children,i=t.children,s=i[e-1],a=r[0];if(s&&a&&a.type==="WordNode"&&ZA.test(Ht(a)))return s.children=s.children.concat(r),i.splice(e,1),s.position&&n.position&&(s.position.end=n.position.end),e}),dy=new RegExp("^([0-9]{1,3}|[a-z]|al|ca|cap|cca|cent|cf|cit|con|cp|cwt|ead|etc|ff|fl|ibid|id|nem|op|pro|seq|sic|stat|tem|viz)$"),py=yn(function(n,e,t){const r=n.children;if(r&&r.length>1){const i=r[r.length-1];if(i&&Ht(i)==="."){const s=r[r.length-2];if(s&&s.type==="WordNode"&&dy.test(Ht(s).toLowerCase())){s.children.push(i),r.pop(),i.position&&s.position&&(s.position.end=i.position.end);const a=t.children[e+1];if(a)return n.children=r.concat(a.children),t.children.splice(e+1,1),a.position&&n.position&&(n.position.end=a.position.end),e-1}}}}),my=yn(function(n,e,t){const r=n.children;if(!r||r.length===0||e<1)return;let i=-1;for(;r[++i];){const s=r[i];if(s.type==="WordNode")return;if(s.type==="SymbolNode"||s.type==="PunctuationNode"){const a=Ht(s);if(a!==","&&a!==";")return;const o=t.children[e-1];return o.children=o.children.concat(r),o.position&&n.position&&(o.position.end=n.position.end),t.children.splice(e,1),e}}}),gy=sc(function(n){const e=n.children;let t=e.length,r=!1;for(;e[--t];){const i=e[t];if(i.type!=="SymbolNode"&&i.type!=="PunctuationNode"){i.type==="WordNode"&&(r=!0);continue}if(!z4.test(Ht(i)))continue;if(!r){r=!0;continue}if(Ht(i)!==".")continue;const s=e[t-1],a=e[t+1];if(s&&s.type==="WordNode"){const o=e[t+2];if(a&&o&&a.type==="WhiteSpaceNode"&&Ht(o)===".")continue;e.splice(t,1),s.children.push(i),i.position&&s.position&&(s.position.end=i.position.end),t--}else a&&a.type==="WordNode"&&(e.splice(t,1),a.children.unshift(i),i.position&&a.position&&(a.position.start=i.position.start))}}),H4=sc(function(n,e,t){const r=n.children;if(r&&r.length>0&&r[0].type==="WhiteSpaceNode"){t.children.splice(e,0,r.shift());const i=r[0];i&&i.position&&n.position&&(n.position.start=i.position.start)}}),G4=yn(function(n,e,t){const r=n.children;if(r&&r.length>0&&r[r.length-1].type==="WhiteSpaceNode"){t.children.splice(e+1,0,n.children.pop());const i=r[r.length-1];return i&&i.position&&n.position&&(n.position.end=i.position.end),e}}),Ey=yn(function(n,e,t){if(n.type!=="SentenceNode")return;const r=n.children;let i=0;for(;++i<r.length-1;){const s=r[i];if(s.type!=="WhiteSpaceNode"||Ht(s).split(/\r\n|\r|\n/).length<3)continue;n.children=r.slice(0,i);const a={type:"SentenceNode",children:r.slice(i+1)},o=r[i-1],l=r[i+1];if(t.children.splice(e+1,0,s,a),n.position&&o.position&&l.position){const u=n.position.end;n.position.end=o.position.end,a.position={start:l.position.start,end:u}}return e+1}}),V4=yn(function(n,e,t){if("children"in n&&n.children.length===0)return t.children.splice(e,1),e});function Ty(n,e){return t;function t(r){const i=[],s=r.children,a=r.type;let o=-1;const l=s.length-1;let u=0;for(;++o<s.length;)if(o===l||s[o].type===n&&e.test(Ht(s[o]))){const c=s[u],h=s[o],f={type:a,children:s.slice(u,o+1)};c.position&&h.position&&(f.position={start:c.position.start,end:h.position.end}),i.push(f),u=o+1}return i}}function oc(n){const e=n.type,t=n.tokenizer,r=n.delimiter,i=r&&Ty(n.delimiterType,r);return s;function s(a){const o=this[t](a);return{type:e,children:i?i(o):o}}}class mn{constructor(e,t){const r=t||e;this.doc=r?String(r):null}run(e,t){const r=e+"Plugins",i=this[r];let s=-1;if(i)for(;i[++s];)i[s](t);return t}parse(e){return this.tokenizeRoot(e||this.doc)}tokenize(e){const t=[];if(e==null?e="":e instanceof String&&(e=e.toString()),typeof e!="string"){if("length"in e&&(!e[0]||e[0].type))return e;throw new Error("Illegal invocation: '"+e+"' is not a valid argument for 'ParseLatin'")}if(!e)return t;const r=this.position?T:E;let i=0,s=0,a=1,o=1,l="",u="",c,h,f;for(;i<e.length;)f=e.charAt(i),ry.test(f)?h="WhiteSpace":ty.test(f)?h="Punctuation":ny.test(f)?h="Word":h="Symbol",d.call(this),l=f,f="",c=h,h=null,i++;return d.call(this),t;function d(){c===h&&(c==="Word"||c==="WhiteSpace"||f===l||ey.test(f))?u+=f:(u&&this["tokenize"+c](u,r),u=f)}function T(M){const y=p();return A(M),C;function C(...B){return y(g(...B))}}function E(){return g}function g(M,y){return y?y.children.push(M):t.push(M),M}function p(){const M=D();function y(C){return C.position=new _(M),C}return y}function A(M){let y=-1,C=-1;for(s+=M.length;++y<M.length;)M.charAt(y)===`
`&&(C=y,a++);C<0?o+=M.length:o=M.length-C}function _(M){this.start=M,this.end=D()}function D(){return{line:a,column:o,offset:s}}}}mn.prototype.position=!0;mn.prototype.tokenizeSymbol=to("Symbol");mn.prototype.tokenizeWhiteSpace=to("WhiteSpace");mn.prototype.tokenizePunctuation=to("Punctuation");mn.prototype.tokenizeSource=to("Source");mn.prototype.tokenizeText=to("Text");mn.prototype.use=W4(function(n,e,t){n[e]=n[e].concat(t)});mn.prototype.useFirst=W4(function(n,e,t){n[e]=t.concat(n[e])});t0(mn,"tokenizeWord",function(n,e){const t=(e||q4)(""),r={type:"WordNode",children:[]};return this.tokenizeText(n,e,r),t(r)});t0(mn,"tokenizeSentence",oc({type:"SentenceNode",tokenizer:"tokenize"}));t0(mn,"tokenizeParagraph",oc({type:"ParagraphNode",delimiter:z4,delimiterType:"PunctuationNode",tokenizer:"tokenizeSentence"}));t0(mn,"tokenizeRoot",oc({type:"RootNode",delimiter:$A,delimiterType:"WhiteSpaceNode",tokenizer:"tokenizeParagraph"}));mn.prototype.use("tokenizeSentence",[XA,YA,iy,ay,oy,ly,ac]);mn.prototype.use("tokenizeParagraph",[uy,cy,hy,fy,py,my,gy,H4,G4,Ey,V4,ac]);mn.prototype.use("tokenizeRoot",[H4,G4,V4,ac]);function to(n){return n+="Node",e;function e(t,r,i){return t==null&&(t=""),(r||q4)(t)({type:n,value:String(t)},i)}}function t0(n,e,t){n.prototype[e]=function(...r){return this.run(e,t.apply(this,r))}}function W4(n){return e;function e(t,r){if(!(t in this))throw new Error("Illegal Invocation: Unsupported `key` for `use(key, plugins)`. Make sure `key` is a supported function");if(!r)return;const i=t+"Plugins";r=typeof r=="function"?[r]:r.concat(),this[i]||(this[i]=[]),n(this,i,r)}}function _y(n,e){return e&&e.children.push(n),n}function q4(){return _y}function vy(){Object.assign(this,{Parser:VA(mn)})}function xy(){Object.assign(this,{Compiler:Ay})}function Ay(n){return Ht(n)}const yy=Yu().use(vy).use(xy).freeze();const Sy=!0,Sd=!1,by="skip",My=function(n,e,t,r){typeof e=="function"&&typeof t!="function"&&(r=t,t=e,e=null);const i=di(e),s=r?-1:1;a(n,void 0,[])();function a(o,l,u){const c=o&&typeof o=="object"?o:{};if(typeof c.type=="string"){const f=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(o.type+(f?"<"+f+">":""))+")"})}return h;function h(){let f=[],d,T,E;if((!e||i(o,l,u[u.length-1]||null))&&(f=Cy(t(o,u)),f[0]===Sd))return f;if(o.children&&f[0]!==by)for(T=(r?o.children.length:-1)+s,E=u.concat(o);T>-1&&T<o.children.length;){if(d=a(o.children[T],T,E)(),d[0]===Sd)return d;T=typeof d[1]=="number"?d[1]:T+s}return f}}};function Cy(n){return Array.isArray(n)?n:typeof n=="number"?[Sy,n]:[n]}const Dy=function(n,e,t,r){typeof e=="function"&&typeof t!="function"&&(r=t,t=e,e=null),My(n,e,i,r);function i(s,a){const o=a[a.length-1];return t(s,o?o.children.indexOf(s):null,o)}};const wy=!0,bd=!1,Ry="skip",Ny=function(n,e,t,r){typeof e=="function"&&typeof t!="function"&&(r=t,t=e,e=null);const i=di(e),s=r?-1:1;a(n,void 0,[])();function a(o,l,u){const c=o&&typeof o=="object"?o:{};if(typeof c.type=="string"){const f=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(o.type+(f?"<"+f+">":""))+")"})}return h;function h(){let f=[],d,T,E;if((!e||i(o,l,u[u.length-1]||null))&&(f=Iy(t(o,u)),f[0]===bd))return f;if(o.children&&f[0]!==Ry)for(T=(r?o.children.length:-1)+s,E=u.concat(o);T>-1&&T<o.children.length;){if(d=a(o.children[T],T,E)(),d[0]===bd)return d;T=typeof d[1]=="number"?d[1]:T+s}return f}}};function Iy(n){return Array.isArray(n)?n:typeof n=="number"?[wy,n]:[n]}const Ly=function(n,e,t,r){typeof e=="function"&&typeof t!="function"&&(r=t,t=e,e=null),Ny(n,e,i,r);function i(s,a){const o=a[a.length-1];return t(s,o?o.children.indexOf(s):null,o)}},Fy={'"':"”","'":"’"},Py={'"':"“","'":"‘"};function Oy(n){const e=n.closingQuotes?{'"':n.closingQuotes.double,"'":n.closingQuotes.single}:Fy,t=n.openingQuotes?{'"':n.openingQuotes.double,"'":n.openingQuotes.single}:Py,r={dashes:{true(i){i.value==="--"&&(i.value="—")},oldschool(i){i.value==="---"?i.value="—":i.value==="--"&&(i.value="–")},inverted(i){i.value==="---"?i.value="–":i.value==="--"&&(i.value="—")}},backticks:{true(i){i.value==="``"?i.value="“":i.value==="''"&&(i.value="”")},all(i,s,a){r.backticks.true(i,s,a),i.value==="`"?i.value="‘":i.value==="'"&&(i.value="’")}},ellipses:{true(i,s,a){const o=i.value,l=a.children;if(/^\.{3,}$/.test(i.value)){i.value="…";return}if(!/^\.+$/.test(o))return;const u=[];let c=s,h=1;for(;--c>0;){let f=l[c];if(f.type!=="WhiteSpaceNode")break;const d=f;if(f=l[--c],f&&(f.type==="PunctuationNode"||f.type==="SymbolNode")&&/^\.+$/.test(f.value)){u.push(d,f),h++;continue}break}h<3||(l.splice(s-u.length,u.length),i.value="…")}},quotes:{true(i,s,a){const o=a.children,l=i.value;if(l!=='"'&&l!=="'")return;const u=o[s-1],c=o[s+1],h=o[s+2],f=c&&Ht(c);c&&h&&(c.type==="PunctuationNode"||c.type==="SymbolNode")&&h.type!=="WordNode"?i.value=e[l]:h&&(f==='"'||f==="'")&&h.type==="WordNode"?(i.value=t[l],c.value=t[f]):c&&/^\d\ds$/.test(f)?i.value=e[l]:u&&c&&(u.type==="WhiteSpaceNode"||u.type==="PunctuationNode"||u.type==="SymbolNode")&&c.type==="WordNode"?i.value=t[l]:u&&u.type!=="WhiteSpaceNode"&&u.type!=="SymbolNode"&&u.type!=="PunctuationNode"||!c||c.type==="WhiteSpaceNode"||l==="'"&&f==="s"?i.value=e[l]:i.value=t[l]}}};return r}function ky(n={}){const e=[];let t,r,i,s;if("quotes"in n){if(t=n.quotes,t!==!!t)throw new TypeError("Illegal invocation: `"+t+"` is not a valid value for `quotes` in `smartypants`")}else t=!0;if("ellipses"in n){if(r=n.ellipses,r!==!!r)throw new TypeError("Illegal invocation: `"+r+"` is not a valid value for `ellipses` in `smartypants`")}else r=!0;if("backticks"in n){if(i=n.backticks,i!==!!i&&i!=="all")throw new TypeError("Illegal invocation: `"+i+"` is not a valid value for `backticks` in `smartypants`");if(i==="all"&&t===!0)throw new TypeError("Illegal invocation: `backticks: "+i+"` is not a valid value when `quotes: "+t+"` in `smartypants`")}else i=!0;if("dashes"in n){if(s=n.dashes,s!==!!s&&s!=="oldschool"&&s!=="inverted")throw new TypeError("Illegal invocation: `"+s+"` is not a valid value for `dahes` in `smartypants`")}else s=!0;const a=Oy(n);return t!==!1&&e.push(a.quotes.true),r!==!1&&e.push(a.ellipses.true),i!==!1&&e.push(a.backticks[i===!0?"true":i]),s!==!1&&e.push(a.dashes[s===!0?"true":s]),o=>{Ly(o,(l,u,c)=>{let h=-1;if(l.type==="PunctuationNode"||l.type==="SymbolNode")for(;++h<e.length;)e[h](l,u,c)})}}function By(n){const e=yy().use(ky,n);return r=>{Dy(r,"text",i=>{i.value=String(e.processSync(i.value))})}}const X4=function(n){if(n==null)return Gy;if(typeof n=="function")return n0(n);if(typeof n=="object")return Array.isArray(n)?Uy(n):zy(n);if(typeof n=="string")return Hy(n);throw new Error("Expected function, string, or object as test")};function Uy(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=X4(n[t]);return n0(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function zy(n){const e=n;return n0(t);function t(r){const i=r;let s;for(s in n)if(i[s]!==e[s])return!1;return!0}}function Hy(n){return n0(e);function e(t){return t&&t.type===n}}function n0(n){return e;function e(t,r,i){return!!(Vy(t)&&n.call(this,t,typeof r=="number"?r:void 0,i||void 0))}}function Gy(){return!0}function Vy(n){return n!==null&&typeof n=="object"&&"type"in n}const Y4=[],Wy=!0,Md=!1,qy="skip";function Xy(n,e,t,r){let i;typeof e=="function"&&typeof t!="function"?(r=t,t=e):i=e;const s=X4(i),a=r?-1:1;o(n,void 0,[])();function o(l,u,c){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const d=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(d?"<"+d+">":""))+")"})}return f;function f(){let d=Y4,T,E,g;if((!e||s(l,u,c[c.length-1]||void 0))&&(d=Yy(t(l,c)),d[0]===Md))return d;if("children"in l&&l.children){const p=l;if(p.children&&d[0]!==qy)for(E=(r?p.children.length:-1)+a,g=c.concat(p);E>-1&&E<p.children.length;){const A=p.children[E];if(T=o(A,E,g)(),T[0]===Md)return T;E=typeof T[1]=="number"?T[1]:E+a}}return d}}}function Yy(n){return Array.isArray(n)?n:typeof n=="number"?[Wy,n]:n==null?Y4:[n]}function Ky(n,e,t,r){let i,s,a;typeof e=="function"&&typeof t!="function"?(s=void 0,a=e,i=t):(s=e,a=t,i=r),Xy(n,s,o,i);function o(l,u){const c=u[u.length-1],h=c?c.children.indexOf(l):void 0;return a(l,h,c)}}const $y=({id:n})=>Ge.jsx(an,{component:"a",marginTop:"-96px",position:"absolute",id:n}),Cd={anchorWrapper:{"&:hover>a":{display:"inline-block"}},anchorSource:n=>({color:n.palette.text.primary,display:"none",padding:"0 8px","& svg":{fill:"currentColor",width:"0.7em"},"&:hover":{color:n.palette.primary.main}})},lc=({id:n,disableTarget:e,children:t})=>Ge.jsxs(an,{sx:Cd.anchorWrapper,children:[!e&&Ge.jsx($y,{id:n}),t,Ge.jsx(an,{component:"a",sx:Cd.anchorSource,href:`#${n}`,"aria-label":"anchor",children:Ge.jsx("svg",{viewBox:"0 0 16 16",children:Ge.jsx("path",{d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"})})})]}),uc=n=>{const e=un.Children.toArray(n)[0];return e?rs.makeURL(e):""},jy=({children:n})=>Ge.jsx(Vn,{variant:"h4",gutterBottom:!0,children:Ge.jsx(lc,{id:uc(n),children:n})}),Qy=({children:n})=>Ge.jsx(Vn,{variant:"h5",gutterBottom:!0,children:Ge.jsx(lc,{id:uc(n),children:n})}),Zy=({children:n})=>Ge.jsx(Vn,{variant:"h6",gutterBottom:!0,children:Ge.jsx(lc,{id:uc(n),children:n})}),Jy={overflowWrap:"anywhere"},eS=({children:n})=>Ge.jsx(Vn,{variant:"body1",sx:Jy,paragraph:!0,children:n}),tS={fontSize:16,lineHeight:"1rem"},nS=({children:n})=>Ge.jsx(an,{component:"code",sx:tS,children:n}),rS=({children:n})=>Ge.jsx(Vn,{variant:"body1",component:"ul",paragraph:!0,children:n}),iS=({children:n})=>Ge.jsx(Vn,{variant:"body1",component:"ol",paragraph:!0,children:n}),sS={width:"100%",marginBottom:2,tableLayout:"fixed"},aS=({children:n})=>Ge.jsx(an,{component:"table",sx:sS,children:n}),oS=({href:n,children:e})=>Ge.jsx(um,{to:n,children:e}),lS=({href:n,children:e})=>Ge.jsx(P2,{to:n,children:e}),uS=()=>Ge.jsx(um,{to:cm.courseSettings.piazzaURL,children:"Piazza"});var tu;(n=>{n.useMarkdown=(i,s)=>{const[a,o]=un.useState();un.useEffect(()=>{(async()=>{const h=await t9(Object.assign({"../Content/Overview.md":()=>lm(()=>import("./Overview-ad3a77fa.js"),[])}),`../Content/${i}.md`);o(h)})()},[i]);const{reactElement:l,headings:u=[]}=t(a==null?void 0:a.markdown,s);return{markdownAsReactElement:l,headings:u}};const e={},t=(i,s=e)=>{const[a,o]=un.useState({});return un.useEffect(()=>{i&&Yu().use(Kx).use(r).use(By,{dashes:"oldschool"}).use(zA,{allowDangerousHtml:!0}).use(ZT).use(Wg).use(xT,{plugins:["line-numbers"]}).use(G_,{createElement:un.createElement,Fragment:un.Fragment,components:{h1:jy,h2:Qy,h3:Zy,p:eS,code:nS,ul:rS,ol:iS,a:oS,table:aS,"internal-link":lS,"piazza-link":uS,...s}}).process(i).then(l=>{o({reactElement:l.result,headings:l.data.headings})})},[i,s]),a},r=()=>(i,s)=>{const a=[];Ky(i,"heading",o=>{var u;const l=(u=o.children.find(c=>c.type==="text"))==null?void 0:u.value;l&&a.push({depth:o.depth,value:l})}),s.data.headings=a}})(tu||(tu={}));const cS=n=>({maxWidth:1200,margin:"auto",paddingTop:n.spacing(2),paddingBottom:n.spacing(2),paddingLeft:n.spacing(3),paddingRight:n.spacing(3),[n.breakpoints.up("sm")]:{paddingTop:n.spacing(3),paddingBottom:n.spacing(3),paddingLeft:n.spacing(4),paddingRight:n.spacing(4)}}),K4=({children:n})=>Ge.jsx(an,{sx:cS,children:n}),Sr={container:{minWidth:"275px",maxWidth:"275px",flex:"initial",position:"relative","@media screen and (max-width: 767.95px)":{display:"none"}},scrollBox:{position:"sticky",top:0,maxHeight:"calc(100vh - 68px)",overflowY:"auto",scrollBehavior:"smooth"},header:{paddingLeft:1,borderLeft:"4px solid transparent"},contentList:{margin:0,padding:0,listStyle:"none"},contentItemBase:n=>({fontSize:"14px",color:"unset",textDecoration:"none !important",boxSizing:"content-box",display:"block",paddingTop:.5,paddingBottom:.5,paddingLeft:1,borderLeft:"4px solid transparent","&:hover":{borderLeft:`4px solid ${n.palette.grey[400]}`}}),contentItemActive:n=>({borderLeft:`4px solid ${n.palette.primary.main} !important`,fontWeight:600}),nestedItem:n=>({paddingLeft:`${n.spacing(2.5)}px !important`})},Dd=16,hS=({headings:n=[]})=>{const e=O2("(min-width:768px)",{defaultMatches:!0}),t=un.useContext(k2),r=un.useRef(null),i=un.useRef(new Map),[s,a]=un.useState(-1);un.useLayoutEffect(()=>{if(!e||!t)return;let l=[];const u=rs.withThrottling(()=>{const h=t.scrollTop+Dd,f=s>=0&&s<l.length?l[s]:-1;let d=s;if(h<=Dd||l.length>0&&h<l[0])d=-1;else{if(h===f)return;if(h>f)for(let T=s+1;T<l.length&&h>=l[T];T++)d=T;else for(let T=s-1;T>=0;T--)if(h>=l[T]){d=T;break}}if(s!==d&&(a(d),r.current))if(d>=0){const T=i.current.get(n[d].value);if(!T)return;const E=rs.windowHeight(),g=T.getBoundingClientRect().top;if(g<E*.25){const p=g-E*.667;r.current.scrollTop+=p}else if(g>E*.75){const p=g-E*.333;r.current.scrollTop+=p}}else r.current.scrollTop!==0&&(r.current.scrollTop=0)},50),c=rs.withThrottling(()=>{l=n.map(({value:h})=>{const f=document.getElementById(rs.makeURL(h));return f&&f.offsetTop||0}),u()},500);return t.addEventListener("scroll",u,!1),t.addEventListener("resize",c,!1),c(),function(){t.removeEventListener("scroll",u),t.removeEventListener("resize",c)}},[t,s,n,e]);const o=un.useMemo(()=>{const{result:l,subHeaderBuffer:u}=n.reduce(({result:c,subHeaderBuffer:h},{value:f,depth:d},T)=>d>2?(h.push({value:f,index:T}),{result:c,subHeaderBuffer:h}):(h.length>0&&c.push({values:h,depth:2}),c.push({values:[{value:f,index:T}],depth:1}),{result:c,subHeaderBuffer:[]}),{result:[],subHeaderBuffer:[]});return u.length>0&&l.push({values:u,depth:2}),l},[n]);return e?Ge.jsx(an,{sx:Sr.container,children:Ge.jsx(an,{sx:Sr.scrollBox,ref:r,children:Ge.jsxs(K4,{children:[Ge.jsx(Vn,{variant:"subtitle1",sx:Sr.header,children:"Contents"}),Ge.jsx(an,{component:"ul",sx:Sr.contentList,children:o.map(({values:l,depth:u},c)=>{if(u>1)return Ge.jsx("li",{children:Ge.jsx(an,{component:"ul",sx:Sr.contentList,children:l.map(({value:h,index:f})=>Ge.jsx(Vn,{color:f===s?"textPrimary":"textSecondary",component:"li",children:Ge.jsx(an,{component:"a",sx:[Sr.contentItemBase,Sr.nestedItem,f===s&&Sr.contentItemActive],href:`#${rs.makeURL(h)}`,ref:d=>{d&&i.current.set(h,d)},children:h})},h))})},`${c}-${u}`);if(l[0]){const{value:h,index:f}=l[0];return Ge.jsx(Vn,{color:f===s?"textPrimary":"textSecondary",component:"li",children:Ge.jsx(an,{component:"a",sx:[Sr.contentItemBase,f===s&&Sr.contentItemActive],href:`#${rs.makeURL(h)}`,ref:d=>{d&&i.current.set(h,d)},children:h})},h)}})})]})})}):null},fS=({title:n,subtitle:e,markdownSrc:t,components:r,noTableOfContents:i})=>{const{markdownAsReactElement:s,headings:a}=tu.useMarkdown(t,r);return Ge.jsx(an,{display:"flex",children:s?Ge.jsxs(Ge.Fragment,{children:[Ge.jsx(an,{flexGrow:1,minWidth:0,children:Ge.jsxs(K4,{children:[n&&Ge.jsxs(Ge.Fragment,{children:[Ge.jsx(Vn,{variant:"h3",gutterBottom:!e,children:n}),e&&Ge.jsx(Vn,{variant:"h6",color:"textSecondary",gutterBottom:!0,children:e})]}),s]})}),!i&&Ge.jsx(hS,{headings:a})]}):Ge.jsx(B2,{})})};/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const cc="155",dS=0,wd=1,pS=2,$4=1,mS=2,Jr=3,zi=0,In=1,ti=2,Fi=0,Zs=1,Rd=2,Nd=3,Id=4,gS=5,Ws=100,ES=101,TS=102,Ld=103,Fd=104,_S=200,vS=201,xS=202,AS=203,j4=204,Q4=205,yS=206,SS=207,bS=208,MS=209,CS=210,DS=0,wS=1,RS=2,nu=3,NS=4,IS=5,LS=6,FS=7,Z4=0,PS=1,OS=2,Pi=0,kS=1,BS=2,US=3,zS=4,HS=5,J4=300,ta=301,na=302,ru=303,iu=304,r0=306,su=1e3,Er=1001,au=1002,_n=1003,Pd=1004,Z0=1005,Qn=1006,GS=1007,Wa=1008,Oi=1009,VS=1010,WS=1011,hc=1012,e2=1013,Ni=1014,Ii=1015,qa=1016,t2=1017,n2=1018,cs=1020,qS=1021,Tr=1023,XS=1024,YS=1025,hs=1026,ra=1027,KS=1028,r2=1029,$S=1030,i2=1031,s2=1033,J0=33776,el=33777,tl=33778,nl=33779,Od=35840,kd=35841,Bd=35842,Ud=35843,jS=36196,zd=37492,Hd=37496,Gd=37808,Vd=37809,Wd=37810,qd=37811,Xd=37812,Yd=37813,Kd=37814,$d=37815,jd=37816,Qd=37817,Zd=37818,Jd=37819,ep=37820,tp=37821,rl=36492,QS=36283,np=36284,rp=36285,ip=36286,a2=3e3,fs=3001,ZS=3200,JS=3201,eb=0,tb=1,ds="",ct="srgb",Fr="srgb-linear",o2="display-p3",il=7680,nb=519,rb=512,ib=513,sb=514,ab=515,ob=516,lb=517,ub=518,cb=519,sp=35044,sl=35048,ap="300 es",ou=1035,ni=2e3,w1=2001;class ha{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,a=i.length;s<a;s++)i[s].call(this,e);e.target=null}}}const fn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],al=Math.PI/180,lu=180/Math.PI;function no(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(fn[n&255]+fn[n>>8&255]+fn[n>>16&255]+fn[n>>24&255]+"-"+fn[e&255]+fn[e>>8&255]+"-"+fn[e>>16&15|64]+fn[e>>24&255]+"-"+fn[t&63|128]+fn[t>>8&255]+"-"+fn[t>>16&255]+fn[t>>24&255]+fn[r&255]+fn[r>>8&255]+fn[r>>16&255]+fn[r>>24&255]).toLowerCase()}function Rn(n,e,t){return Math.max(e,Math.min(t,n))}function hb(n,e){return(n%e+e)%e}function ol(n,e,t){return(1-t)*n+t*e}function op(n){return(n&n-1)===0&&n!==0}function uu(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function ya(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function bn(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}class Ct{constructor(e=0,t=0){Ct.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Rn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*r-a*i+e.x,this.y=s*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ht{constructor(e,t,r,i,s,a,o,l,u){ht.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,a,o,l,u)}set(e,t,r,i,s,a,o,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=o,c[3]=t,c[4]=s,c[5]=l,c[6]=r,c[7]=a,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,a=r[0],o=r[3],l=r[6],u=r[1],c=r[4],h=r[7],f=r[2],d=r[5],T=r[8],E=i[0],g=i[3],p=i[6],A=i[1],_=i[4],D=i[7],M=i[2],y=i[5],C=i[8];return s[0]=a*E+o*A+l*M,s[3]=a*g+o*_+l*y,s[6]=a*p+o*D+l*C,s[1]=u*E+c*A+h*M,s[4]=u*g+c*_+h*y,s[7]=u*p+c*D+h*C,s[2]=f*E+d*A+T*M,s[5]=f*g+d*_+T*y,s[8]=f*p+d*D+T*C,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],c=e[8];return t*a*c-t*o*u-r*s*c+r*o*l+i*s*u-i*a*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],c=e[8],h=c*a-o*u,f=o*l-c*s,d=u*s-a*l,T=t*h+r*f+i*d;if(T===0)return this.set(0,0,0,0,0,0,0,0,0);const E=1/T;return e[0]=h*E,e[1]=(i*u-c*r)*E,e[2]=(o*r-i*a)*E,e[3]=f*E,e[4]=(c*t-i*l)*E,e[5]=(i*s-o*t)*E,e[6]=d*E,e[7]=(r*l-u*t)*E,e[8]=(a*t-r*s)*E,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,a,o){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*a+u*o)+a+e,-i*u,i*l,-i*(-u*a+l*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(ll.makeScale(e,t)),this}rotate(e){return this.premultiply(ll.makeRotation(-e)),this}translate(e,t){return this.premultiply(ll.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const ll=new ht;function l2(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function Xa(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}const lp={};function za(n){n in lp||(lp[n]=!0,console.warn(n))}function Js(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function ul(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const fb=new ht().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),db=new ht().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function pb(n){return n.convertSRGBToLinear().applyMatrix3(db)}function mb(n){return n.applyMatrix3(fb).convertLinearToSRGB()}const gb={[Fr]:n=>n,[ct]:n=>n.convertSRGBToLinear(),[o2]:pb},Eb={[Fr]:n=>n,[ct]:n=>n.convertLinearToSRGB(),[o2]:mb},ur={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return Fr},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const r=gb[e],i=Eb[t];if(r===void 0||i===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return i(r(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let bs;class u2{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{bs===void 0&&(bs=Xa("canvas")),bs.width=e.width,bs.height=e.height;const r=bs.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=bs}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Xa("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let a=0;a<s.length;a++)s[a]=Js(s[a]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(Js(t[r]/255)*255):t[r]=Js(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Tb=0;class c2{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Tb++}),this.uuid=no(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let a=0,o=i.length;a<o;a++)i[a].isDataTexture?s.push(cl(i[a].image)):s.push(cl(i[a]))}else s=cl(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function cl(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?u2.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let _b=0;class Ln extends ha{constructor(e=Ln.DEFAULT_IMAGE,t=Ln.DEFAULT_MAPPING,r=Er,i=Er,s=Qn,a=Wa,o=Tr,l=Oi,u=Ln.DEFAULT_ANISOTROPY,c=ds){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:_b++}),this.uuid=no(),this.name="",this.source=new c2(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=a,this.anisotropy=u,this.format=o,this.internalFormat=null,this.type=l,this.offset=new Ct(0,0),this.repeat=new Ct(1,1),this.center=new Ct(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ht,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof c=="string"?this.colorSpace=c:(za("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=c===fs?ct:ds),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==J4)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case su:e.x=e.x-Math.floor(e.x);break;case Er:e.x=e.x<0?0:1;break;case au:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case su:e.y=e.y-Math.floor(e.y);break;case Er:e.y=e.y<0?0:1;break;case au:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return za("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===ct?fs:a2}set encoding(e){za("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===fs?ct:ds}}Ln.DEFAULT_IMAGE=null;Ln.DEFAULT_MAPPING=J4;Ln.DEFAULT_ANISOTROPY=1;class cn{constructor(e=0,t=0,r=0,i=1){cn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,a=e.elements;return this.x=a[0]*t+a[4]*r+a[8]*i+a[12]*s,this.y=a[1]*t+a[5]*r+a[9]*i+a[13]*s,this.z=a[2]*t+a[6]*r+a[10]*i+a[14]*s,this.w=a[3]*t+a[7]*r+a[11]*i+a[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,u=l[0],c=l[4],h=l[8],f=l[1],d=l[5],T=l[9],E=l[2],g=l[6],p=l[10];if(Math.abs(c-f)<.01&&Math.abs(h-E)<.01&&Math.abs(T-g)<.01){if(Math.abs(c+f)<.1&&Math.abs(h+E)<.1&&Math.abs(T+g)<.1&&Math.abs(u+d+p-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const _=(u+1)/2,D=(d+1)/2,M=(p+1)/2,y=(c+f)/4,C=(h+E)/4,B=(T+g)/4;return _>D&&_>M?_<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(_),i=y/r,s=C/r):D>M?D<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(D),r=y/i,s=B/i):M<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(M),r=C/s,i=B/s),this.set(r,i,s,t),this}let A=Math.sqrt((g-T)*(g-T)+(h-E)*(h-E)+(f-c)*(f-c));return Math.abs(A)<.001&&(A=1),this.x=(g-T)/A,this.y=(h-E)/A,this.z=(f-c)/A,this.w=Math.acos((u+d+p-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class vb extends ha{constructor(e=1,t=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new cn(0,0,e,t),this.scissorTest=!1,this.viewport=new cn(0,0,e,t);const i={width:e,height:t,depth:1};r.encoding!==void 0&&(za("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===fs?ct:ds),this.texture=new Ln(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:Qn,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new c2(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ps extends vb{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class h2 extends Ln{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=_n,this.minFilter=_n,this.wrapR=Er,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class xb extends Ln{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=_n,this.minFilter=_n,this.wrapR=Er,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ro{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,a,o){let l=r[i+0],u=r[i+1],c=r[i+2],h=r[i+3];const f=s[a+0],d=s[a+1],T=s[a+2],E=s[a+3];if(o===0){e[t+0]=l,e[t+1]=u,e[t+2]=c,e[t+3]=h;return}if(o===1){e[t+0]=f,e[t+1]=d,e[t+2]=T,e[t+3]=E;return}if(h!==E||l!==f||u!==d||c!==T){let g=1-o;const p=l*f+u*d+c*T+h*E,A=p>=0?1:-1,_=1-p*p;if(_>Number.EPSILON){const M=Math.sqrt(_),y=Math.atan2(M,p*A);g=Math.sin(g*y)/M,o=Math.sin(o*y)/M}const D=o*A;if(l=l*g+f*D,u=u*g+d*D,c=c*g+T*D,h=h*g+E*D,g===1-o){const M=1/Math.sqrt(l*l+u*u+c*c+h*h);l*=M,u*=M,c*=M,h*=M}}e[t]=l,e[t+1]=u,e[t+2]=c,e[t+3]=h}static multiplyQuaternionsFlat(e,t,r,i,s,a){const o=r[i],l=r[i+1],u=r[i+2],c=r[i+3],h=s[a],f=s[a+1],d=s[a+2],T=s[a+3];return e[t]=o*T+c*h+l*d-u*f,e[t+1]=l*T+c*f+u*h-o*d,e[t+2]=u*T+c*d+o*f-l*h,e[t+3]=c*T-o*h-l*f-u*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const r=e._x,i=e._y,s=e._z,a=e._order,o=Math.cos,l=Math.sin,u=o(r/2),c=o(i/2),h=o(s/2),f=l(r/2),d=l(i/2),T=l(s/2);switch(a){case"XYZ":this._x=f*c*h+u*d*T,this._y=u*d*h-f*c*T,this._z=u*c*T+f*d*h,this._w=u*c*h-f*d*T;break;case"YXZ":this._x=f*c*h+u*d*T,this._y=u*d*h-f*c*T,this._z=u*c*T-f*d*h,this._w=u*c*h+f*d*T;break;case"ZXY":this._x=f*c*h-u*d*T,this._y=u*d*h+f*c*T,this._z=u*c*T+f*d*h,this._w=u*c*h-f*d*T;break;case"ZYX":this._x=f*c*h-u*d*T,this._y=u*d*h+f*c*T,this._z=u*c*T-f*d*h,this._w=u*c*h+f*d*T;break;case"YZX":this._x=f*c*h+u*d*T,this._y=u*d*h+f*c*T,this._z=u*c*T-f*d*h,this._w=u*c*h-f*d*T;break;case"XZY":this._x=f*c*h-u*d*T,this._y=u*d*h-f*c*T,this._z=u*c*T+f*d*h,this._w=u*c*h+f*d*T;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],a=t[1],o=t[5],l=t[9],u=t[2],c=t[6],h=t[10],f=r+o+h;if(f>0){const d=.5/Math.sqrt(f+1);this._w=.25/d,this._x=(c-l)*d,this._y=(s-u)*d,this._z=(a-i)*d}else if(r>o&&r>h){const d=2*Math.sqrt(1+r-o-h);this._w=(c-l)/d,this._x=.25*d,this._y=(i+a)/d,this._z=(s+u)/d}else if(o>h){const d=2*Math.sqrt(1+o-r-h);this._w=(s-u)/d,this._x=(i+a)/d,this._y=.25*d,this._z=(l+c)/d}else{const d=2*Math.sqrt(1+h-r-o);this._w=(a-i)/d,this._x=(s+u)/d,this._y=(l+c)/d,this._z=.25*d}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Rn(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,a=e._w,o=t._x,l=t._y,u=t._z,c=t._w;return this._x=r*c+a*o+i*u-s*l,this._y=i*c+a*l+s*o-r*u,this._z=s*c+a*u+r*l-i*o,this._w=a*c-r*o-i*l-s*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,a=this._w;let o=a*e._w+r*e._x+i*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=r,this._y=i,this._z=s,this;const l=1-o*o;if(l<=Number.EPSILON){const d=1-t;return this._w=d*a+t*this._w,this._x=d*r+t*this._x,this._y=d*i+t*this._y,this._z=d*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),c=Math.atan2(u,o),h=Math.sin((1-t)*c)/u,f=Math.sin(t*c)/u;return this._w=a*h+this._w*f,this._x=r*h+this._x*f,this._y=i*h+this._y*f,this._z=s*h+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ne{constructor(e=0,t=0,r=0){ne.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(up.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(up.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,a=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*a,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*a,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*a,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,a=e.y,o=e.z,l=e.w,u=l*t+a*i-o*r,c=l*r+o*t-s*i,h=l*i+s*r-a*t,f=-s*t-a*r-o*i;return this.x=u*l+f*-s+c*-o-h*-a,this.y=c*l+f*-a+h*-s-u*-o,this.z=h*l+f*-o+u*-a-c*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,a=t.x,o=t.y,l=t.z;return this.x=i*l-s*o,this.y=s*a-r*l,this.z=r*o-i*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return hl.copy(this).projectOnVector(e),this.sub(hl)}reflect(e){return this.sub(hl.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Rn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const hl=new ne,up=new ro;class io{constructor(e=new ne(1/0,1/0,1/0),t=new ne(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(Yr.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(Yr.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Yr.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),Ms.copy(e.boundingBox),Ms.applyMatrix4(e.matrixWorld),this.union(Ms);else{const i=e.geometry;if(i!==void 0)if(t&&i.attributes!==void 0&&i.attributes.position!==void 0){const s=i.attributes.position;for(let a=0,o=s.count;a<o;a++)Yr.fromBufferAttribute(s,a).applyMatrix4(e.matrixWorld),this.expandByPoint(Yr)}else i.boundingBox===null&&i.computeBoundingBox(),Ms.copy(i.boundingBox),Ms.applyMatrix4(e.matrixWorld),this.union(Ms)}const r=e.children;for(let i=0,s=r.length;i<s;i++)this.expandByObject(r[i],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Yr),Yr.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Sa),Po.subVectors(this.max,Sa),Cs.subVectors(e.a,Sa),Ds.subVectors(e.b,Sa),ws.subVectors(e.c,Sa),yi.subVectors(Ds,Cs),Si.subVectors(ws,Ds),Ji.subVectors(Cs,ws);let t=[0,-yi.z,yi.y,0,-Si.z,Si.y,0,-Ji.z,Ji.y,yi.z,0,-yi.x,Si.z,0,-Si.x,Ji.z,0,-Ji.x,-yi.y,yi.x,0,-Si.y,Si.x,0,-Ji.y,Ji.x,0];return!fl(t,Cs,Ds,ws,Po)||(t=[1,0,0,0,1,0,0,0,1],!fl(t,Cs,Ds,ws,Po))?!1:(Oo.crossVectors(yi,Si),t=[Oo.x,Oo.y,Oo.z],fl(t,Cs,Ds,ws,Po))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Yr).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Yr).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Xr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Xr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Xr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Xr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Xr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Xr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Xr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Xr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Xr),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Xr=[new ne,new ne,new ne,new ne,new ne,new ne,new ne,new ne],Yr=new ne,Ms=new io,Cs=new ne,Ds=new ne,ws=new ne,yi=new ne,Si=new ne,Ji=new ne,Sa=new ne,Po=new ne,Oo=new ne,es=new ne;function fl(n,e,t,r,i){for(let s=0,a=n.length-3;s<=a;s+=3){es.fromArray(n,s);const o=i.x*Math.abs(es.x)+i.y*Math.abs(es.y)+i.z*Math.abs(es.z),l=e.dot(es),u=t.dot(es),c=r.dot(es);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>o)return!1}return!0}const Ab=new io,ba=new ne,dl=new ne;class so{constructor(e=new ne,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):Ab.setFromPoints(e).getCenter(r);let i=0;for(let s=0,a=e.length;s<a;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;ba.subVectors(e,this.center);const t=ba.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(ba,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(dl.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(ba.copy(e.center).add(dl)),this.expandByPoint(ba.copy(e.center).sub(dl))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Kr=new ne,pl=new ne,ko=new ne,bi=new ne,ml=new ne,Bo=new ne,gl=new ne;class fc{constructor(e=new ne,t=new ne(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Kr)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Kr.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Kr.copy(this.origin).addScaledVector(this.direction,t),Kr.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){pl.copy(e).add(t).multiplyScalar(.5),ko.copy(t).sub(e).normalize(),bi.copy(this.origin).sub(pl);const s=e.distanceTo(t)*.5,a=-this.direction.dot(ko),o=bi.dot(this.direction),l=-bi.dot(ko),u=bi.lengthSq(),c=Math.abs(1-a*a);let h,f,d,T;if(c>0)if(h=a*l-o,f=a*o-l,T=s*c,h>=0)if(f>=-T)if(f<=T){const E=1/c;h*=E,f*=E,d=h*(h+a*f+2*o)+f*(a*h+f+2*l)+u}else f=s,h=Math.max(0,-(a*f+o)),d=-h*h+f*(f+2*l)+u;else f=-s,h=Math.max(0,-(a*f+o)),d=-h*h+f*(f+2*l)+u;else f<=-T?(h=Math.max(0,-(-a*s+o)),f=h>0?-s:Math.min(Math.max(-s,-l),s),d=-h*h+f*(f+2*l)+u):f<=T?(h=0,f=Math.min(Math.max(-s,-l),s),d=f*(f+2*l)+u):(h=Math.max(0,-(a*s+o)),f=h>0?s:Math.min(Math.max(-s,-l),s),d=-h*h+f*(f+2*l)+u);else f=a>0?-s:s,h=Math.max(0,-(a*f+o)),d=-h*h+f*(f+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,h),i&&i.copy(pl).addScaledVector(ko,f),d}intersectSphere(e,t){Kr.subVectors(e.center,this.origin);const r=Kr.dot(this.direction),i=Kr.dot(Kr)-r*r,s=e.radius*e.radius;if(i>s)return null;const a=Math.sqrt(s-i),o=r-a,l=r+a;return l<0?null:o<0?this.at(l,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,a,o,l;const u=1/this.direction.x,c=1/this.direction.y,h=1/this.direction.z,f=this.origin;return u>=0?(r=(e.min.x-f.x)*u,i=(e.max.x-f.x)*u):(r=(e.max.x-f.x)*u,i=(e.min.x-f.x)*u),c>=0?(s=(e.min.y-f.y)*c,a=(e.max.y-f.y)*c):(s=(e.max.y-f.y)*c,a=(e.min.y-f.y)*c),r>a||s>i||((s>r||isNaN(r))&&(r=s),(a<i||isNaN(i))&&(i=a),h>=0?(o=(e.min.z-f.z)*h,l=(e.max.z-f.z)*h):(o=(e.max.z-f.z)*h,l=(e.min.z-f.z)*h),r>l||o>i)||((o>r||r!==r)&&(r=o),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Kr)!==null}intersectTriangle(e,t,r,i,s){ml.subVectors(t,e),Bo.subVectors(r,e),gl.crossVectors(ml,Bo);let a=this.direction.dot(gl),o;if(a>0){if(i)return null;o=1}else if(a<0)o=-1,a=-a;else return null;bi.subVectors(this.origin,e);const l=o*this.direction.dot(Bo.crossVectors(bi,Bo));if(l<0)return null;const u=o*this.direction.dot(ml.cross(bi));if(u<0||l+u>a)return null;const c=-o*bi.dot(gl);return c<0?null:this.at(c/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Jt{constructor(e,t,r,i,s,a,o,l,u,c,h,f,d,T,E,g){Jt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,a,o,l,u,c,h,f,d,T,E,g)}set(e,t,r,i,s,a,o,l,u,c,h,f,d,T,E,g){const p=this.elements;return p[0]=e,p[4]=t,p[8]=r,p[12]=i,p[1]=s,p[5]=a,p[9]=o,p[13]=l,p[2]=u,p[6]=c,p[10]=h,p[14]=f,p[3]=d,p[7]=T,p[11]=E,p[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Jt().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/Rs.setFromMatrixColumn(e,0).length(),s=1/Rs.setFromMatrixColumn(e,1).length(),a=1/Rs.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*a,t[9]=r[9]*a,t[10]=r[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,a=Math.cos(r),o=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const f=a*c,d=a*h,T=o*c,E=o*h;t[0]=l*c,t[4]=-l*h,t[8]=u,t[1]=d+T*u,t[5]=f-E*u,t[9]=-o*l,t[2]=E-f*u,t[6]=T+d*u,t[10]=a*l}else if(e.order==="YXZ"){const f=l*c,d=l*h,T=u*c,E=u*h;t[0]=f+E*o,t[4]=T*o-d,t[8]=a*u,t[1]=a*h,t[5]=a*c,t[9]=-o,t[2]=d*o-T,t[6]=E+f*o,t[10]=a*l}else if(e.order==="ZXY"){const f=l*c,d=l*h,T=u*c,E=u*h;t[0]=f-E*o,t[4]=-a*h,t[8]=T+d*o,t[1]=d+T*o,t[5]=a*c,t[9]=E-f*o,t[2]=-a*u,t[6]=o,t[10]=a*l}else if(e.order==="ZYX"){const f=a*c,d=a*h,T=o*c,E=o*h;t[0]=l*c,t[4]=T*u-d,t[8]=f*u+E,t[1]=l*h,t[5]=E*u+f,t[9]=d*u-T,t[2]=-u,t[6]=o*l,t[10]=a*l}else if(e.order==="YZX"){const f=a*l,d=a*u,T=o*l,E=o*u;t[0]=l*c,t[4]=E-f*h,t[8]=T*h+d,t[1]=h,t[5]=a*c,t[9]=-o*c,t[2]=-u*c,t[6]=d*h+T,t[10]=f-E*h}else if(e.order==="XZY"){const f=a*l,d=a*u,T=o*l,E=o*u;t[0]=l*c,t[4]=-h,t[8]=u*c,t[1]=f*h+E,t[5]=a*c,t[9]=d*h-T,t[2]=T*h-d,t[6]=o*c,t[10]=E*h+f}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(yb,e,Sb)}lookAt(e,t,r){const i=this.elements;return Bn.subVectors(e,t),Bn.lengthSq()===0&&(Bn.z=1),Bn.normalize(),Mi.crossVectors(r,Bn),Mi.lengthSq()===0&&(Math.abs(r.z)===1?Bn.x+=1e-4:Bn.z+=1e-4,Bn.normalize(),Mi.crossVectors(r,Bn)),Mi.normalize(),Uo.crossVectors(Bn,Mi),i[0]=Mi.x,i[4]=Uo.x,i[8]=Bn.x,i[1]=Mi.y,i[5]=Uo.y,i[9]=Bn.y,i[2]=Mi.z,i[6]=Uo.z,i[10]=Bn.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,a=r[0],o=r[4],l=r[8],u=r[12],c=r[1],h=r[5],f=r[9],d=r[13],T=r[2],E=r[6],g=r[10],p=r[14],A=r[3],_=r[7],D=r[11],M=r[15],y=i[0],C=i[4],B=i[8],S=i[12],I=i[1],V=i[5],Y=i[9],X=i[13],j=i[2],q=i[6],he=i[10],ae=i[14],ie=i[3],ce=i[7],R=i[11],K=i[15];return s[0]=a*y+o*I+l*j+u*ie,s[4]=a*C+o*V+l*q+u*ce,s[8]=a*B+o*Y+l*he+u*R,s[12]=a*S+o*X+l*ae+u*K,s[1]=c*y+h*I+f*j+d*ie,s[5]=c*C+h*V+f*q+d*ce,s[9]=c*B+h*Y+f*he+d*R,s[13]=c*S+h*X+f*ae+d*K,s[2]=T*y+E*I+g*j+p*ie,s[6]=T*C+E*V+g*q+p*ce,s[10]=T*B+E*Y+g*he+p*R,s[14]=T*S+E*X+g*ae+p*K,s[3]=A*y+_*I+D*j+M*ie,s[7]=A*C+_*V+D*q+M*ce,s[11]=A*B+_*Y+D*he+M*R,s[15]=A*S+_*X+D*ae+M*K,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],a=e[1],o=e[5],l=e[9],u=e[13],c=e[2],h=e[6],f=e[10],d=e[14],T=e[3],E=e[7],g=e[11],p=e[15];return T*(+s*l*h-i*u*h-s*o*f+r*u*f+i*o*d-r*l*d)+E*(+t*l*d-t*u*f+s*a*f-i*a*d+i*u*c-s*l*c)+g*(+t*u*h-t*o*d-s*a*h+r*a*d+s*o*c-r*u*c)+p*(-i*o*c-t*l*h+t*o*f+i*a*h-r*a*f+r*l*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],c=e[8],h=e[9],f=e[10],d=e[11],T=e[12],E=e[13],g=e[14],p=e[15],A=h*g*u-E*f*u+E*l*d-o*g*d-h*l*p+o*f*p,_=T*f*u-c*g*u-T*l*d+a*g*d+c*l*p-a*f*p,D=c*E*u-T*h*u+T*o*d-a*E*d-c*o*p+a*h*p,M=T*h*l-c*E*l-T*o*f+a*E*f+c*o*g-a*h*g,y=t*A+r*_+i*D+s*M;if(y===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const C=1/y;return e[0]=A*C,e[1]=(E*f*s-h*g*s-E*i*d+r*g*d+h*i*p-r*f*p)*C,e[2]=(o*g*s-E*l*s+E*i*u-r*g*u-o*i*p+r*l*p)*C,e[3]=(h*l*s-o*f*s-h*i*u+r*f*u+o*i*d-r*l*d)*C,e[4]=_*C,e[5]=(c*g*s-T*f*s+T*i*d-t*g*d-c*i*p+t*f*p)*C,e[6]=(T*l*s-a*g*s-T*i*u+t*g*u+a*i*p-t*l*p)*C,e[7]=(a*f*s-c*l*s+c*i*u-t*f*u-a*i*d+t*l*d)*C,e[8]=D*C,e[9]=(T*h*s-c*E*s-T*r*d+t*E*d+c*r*p-t*h*p)*C,e[10]=(a*E*s-T*o*s+T*r*u-t*E*u-a*r*p+t*o*p)*C,e[11]=(c*o*s-a*h*s-c*r*u+t*h*u+a*r*d-t*o*d)*C,e[12]=M*C,e[13]=(c*E*i-T*h*i+T*r*f-t*E*f-c*r*g+t*h*g)*C,e[14]=(T*o*i-a*E*i-T*r*l+t*E*l+a*r*g-t*o*g)*C,e[15]=(a*h*i-c*o*i+c*r*l-t*h*l-a*r*f+t*o*f)*C,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,a=e.x,o=e.y,l=e.z,u=s*a,c=s*o;return this.set(u*a+r,u*o-i*l,u*l+i*o,0,u*o+i*l,c*o+r,c*l-i*a,0,u*l-i*o,c*l+i*a,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,a){return this.set(1,r,s,0,e,1,a,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,a=t._y,o=t._z,l=t._w,u=s+s,c=a+a,h=o+o,f=s*u,d=s*c,T=s*h,E=a*c,g=a*h,p=o*h,A=l*u,_=l*c,D=l*h,M=r.x,y=r.y,C=r.z;return i[0]=(1-(E+p))*M,i[1]=(d+D)*M,i[2]=(T-_)*M,i[3]=0,i[4]=(d-D)*y,i[5]=(1-(f+p))*y,i[6]=(g+A)*y,i[7]=0,i[8]=(T+_)*C,i[9]=(g-A)*C,i[10]=(1-(f+E))*C,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=Rs.set(i[0],i[1],i[2]).length();const a=Rs.set(i[4],i[5],i[6]).length(),o=Rs.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],cr.copy(this);const u=1/s,c=1/a,h=1/o;return cr.elements[0]*=u,cr.elements[1]*=u,cr.elements[2]*=u,cr.elements[4]*=c,cr.elements[5]*=c,cr.elements[6]*=c,cr.elements[8]*=h,cr.elements[9]*=h,cr.elements[10]*=h,t.setFromRotationMatrix(cr),r.x=s,r.y=a,r.z=o,this}makePerspective(e,t,r,i,s,a,o=ni){const l=this.elements,u=2*s/(t-e),c=2*s/(r-i),h=(t+e)/(t-e),f=(r+i)/(r-i);let d,T;if(o===ni)d=-(a+s)/(a-s),T=-2*a*s/(a-s);else if(o===w1)d=-a/(a-s),T=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=u,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=c,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=d,l[14]=T,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,r,i,s,a,o=ni){const l=this.elements,u=1/(t-e),c=1/(r-i),h=1/(a-s),f=(t+e)*u,d=(r+i)*c;let T,E;if(o===ni)T=(a+s)*h,E=-2*h;else if(o===w1)T=s*h,E=-1*h;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*c,l[9]=0,l[13]=-d,l[2]=0,l[6]=0,l[10]=E,l[14]=-T,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const Rs=new ne,cr=new Jt,yb=new ne(0,0,0),Sb=new ne(1,1,1),Mi=new ne,Uo=new ne,Bn=new ne,cp=new Jt,hp=new ro;class i0{constructor(e=0,t=0,r=0,i=i0.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],a=i[4],o=i[8],l=i[1],u=i[5],c=i[9],h=i[2],f=i[6],d=i[10];switch(t){case"XYZ":this._y=Math.asin(Rn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(f,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Rn(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(o,d),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(Rn(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-h,d),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Rn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(f,d),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Rn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(o,d));break;case"XZY":this._z=Math.asin(-Rn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,u),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-c,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return cp.makeRotationFromQuaternion(e),this.setFromRotationMatrix(cp,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return hp.setFromEuler(this),this.setFromQuaternion(hp,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}i0.DEFAULT_ORDER="XYZ";class f2{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let bb=0;const fp=new ne,Ns=new ro,$r=new Jt,zo=new ne,Ma=new ne,Mb=new ne,Cb=new ro,dp=new ne(1,0,0),pp=new ne(0,1,0),mp=new ne(0,0,1),Db={type:"added"},gp={type:"removed"};class xn extends ha{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:bb++}),this.uuid=no(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=xn.DEFAULT_UP.clone();const e=new ne,t=new i0,r=new ro,i=new ne(1,1,1);function s(){r.setFromEuler(t,!1)}function a(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Jt},normalMatrix:{value:new ht}}),this.matrix=new Jt,this.matrixWorld=new Jt,this.matrixAutoUpdate=xn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=xn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new f2,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Ns.setFromAxisAngle(e,t),this.quaternion.multiply(Ns),this}rotateOnWorldAxis(e,t){return Ns.setFromAxisAngle(e,t),this.quaternion.premultiply(Ns),this}rotateX(e){return this.rotateOnAxis(dp,e)}rotateY(e){return this.rotateOnAxis(pp,e)}rotateZ(e){return this.rotateOnAxis(mp,e)}translateOnAxis(e,t){return fp.copy(e).applyQuaternion(this.quaternion),this.position.add(fp.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(dp,e)}translateY(e){return this.translateOnAxis(pp,e)}translateZ(e){return this.translateOnAxis(mp,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4($r.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?zo.copy(e):zo.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Ma.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?$r.lookAt(Ma,zo,this.up):$r.lookAt(zo,Ma,this.up),this.quaternion.setFromRotationMatrix($r),i&&($r.extractRotation(i.matrixWorld),Ns.setFromRotationMatrix($r),this.quaternion.premultiply(Ns.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Db)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(gp)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(gp)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),$r.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),$r.multiply(e.parent.matrixWorld)),e.applyMatrix4($r),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t){let r=[];this[e]===t&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const a=this.children[i].getObjectsByProperty(e,t);a.length>0&&(r=r.concat(a))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ma,e,Mb),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ma,Cb,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,a=i.length;s<a;s++){const o=i[s];o.matrixWorldAutoUpdate===!0&&o.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const h=l[u];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,u=this.material.length;l<u;l++)o.push(s(e.materials,this.material[l]));i.material=o}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];i.animations.push(s(e.animations,l))}}if(t){const o=a(e.geometries),l=a(e.materials),u=a(e.textures),c=a(e.images),h=a(e.shapes),f=a(e.skeletons),d=a(e.animations),T=a(e.nodes);o.length>0&&(r.geometries=o),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),h.length>0&&(r.shapes=h),f.length>0&&(r.skeletons=f),d.length>0&&(r.animations=d),T.length>0&&(r.nodes=T)}return r.object=i,r;function a(o){const l=[];for(const u in o){const c=o[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}xn.DEFAULT_UP=new ne(0,1,0);xn.DEFAULT_MATRIX_AUTO_UPDATE=!0;xn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const hr=new ne,jr=new ne,El=new ne,Qr=new ne,Is=new ne,Ls=new ne,Ep=new ne,Tl=new ne,_l=new ne,vl=new ne;let Ho=!1;class gr{constructor(e=new ne,t=new ne,r=new ne){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),hr.subVectors(e,t),i.cross(hr);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){hr.subVectors(i,t),jr.subVectors(r,t),El.subVectors(e,t);const a=hr.dot(hr),o=hr.dot(jr),l=hr.dot(El),u=jr.dot(jr),c=jr.dot(El),h=a*u-o*o;if(h===0)return s.set(-2,-1,-1);const f=1/h,d=(u*l-o*c)*f,T=(a*c-o*l)*f;return s.set(1-d-T,T,d)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Qr),Qr.x>=0&&Qr.y>=0&&Qr.x+Qr.y<=1}static getUV(e,t,r,i,s,a,o,l){return Ho===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Ho=!0),this.getInterpolation(e,t,r,i,s,a,o,l)}static getInterpolation(e,t,r,i,s,a,o,l){return this.getBarycoord(e,t,r,i,Qr),l.setScalar(0),l.addScaledVector(s,Qr.x),l.addScaledVector(a,Qr.y),l.addScaledVector(o,Qr.z),l}static isFrontFacing(e,t,r,i){return hr.subVectors(r,t),jr.subVectors(e,t),hr.cross(jr).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return hr.subVectors(this.c,this.b),jr.subVectors(this.a,this.b),hr.cross(jr).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return gr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return gr.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return Ho===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Ho=!0),gr.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}getInterpolation(e,t,r,i,s){return gr.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return gr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return gr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let a,o;Is.subVectors(i,r),Ls.subVectors(s,r),Tl.subVectors(e,r);const l=Is.dot(Tl),u=Ls.dot(Tl);if(l<=0&&u<=0)return t.copy(r);_l.subVectors(e,i);const c=Is.dot(_l),h=Ls.dot(_l);if(c>=0&&h<=c)return t.copy(i);const f=l*h-c*u;if(f<=0&&l>=0&&c<=0)return a=l/(l-c),t.copy(r).addScaledVector(Is,a);vl.subVectors(e,s);const d=Is.dot(vl),T=Ls.dot(vl);if(T>=0&&d<=T)return t.copy(s);const E=d*u-l*T;if(E<=0&&u>=0&&T<=0)return o=u/(u-T),t.copy(r).addScaledVector(Ls,o);const g=c*T-d*h;if(g<=0&&h-c>=0&&d-T>=0)return Ep.subVectors(s,i),o=(h-c)/(h-c+(d-T)),t.copy(i).addScaledVector(Ep,o);const p=1/(g+E+f);return a=E*p,o=f*p,t.copy(r).addScaledVector(Is,a).addScaledVector(Ls,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let wb=0;class fa extends ha{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:wb++}),this.uuid=no(),this.name="",this.type="Material",this.blending=Zs,this.side=zi,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=j4,this.blendDst=Q4,this.blendEquation=Ws,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=nu,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=nb,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=il,this.stencilZFail=il,this.stencilZPass=il,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Zs&&(r.blending=this.blending),this.side!==zi&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=this.alphaHash),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const a=[];for(const o in s){const l=s[o];delete l.metadata,a.push(l)}return a}if(t){const s=i(e.textures),a=i(e.images);s.length>0&&(r.textures=s),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const d2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},fr={h:0,s:0,l:0},Go={h:0,s:0,l:0};function xl(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Mt{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=ct){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ur.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=ur.workingColorSpace){return this.r=e,this.g=t,this.b=r,ur.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=ur.workingColorSpace){if(e=hb(e,1),t=Rn(t,0,1),r=Rn(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,a=2*r-s;this.r=xl(a,s,e+1/3),this.g=xl(a,s,e),this.b=xl(a,s,e-1/3)}return ur.toWorkingColorSpace(this,i),this}setStyle(e,t=ct){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=i[1],o=i[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(a===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=ct){const r=d2[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Js(e.r),this.g=Js(e.g),this.b=Js(e.b),this}copyLinearToSRGB(e){return this.r=ul(e.r),this.g=ul(e.g),this.b=ul(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ct){return ur.fromWorkingColorSpace(dn.copy(this),e),Math.round(Rn(dn.r*255,0,255))*65536+Math.round(Rn(dn.g*255,0,255))*256+Math.round(Rn(dn.b*255,0,255))}getHexString(e=ct){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=ur.workingColorSpace){ur.fromWorkingColorSpace(dn.copy(this),t);const r=dn.r,i=dn.g,s=dn.b,a=Math.max(r,i,s),o=Math.min(r,i,s);let l,u;const c=(o+a)/2;if(o===a)l=0,u=0;else{const h=a-o;switch(u=c<=.5?h/(a+o):h/(2-a-o),a){case r:l=(i-s)/h+(i<s?6:0);break;case i:l=(s-r)/h+2;break;case s:l=(r-i)/h+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,t=ur.workingColorSpace){return ur.fromWorkingColorSpace(dn.copy(this),t),e.r=dn.r,e.g=dn.g,e.b=dn.b,e}getStyle(e=ct){ur.fromWorkingColorSpace(dn.copy(this),e);const t=dn.r,r=dn.g,i=dn.b;return e!==ct?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(fr),fr.h+=e,fr.s+=t,fr.l+=r,this.setHSL(fr.h,fr.s,fr.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(fr),e.getHSL(Go);const r=ol(fr.h,Go.h,t),i=ol(fr.s,Go.s,t),s=ol(fr.l,Go.l,t);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*t+s[3]*r+s[6]*i,this.g=s[1]*t+s[4]*r+s[7]*i,this.b=s[2]*t+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const dn=new Mt;Mt.NAMES=d2;class p2 extends fa{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Mt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Z4,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const $t=new ne,Vo=new Ct;class Wn{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=sp,this.updateRange={offset:0,count:-1},this.gpuType=Ii,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)Vo.fromBufferAttribute(this,t),Vo.applyMatrix3(e),this.setXY(t,Vo.x,Vo.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)$t.fromBufferAttribute(this,t),$t.applyMatrix3(e),this.setXYZ(t,$t.x,$t.y,$t.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)$t.fromBufferAttribute(this,t),$t.applyMatrix4(e),this.setXYZ(t,$t.x,$t.y,$t.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)$t.fromBufferAttribute(this,t),$t.applyNormalMatrix(e),this.setXYZ(t,$t.x,$t.y,$t.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)$t.fromBufferAttribute(this,t),$t.transformDirection(e),this.setXYZ(t,$t.x,$t.y,$t.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=ya(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=bn(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ya(t,this.array)),t}setX(e,t){return this.normalized&&(t=bn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ya(t,this.array)),t}setY(e,t){return this.normalized&&(t=bn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ya(t,this.array)),t}setZ(e,t){return this.normalized&&(t=bn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ya(t,this.array)),t}setW(e,t){return this.normalized&&(t=bn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=bn(t,this.array),r=bn(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=bn(t,this.array),r=bn(r,this.array),i=bn(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=bn(t,this.array),r=bn(r,this.array),i=bn(i,this.array),s=bn(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==sp&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class m2 extends Wn{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class g2 extends Wn{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class oi extends Wn{constructor(e,t,r){super(new Float32Array(e),t,r)}}let Rb=0;const Kn=new Jt,Al=new xn,Fs=new ne,Un=new io,Ca=new io,sn=new ne;class _r extends ha{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Rb++}),this.uuid=no(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(l2(e)?g2:m2)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new ht().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Kn.makeRotationFromQuaternion(e),this.applyMatrix4(Kn),this}rotateX(e){return Kn.makeRotationX(e),this.applyMatrix4(Kn),this}rotateY(e){return Kn.makeRotationY(e),this.applyMatrix4(Kn),this}rotateZ(e){return Kn.makeRotationZ(e),this.applyMatrix4(Kn),this}translate(e,t,r){return Kn.makeTranslation(e,t,r),this.applyMatrix4(Kn),this}scale(e,t,r){return Kn.makeScale(e,t,r),this.applyMatrix4(Kn),this}lookAt(e){return Al.lookAt(e),Al.updateMatrix(),this.applyMatrix4(Al.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Fs).negate(),this.translate(Fs.x,Fs.y,Fs.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new oi(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new io);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new ne(-1/0,-1/0,-1/0),new ne(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];Un.setFromBufferAttribute(s),this.morphTargetsRelative?(sn.addVectors(this.boundingBox.min,Un.min),this.boundingBox.expandByPoint(sn),sn.addVectors(this.boundingBox.max,Un.max),this.boundingBox.expandByPoint(sn)):(this.boundingBox.expandByPoint(Un.min),this.boundingBox.expandByPoint(Un.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new so);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new ne,1/0);return}if(e){const r=this.boundingSphere.center;if(Un.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++){const o=t[s];Ca.setFromBufferAttribute(o),this.morphTargetsRelative?(sn.addVectors(Un.min,Ca.min),Un.expandByPoint(sn),sn.addVectors(Un.max,Ca.max),Un.expandByPoint(sn)):(Un.expandByPoint(Ca.min),Un.expandByPoint(Ca.max))}Un.getCenter(r);let i=0;for(let s=0,a=e.count;s<a;s++)sn.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(sn));if(t)for(let s=0,a=t.length;s<a;s++){const o=t[s],l=this.morphTargetsRelative;for(let u=0,c=o.count;u<c;u++)sn.fromBufferAttribute(o,u),l&&(Fs.fromBufferAttribute(e,u),sn.add(Fs)),i=Math.max(i,r.distanceToSquared(sn))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,a=t.uv.array,o=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Wn(new Float32Array(4*o),4));const l=this.getAttribute("tangent").array,u=[],c=[];for(let I=0;I<o;I++)u[I]=new ne,c[I]=new ne;const h=new ne,f=new ne,d=new ne,T=new Ct,E=new Ct,g=new Ct,p=new ne,A=new ne;function _(I,V,Y){h.fromArray(i,I*3),f.fromArray(i,V*3),d.fromArray(i,Y*3),T.fromArray(a,I*2),E.fromArray(a,V*2),g.fromArray(a,Y*2),f.sub(h),d.sub(h),E.sub(T),g.sub(T);const X=1/(E.x*g.y-g.x*E.y);isFinite(X)&&(p.copy(f).multiplyScalar(g.y).addScaledVector(d,-E.y).multiplyScalar(X),A.copy(d).multiplyScalar(E.x).addScaledVector(f,-g.x).multiplyScalar(X),u[I].add(p),u[V].add(p),u[Y].add(p),c[I].add(A),c[V].add(A),c[Y].add(A))}let D=this.groups;D.length===0&&(D=[{start:0,count:r.length}]);for(let I=0,V=D.length;I<V;++I){const Y=D[I],X=Y.start,j=Y.count;for(let q=X,he=X+j;q<he;q+=3)_(r[q+0],r[q+1],r[q+2])}const M=new ne,y=new ne,C=new ne,B=new ne;function S(I){C.fromArray(s,I*3),B.copy(C);const V=u[I];M.copy(V),M.sub(C.multiplyScalar(C.dot(V))).normalize(),y.crossVectors(B,V);const X=y.dot(c[I])<0?-1:1;l[I*4]=M.x,l[I*4+1]=M.y,l[I*4+2]=M.z,l[I*4+3]=X}for(let I=0,V=D.length;I<V;++I){const Y=D[I],X=Y.start,j=Y.count;for(let q=X,he=X+j;q<he;q+=3)S(r[q+0]),S(r[q+1]),S(r[q+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Wn(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let f=0,d=r.count;f<d;f++)r.setXYZ(f,0,0,0);const i=new ne,s=new ne,a=new ne,o=new ne,l=new ne,u=new ne,c=new ne,h=new ne;if(e)for(let f=0,d=e.count;f<d;f+=3){const T=e.getX(f+0),E=e.getX(f+1),g=e.getX(f+2);i.fromBufferAttribute(t,T),s.fromBufferAttribute(t,E),a.fromBufferAttribute(t,g),c.subVectors(a,s),h.subVectors(i,s),c.cross(h),o.fromBufferAttribute(r,T),l.fromBufferAttribute(r,E),u.fromBufferAttribute(r,g),o.add(c),l.add(c),u.add(c),r.setXYZ(T,o.x,o.y,o.z),r.setXYZ(E,l.x,l.y,l.z),r.setXYZ(g,u.x,u.y,u.z)}else for(let f=0,d=t.count;f<d;f+=3)i.fromBufferAttribute(t,f+0),s.fromBufferAttribute(t,f+1),a.fromBufferAttribute(t,f+2),c.subVectors(a,s),h.subVectors(i,s),c.cross(h),r.setXYZ(f+0,c.x,c.y,c.z),r.setXYZ(f+1,c.x,c.y,c.z),r.setXYZ(f+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)sn.fromBufferAttribute(e,t),sn.normalize(),e.setXYZ(t,sn.x,sn.y,sn.z)}toNonIndexed(){function e(o,l){const u=o.array,c=o.itemSize,h=o.normalized,f=new u.constructor(l.length*c);let d=0,T=0;for(let E=0,g=l.length;E<g;E++){o.isInterleavedBufferAttribute?d=l[E]*o.data.stride+o.offset:d=l[E]*c;for(let p=0;p<c;p++)f[T++]=u[d++]}return new Wn(f,c,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new _r,r=this.index.array,i=this.attributes;for(const o in i){const l=i[o],u=e(l,r);t.setAttribute(o,u)}const s=this.morphAttributes;for(const o in s){const l=[],u=s[o];for(let c=0,h=u.length;c<h;c++){const f=u[c],d=e(f,r);l.push(d)}t.morphAttributes[o]=l}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,l=a.length;o<l;o++){const u=a[o];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let h=0,f=u.length;h<f;h++){const d=u[h];c.push(d.toJSON(e.data))}c.length>0&&(i[l]=c,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(t))}const s=e.morphAttributes;for(const u in s){const c=[],h=s[u];for(let f=0,d=h.length;f<d;f++)c.push(h[f].clone(t));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let u=0,c=a.length;u<c;u++){const h=a[u];this.addGroup(h.start,h.count,h.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Tp=new Jt,ts=new fc,Wo=new so,_p=new ne,Ps=new ne,Os=new ne,ks=new ne,yl=new ne,qo=new ne,Xo=new Ct,Yo=new Ct,Ko=new Ct,vp=new ne,xp=new ne,Ap=new ne,$o=new ne,jo=new ne;class Li extends xn{constructor(e=new _r,t=new p2){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,a=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const o=this.morphTargetInfluences;if(s&&o){qo.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const c=o[l],h=s[l];c!==0&&(yl.fromBufferAttribute(h,e),a?qo.addScaledVector(yl,c):qo.addScaledVector(yl.sub(t),c))}t.add(qo)}return t}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Wo.copy(r.boundingSphere),Wo.applyMatrix4(s),ts.copy(e.ray).recast(e.near),!(Wo.containsPoint(ts.origin)===!1&&(ts.intersectSphere(Wo,_p)===null||ts.origin.distanceToSquared(_p)>(e.far-e.near)**2))&&(Tp.copy(s).invert(),ts.copy(e.ray).applyMatrix4(Tp),!(r.boundingBox!==null&&ts.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,ts)))}_computeIntersections(e,t,r){let i;const s=this.geometry,a=this.material,o=s.index,l=s.attributes.position,u=s.attributes.uv,c=s.attributes.uv1,h=s.attributes.normal,f=s.groups,d=s.drawRange;if(o!==null)if(Array.isArray(a))for(let T=0,E=f.length;T<E;T++){const g=f[T],p=a[g.materialIndex],A=Math.max(g.start,d.start),_=Math.min(o.count,Math.min(g.start+g.count,d.start+d.count));for(let D=A,M=_;D<M;D+=3){const y=o.getX(D),C=o.getX(D+1),B=o.getX(D+2);i=Qo(this,p,e,r,u,c,h,y,C,B),i&&(i.faceIndex=Math.floor(D/3),i.face.materialIndex=g.materialIndex,t.push(i))}}else{const T=Math.max(0,d.start),E=Math.min(o.count,d.start+d.count);for(let g=T,p=E;g<p;g+=3){const A=o.getX(g),_=o.getX(g+1),D=o.getX(g+2);i=Qo(this,a,e,r,u,c,h,A,_,D),i&&(i.faceIndex=Math.floor(g/3),t.push(i))}}else if(l!==void 0)if(Array.isArray(a))for(let T=0,E=f.length;T<E;T++){const g=f[T],p=a[g.materialIndex],A=Math.max(g.start,d.start),_=Math.min(l.count,Math.min(g.start+g.count,d.start+d.count));for(let D=A,M=_;D<M;D+=3){const y=D,C=D+1,B=D+2;i=Qo(this,p,e,r,u,c,h,y,C,B),i&&(i.faceIndex=Math.floor(D/3),i.face.materialIndex=g.materialIndex,t.push(i))}}else{const T=Math.max(0,d.start),E=Math.min(l.count,d.start+d.count);for(let g=T,p=E;g<p;g+=3){const A=g,_=g+1,D=g+2;i=Qo(this,a,e,r,u,c,h,A,_,D),i&&(i.faceIndex=Math.floor(g/3),t.push(i))}}}}function Nb(n,e,t,r,i,s,a,o){let l;if(e.side===In?l=r.intersectTriangle(a,s,i,!0,o):l=r.intersectTriangle(i,s,a,e.side===zi,o),l===null)return null;jo.copy(o),jo.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(jo);return u<t.near||u>t.far?null:{distance:u,point:jo.clone(),object:n}}function Qo(n,e,t,r,i,s,a,o,l,u){n.getVertexPosition(o,Ps),n.getVertexPosition(l,Os),n.getVertexPosition(u,ks);const c=Nb(n,e,t,r,Ps,Os,ks,$o);if(c){i&&(Xo.fromBufferAttribute(i,o),Yo.fromBufferAttribute(i,l),Ko.fromBufferAttribute(i,u),c.uv=gr.getInterpolation($o,Ps,Os,ks,Xo,Yo,Ko,new Ct)),s&&(Xo.fromBufferAttribute(s,o),Yo.fromBufferAttribute(s,l),Ko.fromBufferAttribute(s,u),c.uv1=gr.getInterpolation($o,Ps,Os,ks,Xo,Yo,Ko,new Ct),c.uv2=c.uv1),a&&(vp.fromBufferAttribute(a,o),xp.fromBufferAttribute(a,l),Ap.fromBufferAttribute(a,u),c.normal=gr.getInterpolation($o,Ps,Os,ks,vp,xp,Ap,new ne),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));const h={a:o,b:l,c:u,normal:new ne,materialIndex:0};gr.getNormal(Ps,Os,ks,h.normal),c.face=h}return c}class ao extends _r{constructor(e=1,t=1,r=1,i=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:a};const o=this;i=Math.floor(i),s=Math.floor(s),a=Math.floor(a);const l=[],u=[],c=[],h=[];let f=0,d=0;T("z","y","x",-1,-1,r,t,e,a,s,0),T("z","y","x",1,-1,r,t,-e,a,s,1),T("x","z","y",1,1,e,r,t,i,a,2),T("x","z","y",1,-1,e,r,-t,i,a,3),T("x","y","z",1,-1,e,t,r,i,s,4),T("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new oi(u,3)),this.setAttribute("normal",new oi(c,3)),this.setAttribute("uv",new oi(h,2));function T(E,g,p,A,_,D,M,y,C,B,S){const I=D/C,V=M/B,Y=D/2,X=M/2,j=y/2,q=C+1,he=B+1;let ae=0,ie=0;const ce=new ne;for(let R=0;R<he;R++){const K=R*V-X;for(let re=0;re<q;re++){const L=re*I-Y;ce[E]=L*A,ce[g]=K*_,ce[p]=j,u.push(ce.x,ce.y,ce.z),ce[E]=0,ce[g]=0,ce[p]=y>0?1:-1,c.push(ce.x,ce.y,ce.z),h.push(re/C),h.push(1-R/B),ae+=1}}for(let R=0;R<B;R++)for(let K=0;K<C;K++){const re=f+K+q*R,L=f+K+q*(R+1),Ee=f+(K+1)+q*(R+1),Ae=f+(K+1)+q*R;l.push(re,L,Ae),l.push(L,Ee,Ae),ie+=6}o.addGroup(d,ie,S),d+=ie,f+=ae}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ao(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function ia(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Tn(n){const e={};for(let t=0;t<n.length;t++){const r=ia(n[t]);for(const i in r)e[i]=r[i]}return e}function Ib(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function E2(n){return n.getRenderTarget()===null?n.outputColorSpace:Fr}const Lb={clone:ia,merge:Tn};var Fb=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Pb=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Hi extends fa{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Fb,this.fragmentShader=Pb,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ia(e.uniforms),this.uniformsGroups=Ib(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?t.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[i]={type:"m4",value:a.toArray()}:t.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class T2 extends xn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Jt,this.projectionMatrix=new Jt,this.projectionMatrixInverse=new Jt,this.coordinateSystem=ni}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Zn extends T2{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=lu*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(al*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return lu*2*Math.atan(Math.tan(al*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(al*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,u=a.fullHeight;s+=a.offsetX*i/l,t-=a.offsetY*r/u,i*=a.width/l,r*=a.height/u}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Bs=-90,Us=1;class Ob extends xn{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null;const i=new Zn(Bs,Us,e,t);i.layers=this.layers,this.add(i);const s=new Zn(Bs,Us,e,t);s.layers=this.layers,this.add(s);const a=new Zn(Bs,Us,e,t);a.layers=this.layers,this.add(a);const o=new Zn(Bs,Us,e,t);o.layers=this.layers,this.add(o);const l=new Zn(Bs,Us,e,t);l.layers=this.layers,this.add(l);const u=new Zn(Bs,Us,e,t);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,s,a,o,l]=t;for(const u of t)this.remove(u);if(e===ni)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===w1)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of t)this.add(u),u.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,s,a,o,l,u]=this.children,c=e.getRenderTarget(),h=e.xr.enabled;e.xr.enabled=!1;const f=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,a),e.setRenderTarget(r,3),e.render(t,o),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=f,e.setRenderTarget(r,5),e.render(t,u),e.setRenderTarget(c),e.xr.enabled=h,r.texture.needsPMREMUpdate=!0}}class _2 extends Ln{constructor(e,t,r,i,s,a,o,l,u,c){e=e!==void 0?e:[],t=t!==void 0?t:ta,super(e,t,r,i,s,a,o,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class kb extends ps{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];t.encoding!==void 0&&(za("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===fs?ct:ds),this.texture=new _2(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Qn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new ao(5,5,5),s=new Hi({name:"CubemapFromEquirect",uniforms:ia(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:In,blending:Fi});s.uniforms.tEquirect.value=t;const a=new Li(i,s),o=t.minFilter;return t.minFilter===Wa&&(t.minFilter=Qn),new Ob(1,10,this).update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,r,i);e.setRenderTarget(s)}}const Sl=new ne,Bb=new ne,Ub=new ht;class ss{constructor(e=new ne(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=Sl.subVectors(r,t).cross(Bb.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(Sl),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||Ub.getNormalMatrix(e),i=this.coplanarPoint(Sl).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const ns=new so,Zo=new ne;class v2{constructor(e=new ss,t=new ss,r=new ss,i=new ss,s=new ss,a=new ss){this.planes=[e,t,r,i,s,a]}set(e,t,r,i,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(r),o[3].copy(i),o[4].copy(s),o[5].copy(a),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=ni){const r=this.planes,i=e.elements,s=i[0],a=i[1],o=i[2],l=i[3],u=i[4],c=i[5],h=i[6],f=i[7],d=i[8],T=i[9],E=i[10],g=i[11],p=i[12],A=i[13],_=i[14],D=i[15];if(r[0].setComponents(l-s,f-u,g-d,D-p).normalize(),r[1].setComponents(l+s,f+u,g+d,D+p).normalize(),r[2].setComponents(l+a,f+c,g+T,D+A).normalize(),r[3].setComponents(l-a,f-c,g-T,D-A).normalize(),r[4].setComponents(l-o,f-h,g-E,D-_).normalize(),t===ni)r[5].setComponents(l+o,f+h,g+E,D+_).normalize();else if(t===w1)r[5].setComponents(o,h,E,_).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),ns.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),ns.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(ns)}intersectsSprite(e){return ns.center.set(0,0,0),ns.radius=.7071067811865476,ns.applyMatrix4(e.matrixWorld),this.intersectsSphere(ns)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(Zo.x=i.normal.x>0?e.max.x:e.min.x,Zo.y=i.normal.y>0?e.max.y:e.min.y,Zo.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Zo)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function x2(){let n=null,e=!1,t=null,r=null;function i(s,a){t(s,a),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function zb(n,e){const t=e.isWebGL2,r=new WeakMap;function i(u,c){const h=u.array,f=u.usage,d=n.createBuffer();n.bindBuffer(c,d),n.bufferData(c,h,f),u.onUploadCallback();let T;if(h instanceof Float32Array)T=n.FLOAT;else if(h instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(t)T=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else T=n.UNSIGNED_SHORT;else if(h instanceof Int16Array)T=n.SHORT;else if(h instanceof Uint32Array)T=n.UNSIGNED_INT;else if(h instanceof Int32Array)T=n.INT;else if(h instanceof Int8Array)T=n.BYTE;else if(h instanceof Uint8Array)T=n.UNSIGNED_BYTE;else if(h instanceof Uint8ClampedArray)T=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:d,type:T,bytesPerElement:h.BYTES_PER_ELEMENT,version:u.version}}function s(u,c,h){const f=c.array,d=c.updateRange;n.bindBuffer(h,u),d.count===-1?n.bufferSubData(h,0,f):(t?n.bufferSubData(h,d.offset*f.BYTES_PER_ELEMENT,f,d.offset,d.count):n.bufferSubData(h,d.offset*f.BYTES_PER_ELEMENT,f.subarray(d.offset,d.offset+d.count)),d.count=-1),c.onUploadCallback()}function a(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function o(u){u.isInterleavedBufferAttribute&&(u=u.data);const c=r.get(u);c&&(n.deleteBuffer(c.buffer),r.delete(u))}function l(u,c){if(u.isGLBufferAttribute){const f=r.get(u);(!f||f.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const h=r.get(u);h===void 0?r.set(u,i(u,c)):h.version<u.version&&(s(h.buffer,u,c),h.version=u.version)}return{get:a,remove:o,update:l}}class dc extends _r{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,a=t/2,o=Math.floor(r),l=Math.floor(i),u=o+1,c=l+1,h=e/o,f=t/l,d=[],T=[],E=[],g=[];for(let p=0;p<c;p++){const A=p*f-a;for(let _=0;_<u;_++){const D=_*h-s;T.push(D,-A,0),E.push(0,0,1),g.push(_/o),g.push(1-p/l)}}for(let p=0;p<l;p++)for(let A=0;A<o;A++){const _=A+u*p,D=A+u*(p+1),M=A+1+u*(p+1),y=A+1+u*p;d.push(_,D,y),d.push(D,M,y)}this.setIndex(d),this.setAttribute("position",new oi(T,3)),this.setAttribute("normal",new oi(E,3)),this.setAttribute("uv",new oi(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dc(e.width,e.height,e.widthSegments,e.heightSegments)}}var Hb=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Gb=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Vb=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Wb=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,qb=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Xb=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Yb=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Kb=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,$b=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,jb=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Qb=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Zb=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Jb=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,eM=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,tM=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,nM=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,rM=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,iM=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,sM=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,aM=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,oM=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,lM=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,uM=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,cM=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,hM=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,fM=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,dM=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,pM=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,mM="gl_FragColor = linearToOutputTexel( gl_FragColor );",gM=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,EM=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,TM=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,_M=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,vM=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,xM=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,AM=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,yM=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,SM=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,bM=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,MM=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,CM=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,DM=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,wM=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,RM=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,NM=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,IM=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,LM=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,FM=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,PM=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,OM=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,kM=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,BM=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,UM=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,zM=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,HM=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,GM=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,VM=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,WM=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,qM=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,XM=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,YM=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,KM=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,$M=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,jM=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,QM=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,ZM=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,JM=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,eC=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,tC=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,nC=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,rC=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,iC=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,sC=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,aC=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,oC=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,lC=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,uC=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,cC=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,hC=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,fC=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,dC=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,pC=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,mC=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,gC=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,EC=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,TC=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,_C=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,vC=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,xC=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,AC=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,yC=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,SC=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,bC=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,MC=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,CC=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,DC=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,wC=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,RC=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,NC=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,IC=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,LC=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,FC=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,PC=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,OC=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,kC=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const BC=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,UC=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,zC=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,HC=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,GC=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,VC=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,WC=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,qC=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,XC=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,YC=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,KC=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,$C=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,jC=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,QC=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,ZC=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,JC=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,eD=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,tD=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nD=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,rD=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,iD=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,sD=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,aD=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,oD=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lD=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,uD=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cD=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hD=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fD=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,dD=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,pD=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mD=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,gD=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,ED=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ut={alphahash_fragment:Hb,alphahash_pars_fragment:Gb,alphamap_fragment:Vb,alphamap_pars_fragment:Wb,alphatest_fragment:qb,alphatest_pars_fragment:Xb,aomap_fragment:Yb,aomap_pars_fragment:Kb,begin_vertex:$b,beginnormal_vertex:jb,bsdfs:Qb,iridescence_fragment:Zb,bumpmap_pars_fragment:Jb,clipping_planes_fragment:eM,clipping_planes_pars_fragment:tM,clipping_planes_pars_vertex:nM,clipping_planes_vertex:rM,color_fragment:iM,color_pars_fragment:sM,color_pars_vertex:aM,color_vertex:oM,common:lM,cube_uv_reflection_fragment:uM,defaultnormal_vertex:cM,displacementmap_pars_vertex:hM,displacementmap_vertex:fM,emissivemap_fragment:dM,emissivemap_pars_fragment:pM,colorspace_fragment:mM,colorspace_pars_fragment:gM,envmap_fragment:EM,envmap_common_pars_fragment:TM,envmap_pars_fragment:_M,envmap_pars_vertex:vM,envmap_physical_pars_fragment:IM,envmap_vertex:xM,fog_vertex:AM,fog_pars_vertex:yM,fog_fragment:SM,fog_pars_fragment:bM,gradientmap_pars_fragment:MM,lightmap_fragment:CM,lightmap_pars_fragment:DM,lights_lambert_fragment:wM,lights_lambert_pars_fragment:RM,lights_pars_begin:NM,lights_toon_fragment:LM,lights_toon_pars_fragment:FM,lights_phong_fragment:PM,lights_phong_pars_fragment:OM,lights_physical_fragment:kM,lights_physical_pars_fragment:BM,lights_fragment_begin:UM,lights_fragment_maps:zM,lights_fragment_end:HM,logdepthbuf_fragment:GM,logdepthbuf_pars_fragment:VM,logdepthbuf_pars_vertex:WM,logdepthbuf_vertex:qM,map_fragment:XM,map_pars_fragment:YM,map_particle_fragment:KM,map_particle_pars_fragment:$M,metalnessmap_fragment:jM,metalnessmap_pars_fragment:QM,morphcolor_vertex:ZM,morphnormal_vertex:JM,morphtarget_pars_vertex:eC,morphtarget_vertex:tC,normal_fragment_begin:nC,normal_fragment_maps:rC,normal_pars_fragment:iC,normal_pars_vertex:sC,normal_vertex:aC,normalmap_pars_fragment:oC,clearcoat_normal_fragment_begin:lC,clearcoat_normal_fragment_maps:uC,clearcoat_pars_fragment:cC,iridescence_pars_fragment:hC,opaque_fragment:fC,packing:dC,premultiplied_alpha_fragment:pC,project_vertex:mC,dithering_fragment:gC,dithering_pars_fragment:EC,roughnessmap_fragment:TC,roughnessmap_pars_fragment:_C,shadowmap_pars_fragment:vC,shadowmap_pars_vertex:xC,shadowmap_vertex:AC,shadowmask_pars_fragment:yC,skinbase_vertex:SC,skinning_pars_vertex:bC,skinning_vertex:MC,skinnormal_vertex:CC,specularmap_fragment:DC,specularmap_pars_fragment:wC,tonemapping_fragment:RC,tonemapping_pars_fragment:NC,transmission_fragment:IC,transmission_pars_fragment:LC,uv_pars_fragment:FC,uv_pars_vertex:PC,uv_vertex:OC,worldpos_vertex:kC,background_vert:BC,background_frag:UC,backgroundCube_vert:zC,backgroundCube_frag:HC,cube_vert:GC,cube_frag:VC,depth_vert:WC,depth_frag:qC,distanceRGBA_vert:XC,distanceRGBA_frag:YC,equirect_vert:KC,equirect_frag:$C,linedashed_vert:jC,linedashed_frag:QC,meshbasic_vert:ZC,meshbasic_frag:JC,meshlambert_vert:eD,meshlambert_frag:tD,meshmatcap_vert:nD,meshmatcap_frag:rD,meshnormal_vert:iD,meshnormal_frag:sD,meshphong_vert:aD,meshphong_frag:oD,meshphysical_vert:lD,meshphysical_frag:uD,meshtoon_vert:cD,meshtoon_frag:hD,points_vert:fD,points_frag:dD,shadow_vert:pD,shadow_frag:mD,sprite_vert:gD,sprite_frag:ED},Me={common:{diffuse:{value:new Mt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new ht},alphaMap:{value:null},alphaMapTransform:{value:new ht},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new ht}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new ht}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new ht}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new ht},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new ht},normalScale:{value:new Ct(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new ht},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new ht}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new ht}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new ht}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Mt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Mt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new ht},alphaTest:{value:0},uvTransform:{value:new ht}},sprite:{diffuse:{value:new Mt(16777215)},opacity:{value:1},center:{value:new Ct(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new ht},alphaMap:{value:null},alphaMapTransform:{value:new ht},alphaTest:{value:0}}},Cr={basic:{uniforms:Tn([Me.common,Me.specularmap,Me.envmap,Me.aomap,Me.lightmap,Me.fog]),vertexShader:ut.meshbasic_vert,fragmentShader:ut.meshbasic_frag},lambert:{uniforms:Tn([Me.common,Me.specularmap,Me.envmap,Me.aomap,Me.lightmap,Me.emissivemap,Me.bumpmap,Me.normalmap,Me.displacementmap,Me.fog,Me.lights,{emissive:{value:new Mt(0)}}]),vertexShader:ut.meshlambert_vert,fragmentShader:ut.meshlambert_frag},phong:{uniforms:Tn([Me.common,Me.specularmap,Me.envmap,Me.aomap,Me.lightmap,Me.emissivemap,Me.bumpmap,Me.normalmap,Me.displacementmap,Me.fog,Me.lights,{emissive:{value:new Mt(0)},specular:{value:new Mt(1118481)},shininess:{value:30}}]),vertexShader:ut.meshphong_vert,fragmentShader:ut.meshphong_frag},standard:{uniforms:Tn([Me.common,Me.envmap,Me.aomap,Me.lightmap,Me.emissivemap,Me.bumpmap,Me.normalmap,Me.displacementmap,Me.roughnessmap,Me.metalnessmap,Me.fog,Me.lights,{emissive:{value:new Mt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ut.meshphysical_vert,fragmentShader:ut.meshphysical_frag},toon:{uniforms:Tn([Me.common,Me.aomap,Me.lightmap,Me.emissivemap,Me.bumpmap,Me.normalmap,Me.displacementmap,Me.gradientmap,Me.fog,Me.lights,{emissive:{value:new Mt(0)}}]),vertexShader:ut.meshtoon_vert,fragmentShader:ut.meshtoon_frag},matcap:{uniforms:Tn([Me.common,Me.bumpmap,Me.normalmap,Me.displacementmap,Me.fog,{matcap:{value:null}}]),vertexShader:ut.meshmatcap_vert,fragmentShader:ut.meshmatcap_frag},points:{uniforms:Tn([Me.points,Me.fog]),vertexShader:ut.points_vert,fragmentShader:ut.points_frag},dashed:{uniforms:Tn([Me.common,Me.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ut.linedashed_vert,fragmentShader:ut.linedashed_frag},depth:{uniforms:Tn([Me.common,Me.displacementmap]),vertexShader:ut.depth_vert,fragmentShader:ut.depth_frag},normal:{uniforms:Tn([Me.common,Me.bumpmap,Me.normalmap,Me.displacementmap,{opacity:{value:1}}]),vertexShader:ut.meshnormal_vert,fragmentShader:ut.meshnormal_frag},sprite:{uniforms:Tn([Me.sprite,Me.fog]),vertexShader:ut.sprite_vert,fragmentShader:ut.sprite_frag},background:{uniforms:{uvTransform:{value:new ht},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ut.background_vert,fragmentShader:ut.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:ut.backgroundCube_vert,fragmentShader:ut.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ut.cube_vert,fragmentShader:ut.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ut.equirect_vert,fragmentShader:ut.equirect_frag},distanceRGBA:{uniforms:Tn([Me.common,Me.displacementmap,{referencePosition:{value:new ne},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ut.distanceRGBA_vert,fragmentShader:ut.distanceRGBA_frag},shadow:{uniforms:Tn([Me.lights,Me.fog,{color:{value:new Mt(0)},opacity:{value:1}}]),vertexShader:ut.shadow_vert,fragmentShader:ut.shadow_frag}};Cr.physical={uniforms:Tn([Cr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new ht},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new ht},clearcoatNormalScale:{value:new Ct(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new ht},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new ht},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new ht},sheen:{value:0},sheenColor:{value:new Mt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new ht},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new ht},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new ht},transmissionSamplerSize:{value:new Ct},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new ht},attenuationDistance:{value:0},attenuationColor:{value:new Mt(0)},specularColor:{value:new Mt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new ht},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new ht},anisotropyVector:{value:new Ct},anisotropyMap:{value:null},anisotropyMapTransform:{value:new ht}}]),vertexShader:ut.meshphysical_vert,fragmentShader:ut.meshphysical_frag};const Jo={r:0,b:0,g:0};function TD(n,e,t,r,i,s,a){const o=new Mt(0);let l=s===!0?0:1,u,c,h=null,f=0,d=null;function T(g,p){let A=!1,_=p.isScene===!0?p.background:null;switch(_&&_.isTexture&&(_=(p.backgroundBlurriness>0?t:e).get(_)),_===null?E(o,l):_&&_.isColor&&(E(_,1),A=!0),n.xr.getEnvironmentBlendMode()){case"opaque":A=!0;break;case"additive":r.buffers.color.setClear(0,0,0,1,a),A=!0;break;case"alpha-blend":r.buffers.color.setClear(0,0,0,0,a),A=!0;break}(n.autoClear||A)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),_&&(_.isCubeTexture||_.mapping===r0)?(c===void 0&&(c=new Li(new ao(1,1,1),new Hi({name:"BackgroundCubeMaterial",uniforms:ia(Cr.backgroundCube.uniforms),vertexShader:Cr.backgroundCube.vertexShader,fragmentShader:Cr.backgroundCube.fragmentShader,side:In,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(y,C,B){this.matrixWorld.copyPosition(B.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=_,c.material.uniforms.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=p.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=p.backgroundIntensity,c.material.toneMapped=_.colorSpace!==ct,(h!==_||f!==_.version||d!==n.toneMapping)&&(c.material.needsUpdate=!0,h=_,f=_.version,d=n.toneMapping),c.layers.enableAll(),g.unshift(c,c.geometry,c.material,0,0,null)):_&&_.isTexture&&(u===void 0&&(u=new Li(new dc(2,2),new Hi({name:"BackgroundMaterial",uniforms:ia(Cr.background.uniforms),vertexShader:Cr.background.vertexShader,fragmentShader:Cr.background.fragmentShader,side:zi,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=_,u.material.uniforms.backgroundIntensity.value=p.backgroundIntensity,u.material.toneMapped=_.colorSpace!==ct,_.matrixAutoUpdate===!0&&_.updateMatrix(),u.material.uniforms.uvTransform.value.copy(_.matrix),(h!==_||f!==_.version||d!==n.toneMapping)&&(u.material.needsUpdate=!0,h=_,f=_.version,d=n.toneMapping),u.layers.enableAll(),g.unshift(u,u.geometry,u.material,0,0,null))}function E(g,p){g.getRGB(Jo,E2(n)),r.buffers.color.setClear(Jo.r,Jo.g,Jo.b,p,a)}return{getClearColor:function(){return o},setClearColor:function(g,p=1){o.set(g),l=p,E(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(g){l=g,E(o,l)},render:T}}function _D(n,e,t,r){const i=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),a=r.isWebGL2||s!==null,o={},l=g(null);let u=l,c=!1;function h(j,q,he,ae,ie){let ce=!1;if(a){const R=E(ae,he,q);u!==R&&(u=R,d(u.object)),ce=p(j,ae,he,ie),ce&&A(j,ae,he,ie)}else{const R=q.wireframe===!0;(u.geometry!==ae.id||u.program!==he.id||u.wireframe!==R)&&(u.geometry=ae.id,u.program=he.id,u.wireframe=R,ce=!0)}ie!==null&&t.update(ie,n.ELEMENT_ARRAY_BUFFER),(ce||c)&&(c=!1,B(j,q,he,ae),ie!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(ie).buffer))}function f(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function d(j){return r.isWebGL2?n.bindVertexArray(j):s.bindVertexArrayOES(j)}function T(j){return r.isWebGL2?n.deleteVertexArray(j):s.deleteVertexArrayOES(j)}function E(j,q,he){const ae=he.wireframe===!0;let ie=o[j.id];ie===void 0&&(ie={},o[j.id]=ie);let ce=ie[q.id];ce===void 0&&(ce={},ie[q.id]=ce);let R=ce[ae];return R===void 0&&(R=g(f()),ce[ae]=R),R}function g(j){const q=[],he=[],ae=[];for(let ie=0;ie<i;ie++)q[ie]=0,he[ie]=0,ae[ie]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:q,enabledAttributes:he,attributeDivisors:ae,object:j,attributes:{},index:null}}function p(j,q,he,ae){const ie=u.attributes,ce=q.attributes;let R=0;const K=he.getAttributes();for(const re in K)if(K[re].location>=0){const Ee=ie[re];let Ae=ce[re];if(Ae===void 0&&(re==="instanceMatrix"&&j.instanceMatrix&&(Ae=j.instanceMatrix),re==="instanceColor"&&j.instanceColor&&(Ae=j.instanceColor)),Ee===void 0||Ee.attribute!==Ae||Ae&&Ee.data!==Ae.data)return!0;R++}return u.attributesNum!==R||u.index!==ae}function A(j,q,he,ae){const ie={},ce=q.attributes;let R=0;const K=he.getAttributes();for(const re in K)if(K[re].location>=0){let Ee=ce[re];Ee===void 0&&(re==="instanceMatrix"&&j.instanceMatrix&&(Ee=j.instanceMatrix),re==="instanceColor"&&j.instanceColor&&(Ee=j.instanceColor));const Ae={};Ae.attribute=Ee,Ee&&Ee.data&&(Ae.data=Ee.data),ie[re]=Ae,R++}u.attributes=ie,u.attributesNum=R,u.index=ae}function _(){const j=u.newAttributes;for(let q=0,he=j.length;q<he;q++)j[q]=0}function D(j){M(j,0)}function M(j,q){const he=u.newAttributes,ae=u.enabledAttributes,ie=u.attributeDivisors;he[j]=1,ae[j]===0&&(n.enableVertexAttribArray(j),ae[j]=1),ie[j]!==q&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](j,q),ie[j]=q)}function y(){const j=u.newAttributes,q=u.enabledAttributes;for(let he=0,ae=q.length;he<ae;he++)q[he]!==j[he]&&(n.disableVertexAttribArray(he),q[he]=0)}function C(j,q,he,ae,ie,ce,R){R===!0?n.vertexAttribIPointer(j,q,he,ie,ce):n.vertexAttribPointer(j,q,he,ae,ie,ce)}function B(j,q,he,ae){if(r.isWebGL2===!1&&(j.isInstancedMesh||ae.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;_();const ie=ae.attributes,ce=he.getAttributes(),R=q.defaultAttributeValues;for(const K in ce){const re=ce[K];if(re.location>=0){let L=ie[K];if(L===void 0&&(K==="instanceMatrix"&&j.instanceMatrix&&(L=j.instanceMatrix),K==="instanceColor"&&j.instanceColor&&(L=j.instanceColor)),L!==void 0){const Ee=L.normalized,Ae=L.itemSize,Ce=t.get(L);if(Ce===void 0)continue;const ze=Ce.buffer,Ie=Ce.type,it=Ce.bytesPerElement,vt=r.isWebGL2===!0&&(Ie===n.INT||Ie===n.UNSIGNED_INT||L.gpuType===e2);if(L.isInterleavedBufferAttribute){const Ke=L.data,ee=Ke.stride,Ft=L.offset;if(Ke.isInstancedInterleavedBuffer){for(let We=0;We<re.locationSize;We++)M(re.location+We,Ke.meshPerAttribute);j.isInstancedMesh!==!0&&ae._maxInstanceCount===void 0&&(ae._maxInstanceCount=Ke.meshPerAttribute*Ke.count)}else for(let We=0;We<re.locationSize;We++)D(re.location+We);n.bindBuffer(n.ARRAY_BUFFER,ze);for(let We=0;We<re.locationSize;We++)C(re.location+We,Ae/re.locationSize,Ie,Ee,ee*it,(Ft+Ae/re.locationSize*We)*it,vt)}else{if(L.isInstancedBufferAttribute){for(let Ke=0;Ke<re.locationSize;Ke++)M(re.location+Ke,L.meshPerAttribute);j.isInstancedMesh!==!0&&ae._maxInstanceCount===void 0&&(ae._maxInstanceCount=L.meshPerAttribute*L.count)}else for(let Ke=0;Ke<re.locationSize;Ke++)D(re.location+Ke);n.bindBuffer(n.ARRAY_BUFFER,ze);for(let Ke=0;Ke<re.locationSize;Ke++)C(re.location+Ke,Ae/re.locationSize,Ie,Ee,Ae*it,Ae/re.locationSize*Ke*it,vt)}}else if(R!==void 0){const Ee=R[K];if(Ee!==void 0)switch(Ee.length){case 2:n.vertexAttrib2fv(re.location,Ee);break;case 3:n.vertexAttrib3fv(re.location,Ee);break;case 4:n.vertexAttrib4fv(re.location,Ee);break;default:n.vertexAttrib1fv(re.location,Ee)}}}}y()}function S(){Y();for(const j in o){const q=o[j];for(const he in q){const ae=q[he];for(const ie in ae)T(ae[ie].object),delete ae[ie];delete q[he]}delete o[j]}}function I(j){if(o[j.id]===void 0)return;const q=o[j.id];for(const he in q){const ae=q[he];for(const ie in ae)T(ae[ie].object),delete ae[ie];delete q[he]}delete o[j.id]}function V(j){for(const q in o){const he=o[q];if(he[j.id]===void 0)continue;const ae=he[j.id];for(const ie in ae)T(ae[ie].object),delete ae[ie];delete he[j.id]}}function Y(){X(),c=!0,u!==l&&(u=l,d(u.object))}function X(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:Y,resetDefaultState:X,dispose:S,releaseStatesOfGeometry:I,releaseStatesOfProgram:V,initAttributes:_,enableAttribute:D,disableUnusedAttributes:y}}function vD(n,e,t,r){const i=r.isWebGL2;let s;function a(u){s=u}function o(u,c){n.drawArrays(s,u,c),t.update(c,s,1)}function l(u,c,h){if(h===0)return;let f,d;if(i)f=n,d="drawArraysInstanced";else if(f=e.get("ANGLE_instanced_arrays"),d="drawArraysInstancedANGLE",f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[d](s,u,c,h),t.update(c,s,h)}this.setMode=a,this.render=o,this.renderInstances=l}function xD(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const C=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(C.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(C){if(C==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";C="mediump"}return C==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let o=t.precision!==void 0?t.precision:"highp";const l=s(o);l!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",l,"instead."),o=l);const u=a||e.has("WEBGL_draw_buffers"),c=t.logarithmicDepthBuffer===!0,h=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),f=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),d=n.getParameter(n.MAX_TEXTURE_SIZE),T=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),E=n.getParameter(n.MAX_VERTEX_ATTRIBS),g=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),p=n.getParameter(n.MAX_VARYING_VECTORS),A=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),_=f>0,D=a||e.has("OES_texture_float"),M=_&&D,y=a?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:a,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:o,logarithmicDepthBuffer:c,maxTextures:h,maxVertexTextures:f,maxTextureSize:d,maxCubemapSize:T,maxAttributes:E,maxVertexUniforms:g,maxVaryings:p,maxFragmentUniforms:A,vertexTextures:_,floatFragmentTextures:D,floatVertexTextures:M,maxSamples:y}}function AD(n){const e=this;let t=null,r=0,i=!1,s=!1;const a=new ss,o=new ht,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,f){const d=h.length!==0||f||r!==0||i;return i=f,r=h.length,d},this.beginShadows=function(){s=!0,c(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,f){t=c(h,f,0)},this.setState=function(h,f,d){const T=h.clippingPlanes,E=h.clipIntersection,g=h.clipShadows,p=n.get(h);if(!i||T===null||T.length===0||s&&!g)s?c(null):u();else{const A=s?0:r,_=A*4;let D=p.clippingState||null;l.value=D,D=c(T,f,_,d);for(let M=0;M!==_;++M)D[M]=t[M];p.clippingState=D,this.numIntersection=E?this.numPlanes:0,this.numPlanes+=A}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(h,f,d,T){const E=h!==null?h.length:0;let g=null;if(E!==0){if(g=l.value,T!==!0||g===null){const p=d+E*4,A=f.matrixWorldInverse;o.getNormalMatrix(A),(g===null||g.length<p)&&(g=new Float32Array(p));for(let _=0,D=d;_!==E;++_,D+=4)a.copy(h[_]).applyMatrix4(A,o),a.normal.toArray(g,D),g[D+3]=a.constant}l.value=g,l.needsUpdate=!0}return e.numPlanes=E,e.numIntersection=0,g}}function yD(n){let e=new WeakMap;function t(a,o){return o===ru?a.mapping=ta:o===iu&&(a.mapping=na),a}function r(a){if(a&&a.isTexture&&a.isRenderTargetTexture===!1){const o=a.mapping;if(o===ru||o===iu)if(e.has(a)){const l=e.get(a).texture;return t(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const u=new kb(l.height/2);return u.fromEquirectangularTexture(n,a),e.set(a,u),a.addEventListener("dispose",i),t(u.texture,a.mapping)}else return null}}return a}function i(a){const o=a.target;o.removeEventListener("dispose",i);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class SD extends T2{constructor(e=-1,t=1,r=1,i=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,a=r+e,o=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,a=s+u*this.view.width,o-=c*this.view.offsetY,l=o-c*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Ys=4,yp=[.125,.215,.35,.446,.526,.582],ls=20,bl=new SD,Sp=new Mt;let Ml=null;const as=(1+Math.sqrt(5))/2,zs=1/as,bp=[new ne(1,1,1),new ne(-1,1,1),new ne(1,1,-1),new ne(-1,1,-1),new ne(0,as,zs),new ne(0,as,-zs),new ne(zs,0,as),new ne(-zs,0,as),new ne(as,zs,0),new ne(-as,zs,0)];class Mp{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){Ml=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=wp(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Dp(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Ml),e.scissorTest=!1,e1(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===ta||e.mapping===na?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Ml=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Qn,minFilter:Qn,generateMipmaps:!1,type:qa,format:Tr,colorSpace:Fr,depthBuffer:!1},i=Cp(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Cp(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=bD(s)),this._blurMaterial=MD(s,e,t)}return i}_compileMaterial(e){const t=new Li(this._lodPlanes[0],e);this._renderer.compile(t,bl)}_sceneToCubeUV(e,t,r,i){const o=new Zn(90,1,t,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,h=c.autoClear,f=c.toneMapping;c.getClearColor(Sp),c.toneMapping=Pi,c.autoClear=!1;const d=new p2({name:"PMREM.Background",side:In,depthWrite:!1,depthTest:!1}),T=new Li(new ao,d);let E=!1;const g=e.background;g?g.isColor&&(d.color.copy(g),e.background=null,E=!0):(d.color.copy(Sp),E=!0);for(let p=0;p<6;p++){const A=p%3;A===0?(o.up.set(0,l[p],0),o.lookAt(u[p],0,0)):A===1?(o.up.set(0,0,l[p]),o.lookAt(0,u[p],0)):(o.up.set(0,l[p],0),o.lookAt(0,0,u[p]));const _=this._cubeSize;e1(i,A*_,p>2?_:0,_,_),c.setRenderTarget(i),E&&c.render(T,o),c.render(e,o)}T.geometry.dispose(),T.material.dispose(),c.toneMapping=f,c.autoClear=h,e.background=g}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===ta||e.mapping===na;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=wp()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Dp());const s=i?this._cubemapMaterial:this._equirectMaterial,a=new Li(this._lodPlanes[0],s),o=s.uniforms;o.envMap.value=e;const l=this._cubeSize;e1(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(a,bl)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),a=bp[(i-1)%bp.length];this._blur(e,i-1,i,s,a)}t.autoClear=r}_blur(e,t,r,i,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,r,i,"latitudinal",s),this._halfBlur(a,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,a,o){const l=this._renderer,u=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,h=new Li(this._lodPlanes[i],u),f=u.uniforms,d=this._sizeLods[r]-1,T=isFinite(s)?Math.PI/(2*d):2*Math.PI/(2*ls-1),E=s/T,g=isFinite(s)?1+Math.floor(c*E):ls;g>ls&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${g} samples when the maximum is set to ${ls}`);const p=[];let A=0;for(let C=0;C<ls;++C){const B=C/E,S=Math.exp(-B*B/2);p.push(S),C===0?A+=S:C<g&&(A+=2*S)}for(let C=0;C<p.length;C++)p[C]=p[C]/A;f.envMap.value=e.texture,f.samples.value=g,f.weights.value=p,f.latitudinal.value=a==="latitudinal",o&&(f.poleAxis.value=o);const{_lodMax:_}=this;f.dTheta.value=T,f.mipInt.value=_-r;const D=this._sizeLods[i],M=3*D*(i>_-Ys?i-_+Ys:0),y=4*(this._cubeSize-D);e1(t,M,y,3*D,2*D),l.setRenderTarget(t),l.render(h,bl)}}function bD(n){const e=[],t=[],r=[];let i=n;const s=n-Ys+1+yp.length;for(let a=0;a<s;a++){const o=Math.pow(2,i);t.push(o);let l=1/o;a>n-Ys?l=yp[a-n+Ys-1]:a===0&&(l=0),r.push(l);const u=1/(o-2),c=-u,h=1+u,f=[c,c,h,c,h,h,c,c,h,h,c,h],d=6,T=6,E=3,g=2,p=1,A=new Float32Array(E*T*d),_=new Float32Array(g*T*d),D=new Float32Array(p*T*d);for(let y=0;y<d;y++){const C=y%3*2/3-1,B=y>2?0:-1,S=[C,B,0,C+2/3,B,0,C+2/3,B+1,0,C,B,0,C+2/3,B+1,0,C,B+1,0];A.set(S,E*T*y),_.set(f,g*T*y);const I=[y,y,y,y,y,y];D.set(I,p*T*y)}const M=new _r;M.setAttribute("position",new Wn(A,E)),M.setAttribute("uv",new Wn(_,g)),M.setAttribute("faceIndex",new Wn(D,p)),e.push(M),i>Ys&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function Cp(n,e,t){const r=new ps(n,e,t);return r.texture.mapping=r0,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function e1(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function MD(n,e,t){const r=new Float32Array(ls),i=new ne(0,1,0);return new Hi({name:"SphericalGaussianBlur",defines:{n:ls,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:pc(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Fi,depthTest:!1,depthWrite:!1})}function Dp(){return new Hi({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:pc(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Fi,depthTest:!1,depthWrite:!1})}function wp(){return new Hi({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:pc(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Fi,depthTest:!1,depthWrite:!1})}function pc(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function CD(n){let e=new WeakMap,t=null;function r(o){if(o&&o.isTexture){const l=o.mapping,u=l===ru||l===iu,c=l===ta||l===na;if(u||c)if(o.isRenderTargetTexture&&o.needsPMREMUpdate===!0){o.needsPMREMUpdate=!1;let h=e.get(o);return t===null&&(t=new Mp(n)),h=u?t.fromEquirectangular(o,h):t.fromCubemap(o,h),e.set(o,h),h.texture}else{if(e.has(o))return e.get(o).texture;{const h=o.image;if(u&&h&&h.height>0||c&&h&&i(h)){t===null&&(t=new Mp(n));const f=u?t.fromEquirectangular(o):t.fromCubemap(o);return e.set(o,f),o.addEventListener("dispose",s),f.texture}else return null}}}return o}function i(o){let l=0;const u=6;for(let c=0;c<u;c++)o[c]!==void 0&&l++;return l===u}function s(o){const l=o.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:a}}function DD(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function wD(n,e,t,r){const i={},s=new WeakMap;function a(h){const f=h.target;f.index!==null&&e.remove(f.index);for(const T in f.attributes)e.remove(f.attributes[T]);for(const T in f.morphAttributes){const E=f.morphAttributes[T];for(let g=0,p=E.length;g<p;g++)e.remove(E[g])}f.removeEventListener("dispose",a),delete i[f.id];const d=s.get(f);d&&(e.remove(d),s.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,t.memory.geometries--}function o(h,f){return i[f.id]===!0||(f.addEventListener("dispose",a),i[f.id]=!0,t.memory.geometries++),f}function l(h){const f=h.attributes;for(const T in f)e.update(f[T],n.ARRAY_BUFFER);const d=h.morphAttributes;for(const T in d){const E=d[T];for(let g=0,p=E.length;g<p;g++)e.update(E[g],n.ARRAY_BUFFER)}}function u(h){const f=[],d=h.index,T=h.attributes.position;let E=0;if(d!==null){const A=d.array;E=d.version;for(let _=0,D=A.length;_<D;_+=3){const M=A[_+0],y=A[_+1],C=A[_+2];f.push(M,y,y,C,C,M)}}else if(T!==void 0){const A=T.array;E=T.version;for(let _=0,D=A.length/3-1;_<D;_+=3){const M=_+0,y=_+1,C=_+2;f.push(M,y,y,C,C,M)}}else return;const g=new(l2(f)?g2:m2)(f,1);g.version=E;const p=s.get(h);p&&e.remove(p),s.set(h,g)}function c(h){const f=s.get(h);if(f){const d=h.index;d!==null&&f.version<d.version&&u(h)}else u(h);return s.get(h)}return{get:o,update:l,getWireframeAttribute:c}}function RD(n,e,t,r){const i=r.isWebGL2;let s;function a(f){s=f}let o,l;function u(f){o=f.type,l=f.bytesPerElement}function c(f,d){n.drawElements(s,d,o,f*l),t.update(d,s,1)}function h(f,d,T){if(T===0)return;let E,g;if(i)E=n,g="drawElementsInstanced";else if(E=e.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",E===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}E[g](s,d,o,f*l,T),t.update(d,s,T)}this.setMode=a,this.setIndex=u,this.render=c,this.renderInstances=h}function ND(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,a,o){switch(t.calls++,a){case n.TRIANGLES:t.triangles+=o*(s/3);break;case n.LINES:t.lines+=o*(s/2);break;case n.LINE_STRIP:t.lines+=o*(s-1);break;case n.LINE_LOOP:t.lines+=o*s;break;case n.POINTS:t.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function ID(n,e){return n[0]-e[0]}function LD(n,e){return Math.abs(e[1])-Math.abs(n[1])}function FD(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,a=new cn,o=[];for(let u=0;u<8;u++)o[u]=[u,0];function l(u,c,h){const f=u.morphTargetInfluences;if(e.isWebGL2===!0){const d=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,T=d!==void 0?d.length:0;let E=s.get(c);if(E===void 0||E.count!==T){let j=function(){Y.dispose(),s.delete(c),c.removeEventListener("dispose",j)};E!==void 0&&E.texture.dispose();const A=c.morphAttributes.position!==void 0,_=c.morphAttributes.normal!==void 0,D=c.morphAttributes.color!==void 0,M=c.morphAttributes.position||[],y=c.morphAttributes.normal||[],C=c.morphAttributes.color||[];let B=0;A===!0&&(B=1),_===!0&&(B=2),D===!0&&(B=3);let S=c.attributes.position.count*B,I=1;S>e.maxTextureSize&&(I=Math.ceil(S/e.maxTextureSize),S=e.maxTextureSize);const V=new Float32Array(S*I*4*T),Y=new h2(V,S,I,T);Y.type=Ii,Y.needsUpdate=!0;const X=B*4;for(let q=0;q<T;q++){const he=M[q],ae=y[q],ie=C[q],ce=S*I*4*q;for(let R=0;R<he.count;R++){const K=R*X;A===!0&&(a.fromBufferAttribute(he,R),V[ce+K+0]=a.x,V[ce+K+1]=a.y,V[ce+K+2]=a.z,V[ce+K+3]=0),_===!0&&(a.fromBufferAttribute(ae,R),V[ce+K+4]=a.x,V[ce+K+5]=a.y,V[ce+K+6]=a.z,V[ce+K+7]=0),D===!0&&(a.fromBufferAttribute(ie,R),V[ce+K+8]=a.x,V[ce+K+9]=a.y,V[ce+K+10]=a.z,V[ce+K+11]=ie.itemSize===4?a.w:1)}}E={count:T,texture:Y,size:new Ct(S,I)},s.set(c,E),c.addEventListener("dispose",j)}let g=0;for(let A=0;A<f.length;A++)g+=f[A];const p=c.morphTargetsRelative?1:1-g;h.getUniforms().setValue(n,"morphTargetBaseInfluence",p),h.getUniforms().setValue(n,"morphTargetInfluences",f),h.getUniforms().setValue(n,"morphTargetsTexture",E.texture,t),h.getUniforms().setValue(n,"morphTargetsTextureSize",E.size)}else{const d=f===void 0?0:f.length;let T=r[c.id];if(T===void 0||T.length!==d){T=[];for(let _=0;_<d;_++)T[_]=[_,0];r[c.id]=T}for(let _=0;_<d;_++){const D=T[_];D[0]=_,D[1]=f[_]}T.sort(LD);for(let _=0;_<8;_++)_<d&&T[_][1]?(o[_][0]=T[_][0],o[_][1]=T[_][1]):(o[_][0]=Number.MAX_SAFE_INTEGER,o[_][1]=0);o.sort(ID);const E=c.morphAttributes.position,g=c.morphAttributes.normal;let p=0;for(let _=0;_<8;_++){const D=o[_],M=D[0],y=D[1];M!==Number.MAX_SAFE_INTEGER&&y?(E&&c.getAttribute("morphTarget"+_)!==E[M]&&c.setAttribute("morphTarget"+_,E[M]),g&&c.getAttribute("morphNormal"+_)!==g[M]&&c.setAttribute("morphNormal"+_,g[M]),i[_]=y,p+=y):(E&&c.hasAttribute("morphTarget"+_)===!0&&c.deleteAttribute("morphTarget"+_),g&&c.hasAttribute("morphNormal"+_)===!0&&c.deleteAttribute("morphNormal"+_),i[_]=0)}const A=c.morphTargetsRelative?1:1-p;h.getUniforms().setValue(n,"morphTargetBaseInfluence",A),h.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function PD(n,e,t,r){let i=new WeakMap;function s(l){const u=r.render.frame,c=l.geometry,h=e.get(l,c);if(i.get(h)!==u&&(e.update(h),i.set(h,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),i.get(l)!==u&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),i.set(l,u))),l.isSkinnedMesh){const f=l.skeleton;i.get(f)!==u&&(f.update(),i.set(f,u))}return h}function a(){i=new WeakMap}function o(l){const u=l.target;u.removeEventListener("dispose",o),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:a}}const A2=new Ln,y2=new h2,S2=new xb,b2=new _2,Rp=[],Np=[],Ip=new Float32Array(16),Lp=new Float32Array(9),Fp=new Float32Array(4);function da(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=Rp[i];if(s===void 0&&(s=new Float32Array(i),Rp[i]=s),e!==0){r.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=t,n[a].toArray(s,o)}return s}function tn(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function nn(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function s0(n,e){let t=Np[e];t===void 0&&(t=new Int32Array(e),Np[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function OD(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function kD(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(tn(t,e))return;n.uniform2fv(this.addr,e),nn(t,e)}}function BD(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(tn(t,e))return;n.uniform3fv(this.addr,e),nn(t,e)}}function UD(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(tn(t,e))return;n.uniform4fv(this.addr,e),nn(t,e)}}function zD(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(tn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),nn(t,e)}else{if(tn(t,r))return;Fp.set(r),n.uniformMatrix2fv(this.addr,!1,Fp),nn(t,r)}}function HD(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(tn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),nn(t,e)}else{if(tn(t,r))return;Lp.set(r),n.uniformMatrix3fv(this.addr,!1,Lp),nn(t,r)}}function GD(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(tn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),nn(t,e)}else{if(tn(t,r))return;Ip.set(r),n.uniformMatrix4fv(this.addr,!1,Ip),nn(t,r)}}function VD(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function WD(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(tn(t,e))return;n.uniform2iv(this.addr,e),nn(t,e)}}function qD(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(tn(t,e))return;n.uniform3iv(this.addr,e),nn(t,e)}}function XD(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(tn(t,e))return;n.uniform4iv(this.addr,e),nn(t,e)}}function YD(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function KD(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(tn(t,e))return;n.uniform2uiv(this.addr,e),nn(t,e)}}function $D(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(tn(t,e))return;n.uniform3uiv(this.addr,e),nn(t,e)}}function jD(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(tn(t,e))return;n.uniform4uiv(this.addr,e),nn(t,e)}}function QD(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||A2,i)}function ZD(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||S2,i)}function JD(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||b2,i)}function ew(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||y2,i)}function tw(n){switch(n){case 5126:return OD;case 35664:return kD;case 35665:return BD;case 35666:return UD;case 35674:return zD;case 35675:return HD;case 35676:return GD;case 5124:case 35670:return VD;case 35667:case 35671:return WD;case 35668:case 35672:return qD;case 35669:case 35673:return XD;case 5125:return YD;case 36294:return KD;case 36295:return $D;case 36296:return jD;case 35678:case 36198:case 36298:case 36306:case 35682:return QD;case 35679:case 36299:case 36307:return ZD;case 35680:case 36300:case 36308:case 36293:return JD;case 36289:case 36303:case 36311:case 36292:return ew}}function nw(n,e){n.uniform1fv(this.addr,e)}function rw(n,e){const t=da(e,this.size,2);n.uniform2fv(this.addr,t)}function iw(n,e){const t=da(e,this.size,3);n.uniform3fv(this.addr,t)}function sw(n,e){const t=da(e,this.size,4);n.uniform4fv(this.addr,t)}function aw(n,e){const t=da(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function ow(n,e){const t=da(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function lw(n,e){const t=da(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function uw(n,e){n.uniform1iv(this.addr,e)}function cw(n,e){n.uniform2iv(this.addr,e)}function hw(n,e){n.uniform3iv(this.addr,e)}function fw(n,e){n.uniform4iv(this.addr,e)}function dw(n,e){n.uniform1uiv(this.addr,e)}function pw(n,e){n.uniform2uiv(this.addr,e)}function mw(n,e){n.uniform3uiv(this.addr,e)}function gw(n,e){n.uniform4uiv(this.addr,e)}function Ew(n,e,t){const r=this.cache,i=e.length,s=s0(t,i);tn(r,s)||(n.uniform1iv(this.addr,s),nn(r,s));for(let a=0;a!==i;++a)t.setTexture2D(e[a]||A2,s[a])}function Tw(n,e,t){const r=this.cache,i=e.length,s=s0(t,i);tn(r,s)||(n.uniform1iv(this.addr,s),nn(r,s));for(let a=0;a!==i;++a)t.setTexture3D(e[a]||S2,s[a])}function _w(n,e,t){const r=this.cache,i=e.length,s=s0(t,i);tn(r,s)||(n.uniform1iv(this.addr,s),nn(r,s));for(let a=0;a!==i;++a)t.setTextureCube(e[a]||b2,s[a])}function vw(n,e,t){const r=this.cache,i=e.length,s=s0(t,i);tn(r,s)||(n.uniform1iv(this.addr,s),nn(r,s));for(let a=0;a!==i;++a)t.setTexture2DArray(e[a]||y2,s[a])}function xw(n){switch(n){case 5126:return nw;case 35664:return rw;case 35665:return iw;case 35666:return sw;case 35674:return aw;case 35675:return ow;case 35676:return lw;case 5124:case 35670:return uw;case 35667:case 35671:return cw;case 35668:case 35672:return hw;case 35669:case 35673:return fw;case 5125:return dw;case 36294:return pw;case 36295:return mw;case 36296:return gw;case 35678:case 36198:case 36298:case 36306:case 35682:return Ew;case 35679:case 36299:case 36307:return Tw;case 35680:case 36300:case 36308:case 36293:return _w;case 36289:case 36303:case 36311:case 36292:return vw}}class Aw{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=tw(t.type)}}class yw{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=xw(t.type)}}class Sw{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,a=i.length;s!==a;++s){const o=i[s];o.setValue(e,t[o.id],r)}}}const Cl=/(\w+)(\])?(\[|\.)?/g;function Pp(n,e){n.seq.push(e),n.map[e.id]=e}function bw(n,e,t){const r=n.name,i=r.length;for(Cl.lastIndex=0;;){const s=Cl.exec(r),a=Cl.lastIndex;let o=s[1];const l=s[2]==="]",u=s[3];if(l&&(o=o|0),u===void 0||u==="["&&a+2===i){Pp(t,u===void 0?new Aw(o,n,e):new yw(o,n,e));break}else{let h=t.map[o];h===void 0&&(h=new Sw(o),Pp(t,h)),t=h}}}class T1{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),a=e.getUniformLocation(t,s.name);bw(s,a,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,a=t.length;s!==a;++s){const o=t[s],l=r[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const a=e[i];a.id in t&&r.push(a)}return r}}function Op(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let Mw=0;function Cw(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let a=i;a<s;a++){const o=a+1;r.push(`${o===e?">":" "} ${o}: ${t[a]}`)}return r.join(`
`)}function Dw(n){switch(n){case Fr:return["Linear","( value )"];case ct:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),["Linear","( value )"]}}function kp(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const a=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+Cw(n.getShaderSource(e),a)}else return i}function ww(n,e){const t=Dw(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function Rw(n,e){let t;switch(e){case kS:t="Linear";break;case BS:t="Reinhard";break;case US:t="OptimizedCineon";break;case zS:t="ACESFilmic";break;case HS:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function Nw(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ra).join(`
`)}function Iw(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function Lw(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),a=s.name;let o=1;s.type===n.FLOAT_MAT2&&(o=2),s.type===n.FLOAT_MAT3&&(o=3),s.type===n.FLOAT_MAT4&&(o=4),t[a]={type:s.type,location:n.getAttribLocation(e,a),locationSize:o}}return t}function Ra(n){return n!==""}function Bp(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Up(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Fw=/^[ \t]*#include +<([\w\d./]+)>/gm;function cu(n){return n.replace(Fw,Ow)}const Pw=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function Ow(n,e){let t=ut[e];if(t===void 0){const r=Pw.get(e);if(r!==void 0)t=ut[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return cu(t)}const kw=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function zp(n){return n.replace(kw,Bw)}function Bw(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function Hp(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Uw(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===$4?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===mS?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Jr&&(e="SHADOWMAP_TYPE_VSM"),e}function zw(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case ta:case na:e="ENVMAP_TYPE_CUBE";break;case r0:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Hw(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case na:e="ENVMAP_MODE_REFRACTION";break}return e}function Gw(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Z4:e="ENVMAP_BLENDING_MULTIPLY";break;case PS:e="ENVMAP_BLENDING_MIX";break;case OS:e="ENVMAP_BLENDING_ADD";break}return e}function Vw(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function Ww(n,e,t,r){const i=n.getContext(),s=t.defines;let a=t.vertexShader,o=t.fragmentShader;const l=Uw(t),u=zw(t),c=Hw(t),h=Gw(t),f=Vw(t),d=t.isWebGL2?"":Nw(t),T=Iw(s),E=i.createProgram();let g,p,A=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,T].filter(Ra).join(`
`),g.length>0&&(g+=`
`),p=[d,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,T].filter(Ra).join(`
`),p.length>0&&(p+=`
`)):(g=[Hp(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,T,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Ra).join(`
`),p=[d,Hp(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,T,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+c:"",t.envMap?"#define "+h:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Pi?"#define TONE_MAPPING":"",t.toneMapping!==Pi?ut.tonemapping_pars_fragment:"",t.toneMapping!==Pi?Rw("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",ut.colorspace_pars_fragment,ww("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Ra).join(`
`)),a=cu(a),a=Bp(a,t),a=Up(a,t),o=cu(o),o=Bp(o,t),o=Up(o,t),a=zp(a),o=zp(o),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(A=`#version 300 es
`,g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,p=["#define varying in",t.glslVersion===ap?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===ap?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+p);const _=A+g+a,D=A+p+o,M=Op(i,i.VERTEX_SHADER,_),y=Op(i,i.FRAGMENT_SHADER,D);if(i.attachShader(E,M),i.attachShader(E,y),t.index0AttributeName!==void 0?i.bindAttribLocation(E,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(E,0,"position"),i.linkProgram(E),n.debug.checkShaderErrors){const S=i.getProgramInfoLog(E).trim(),I=i.getShaderInfoLog(M).trim(),V=i.getShaderInfoLog(y).trim();let Y=!0,X=!0;if(i.getProgramParameter(E,i.LINK_STATUS)===!1)if(Y=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,E,M,y);else{const j=kp(i,M,"vertex"),q=kp(i,y,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(E,i.VALIDATE_STATUS)+`

Program Info Log: `+S+`
`+j+`
`+q)}else S!==""?console.warn("THREE.WebGLProgram: Program Info Log:",S):(I===""||V==="")&&(X=!1);X&&(this.diagnostics={runnable:Y,programLog:S,vertexShader:{log:I,prefix:g},fragmentShader:{log:V,prefix:p}})}i.deleteShader(M),i.deleteShader(y);let C;this.getUniforms=function(){return C===void 0&&(C=new T1(i,E)),C};let B;return this.getAttributes=function(){return B===void 0&&(B=Lw(i,E)),B},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(E),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=Mw++,this.cacheKey=e,this.usedTimes=1,this.program=E,this.vertexShader=M,this.fragmentShader=y,this}let qw=0;class Xw{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new Yw(e),t.set(e,r)),r}}class Yw{constructor(e){this.id=qw++,this.code=e,this.usedTimes=0}}function Kw(n,e,t,r,i,s,a){const o=new f2,l=new Xw,u=[],c=i.isWebGL2,h=i.logarithmicDepthBuffer,f=i.vertexTextures;let d=i.precision;const T={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function E(S){return S===0?"uv":`uv${S}`}function g(S,I,V,Y,X){const j=Y.fog,q=X.geometry,he=S.isMeshStandardMaterial?Y.environment:null,ae=(S.isMeshStandardMaterial?t:e).get(S.envMap||he),ie=ae&&ae.mapping===r0?ae.image.height:null,ce=T[S.type];S.precision!==null&&(d=i.getMaxPrecision(S.precision),d!==S.precision&&console.warn("THREE.WebGLProgram.getParameters:",S.precision,"not supported, using",d,"instead."));const R=q.morphAttributes.position||q.morphAttributes.normal||q.morphAttributes.color,K=R!==void 0?R.length:0;let re=0;q.morphAttributes.position!==void 0&&(re=1),q.morphAttributes.normal!==void 0&&(re=2),q.morphAttributes.color!==void 0&&(re=3);let L,Ee,Ae,Ce;if(ce){const Nt=Cr[ce];L=Nt.vertexShader,Ee=Nt.fragmentShader}else L=S.vertexShader,Ee=S.fragmentShader,l.update(S),Ae=l.getVertexShaderID(S),Ce=l.getFragmentShaderID(S);const ze=n.getRenderTarget(),Ie=X.isInstancedMesh===!0,it=!!S.map,vt=!!S.matcap,Ke=!!ae,ee=!!S.aoMap,Ft=!!S.lightMap,We=!!S.bumpMap,Je=!!S.normalMap,$e=!!S.displacementMap,xt=!!S.emissiveMap,st=!!S.metalnessMap,et=!!S.roughnessMap,At=S.anisotropy>0,Wt=S.clearcoat>0,rn=S.iridescence>0,P=S.sheen>0,N=S.transmission>0,se=At&&!!S.anisotropyMap,ye=Wt&&!!S.clearcoatMap,H=Wt&&!!S.clearcoatNormalMap,$=Wt&&!!S.clearcoatRoughnessMap,pe=rn&&!!S.iridescenceMap,de=rn&&!!S.iridescenceThicknessMap,Q=P&&!!S.sheenColorMap,Oe=P&&!!S.sheenRoughnessMap,Be=!!S.specularMap,Ue=!!S.specularColorMap,Le=!!S.specularIntensityMap,Fe=N&&!!S.transmissionMap,He=N&&!!S.thicknessMap,yt=!!S.gradientMap,G=!!S.alphaMap,De=S.alphaTest>0,oe=!!S.alphaHash,be=!!S.extensions,Re=!!q.attributes.uv1,Tt=!!q.attributes.uv2,Ot=!!q.attributes.uv3;let qt=Pi;return S.toneMapped&&(ze===null||ze.isXRRenderTarget===!0)&&(qt=n.toneMapping),{isWebGL2:c,shaderID:ce,shaderType:S.type,shaderName:S.name,vertexShader:L,fragmentShader:Ee,defines:S.defines,customVertexShaderID:Ae,customFragmentShaderID:Ce,isRawShaderMaterial:S.isRawShaderMaterial===!0,glslVersion:S.glslVersion,precision:d,instancing:Ie,instancingColor:Ie&&X.instanceColor!==null,supportsVertexTextures:f,outputColorSpace:ze===null?n.outputColorSpace:ze.isXRRenderTarget===!0?ze.texture.colorSpace:Fr,map:it,matcap:vt,envMap:Ke,envMapMode:Ke&&ae.mapping,envMapCubeUVHeight:ie,aoMap:ee,lightMap:Ft,bumpMap:We,normalMap:Je,displacementMap:f&&$e,emissiveMap:xt,normalMapObjectSpace:Je&&S.normalMapType===tb,normalMapTangentSpace:Je&&S.normalMapType===eb,metalnessMap:st,roughnessMap:et,anisotropy:At,anisotropyMap:se,clearcoat:Wt,clearcoatMap:ye,clearcoatNormalMap:H,clearcoatRoughnessMap:$,iridescence:rn,iridescenceMap:pe,iridescenceThicknessMap:de,sheen:P,sheenColorMap:Q,sheenRoughnessMap:Oe,specularMap:Be,specularColorMap:Ue,specularIntensityMap:Le,transmission:N,transmissionMap:Fe,thicknessMap:He,gradientMap:yt,opaque:S.transparent===!1&&S.blending===Zs,alphaMap:G,alphaTest:De,alphaHash:oe,combine:S.combine,mapUv:it&&E(S.map.channel),aoMapUv:ee&&E(S.aoMap.channel),lightMapUv:Ft&&E(S.lightMap.channel),bumpMapUv:We&&E(S.bumpMap.channel),normalMapUv:Je&&E(S.normalMap.channel),displacementMapUv:$e&&E(S.displacementMap.channel),emissiveMapUv:xt&&E(S.emissiveMap.channel),metalnessMapUv:st&&E(S.metalnessMap.channel),roughnessMapUv:et&&E(S.roughnessMap.channel),anisotropyMapUv:se&&E(S.anisotropyMap.channel),clearcoatMapUv:ye&&E(S.clearcoatMap.channel),clearcoatNormalMapUv:H&&E(S.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:$&&E(S.clearcoatRoughnessMap.channel),iridescenceMapUv:pe&&E(S.iridescenceMap.channel),iridescenceThicknessMapUv:de&&E(S.iridescenceThicknessMap.channel),sheenColorMapUv:Q&&E(S.sheenColorMap.channel),sheenRoughnessMapUv:Oe&&E(S.sheenRoughnessMap.channel),specularMapUv:Be&&E(S.specularMap.channel),specularColorMapUv:Ue&&E(S.specularColorMap.channel),specularIntensityMapUv:Le&&E(S.specularIntensityMap.channel),transmissionMapUv:Fe&&E(S.transmissionMap.channel),thicknessMapUv:He&&E(S.thicknessMap.channel),alphaMapUv:G&&E(S.alphaMap.channel),vertexTangents:!!q.attributes.tangent&&(Je||At),vertexColors:S.vertexColors,vertexAlphas:S.vertexColors===!0&&!!q.attributes.color&&q.attributes.color.itemSize===4,vertexUv1s:Re,vertexUv2s:Tt,vertexUv3s:Ot,pointsUvs:X.isPoints===!0&&!!q.attributes.uv&&(it||G),fog:!!j,useFog:S.fog===!0,fogExp2:j&&j.isFogExp2,flatShading:S.flatShading===!0,sizeAttenuation:S.sizeAttenuation===!0,logarithmicDepthBuffer:h,skinning:X.isSkinnedMesh===!0,morphTargets:q.morphAttributes.position!==void 0,morphNormals:q.morphAttributes.normal!==void 0,morphColors:q.morphAttributes.color!==void 0,morphTargetsCount:K,morphTextureStride:re,numDirLights:I.directional.length,numPointLights:I.point.length,numSpotLights:I.spot.length,numSpotLightMaps:I.spotLightMap.length,numRectAreaLights:I.rectArea.length,numHemiLights:I.hemi.length,numDirLightShadows:I.directionalShadowMap.length,numPointLightShadows:I.pointShadowMap.length,numSpotLightShadows:I.spotShadowMap.length,numSpotLightShadowsWithMaps:I.numSpotLightShadowsWithMaps,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:S.dithering,shadowMapEnabled:n.shadowMap.enabled&&V.length>0,shadowMapType:n.shadowMap.type,toneMapping:qt,useLegacyLights:n._useLegacyLights,premultipliedAlpha:S.premultipliedAlpha,doubleSided:S.side===ti,flipSided:S.side===In,useDepthPacking:S.depthPacking>=0,depthPacking:S.depthPacking||0,index0AttributeName:S.index0AttributeName,extensionDerivatives:be&&S.extensions.derivatives===!0,extensionFragDepth:be&&S.extensions.fragDepth===!0,extensionDrawBuffers:be&&S.extensions.drawBuffers===!0,extensionShaderTextureLOD:be&&S.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:S.customProgramCacheKey()}}function p(S){const I=[];if(S.shaderID?I.push(S.shaderID):(I.push(S.customVertexShaderID),I.push(S.customFragmentShaderID)),S.defines!==void 0)for(const V in S.defines)I.push(V),I.push(S.defines[V]);return S.isRawShaderMaterial===!1&&(A(I,S),_(I,S),I.push(n.outputColorSpace)),I.push(S.customProgramCacheKey),I.join()}function A(S,I){S.push(I.precision),S.push(I.outputColorSpace),S.push(I.envMapMode),S.push(I.envMapCubeUVHeight),S.push(I.mapUv),S.push(I.alphaMapUv),S.push(I.lightMapUv),S.push(I.aoMapUv),S.push(I.bumpMapUv),S.push(I.normalMapUv),S.push(I.displacementMapUv),S.push(I.emissiveMapUv),S.push(I.metalnessMapUv),S.push(I.roughnessMapUv),S.push(I.anisotropyMapUv),S.push(I.clearcoatMapUv),S.push(I.clearcoatNormalMapUv),S.push(I.clearcoatRoughnessMapUv),S.push(I.iridescenceMapUv),S.push(I.iridescenceThicknessMapUv),S.push(I.sheenColorMapUv),S.push(I.sheenRoughnessMapUv),S.push(I.specularMapUv),S.push(I.specularColorMapUv),S.push(I.specularIntensityMapUv),S.push(I.transmissionMapUv),S.push(I.thicknessMapUv),S.push(I.combine),S.push(I.fogExp2),S.push(I.sizeAttenuation),S.push(I.morphTargetsCount),S.push(I.morphAttributeCount),S.push(I.numDirLights),S.push(I.numPointLights),S.push(I.numSpotLights),S.push(I.numSpotLightMaps),S.push(I.numHemiLights),S.push(I.numRectAreaLights),S.push(I.numDirLightShadows),S.push(I.numPointLightShadows),S.push(I.numSpotLightShadows),S.push(I.numSpotLightShadowsWithMaps),S.push(I.shadowMapType),S.push(I.toneMapping),S.push(I.numClippingPlanes),S.push(I.numClipIntersection),S.push(I.depthPacking)}function _(S,I){o.disableAll(),I.isWebGL2&&o.enable(0),I.supportsVertexTextures&&o.enable(1),I.instancing&&o.enable(2),I.instancingColor&&o.enable(3),I.matcap&&o.enable(4),I.envMap&&o.enable(5),I.normalMapObjectSpace&&o.enable(6),I.normalMapTangentSpace&&o.enable(7),I.clearcoat&&o.enable(8),I.iridescence&&o.enable(9),I.alphaTest&&o.enable(10),I.vertexColors&&o.enable(11),I.vertexAlphas&&o.enable(12),I.vertexUv1s&&o.enable(13),I.vertexUv2s&&o.enable(14),I.vertexUv3s&&o.enable(15),I.vertexTangents&&o.enable(16),I.anisotropy&&o.enable(17),S.push(o.mask),o.disableAll(),I.fog&&o.enable(0),I.useFog&&o.enable(1),I.flatShading&&o.enable(2),I.logarithmicDepthBuffer&&o.enable(3),I.skinning&&o.enable(4),I.morphTargets&&o.enable(5),I.morphNormals&&o.enable(6),I.morphColors&&o.enable(7),I.premultipliedAlpha&&o.enable(8),I.shadowMapEnabled&&o.enable(9),I.useLegacyLights&&o.enable(10),I.doubleSided&&o.enable(11),I.flipSided&&o.enable(12),I.useDepthPacking&&o.enable(13),I.dithering&&o.enable(14),I.transmission&&o.enable(15),I.sheen&&o.enable(16),I.opaque&&o.enable(17),I.pointsUvs&&o.enable(18),S.push(o.mask)}function D(S){const I=T[S.type];let V;if(I){const Y=Cr[I];V=Lb.clone(Y.uniforms)}else V=S.uniforms;return V}function M(S,I){let V;for(let Y=0,X=u.length;Y<X;Y++){const j=u[Y];if(j.cacheKey===I){V=j,++V.usedTimes;break}}return V===void 0&&(V=new Ww(n,I,S,s),u.push(V)),V}function y(S){if(--S.usedTimes===0){const I=u.indexOf(S);u[I]=u[u.length-1],u.pop(),S.destroy()}}function C(S){l.remove(S)}function B(){l.dispose()}return{getParameters:g,getProgramCacheKey:p,getUniforms:D,acquireProgram:M,releaseProgram:y,releaseShaderCache:C,programs:u,dispose:B}}function $w(){let n=new WeakMap;function e(s){let a=n.get(s);return a===void 0&&(a={},n.set(s,a)),a}function t(s){n.delete(s)}function r(s,a,o){n.get(s)[a]=o}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function jw(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function Gp(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function Vp(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function a(h,f,d,T,E,g){let p=n[e];return p===void 0?(p={id:h.id,object:h,geometry:f,material:d,groupOrder:T,renderOrder:h.renderOrder,z:E,group:g},n[e]=p):(p.id=h.id,p.object=h,p.geometry=f,p.material=d,p.groupOrder=T,p.renderOrder=h.renderOrder,p.z=E,p.group=g),e++,p}function o(h,f,d,T,E,g){const p=a(h,f,d,T,E,g);d.transmission>0?r.push(p):d.transparent===!0?i.push(p):t.push(p)}function l(h,f,d,T,E,g){const p=a(h,f,d,T,E,g);d.transmission>0?r.unshift(p):d.transparent===!0?i.unshift(p):t.unshift(p)}function u(h,f){t.length>1&&t.sort(h||jw),r.length>1&&r.sort(f||Gp),i.length>1&&i.sort(f||Gp)}function c(){for(let h=e,f=n.length;h<f;h++){const d=n[h];if(d.id===null)break;d.id=null,d.object=null,d.geometry=null,d.material=null,d.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:o,unshift:l,finish:c,sort:u}}function Qw(){let n=new WeakMap;function e(r,i){const s=n.get(r);let a;return s===void 0?(a=new Vp,n.set(r,[a])):i>=s.length?(a=new Vp,s.push(a)):a=s[i],a}function t(){n=new WeakMap}return{get:e,dispose:t}}function Zw(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ne,color:new Mt};break;case"SpotLight":t={position:new ne,direction:new ne,color:new Mt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ne,color:new Mt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ne,skyColor:new Mt,groundColor:new Mt};break;case"RectAreaLight":t={color:new Mt,position:new ne,halfWidth:new ne,halfHeight:new ne};break}return n[e.id]=t,t}}}function Jw(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ct};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ct};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ct,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let eR=0;function tR(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function nR(n,e){const t=new Zw,r=Jw(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let c=0;c<9;c++)i.probe.push(new ne);const s=new ne,a=new Jt,o=new Jt;function l(c,h){let f=0,d=0,T=0;for(let V=0;V<9;V++)i.probe[V].set(0,0,0);let E=0,g=0,p=0,A=0,_=0,D=0,M=0,y=0,C=0,B=0;c.sort(tR);const S=h===!0?Math.PI:1;for(let V=0,Y=c.length;V<Y;V++){const X=c[V],j=X.color,q=X.intensity,he=X.distance,ae=X.shadow&&X.shadow.map?X.shadow.map.texture:null;if(X.isAmbientLight)f+=j.r*q*S,d+=j.g*q*S,T+=j.b*q*S;else if(X.isLightProbe)for(let ie=0;ie<9;ie++)i.probe[ie].addScaledVector(X.sh.coefficients[ie],q);else if(X.isDirectionalLight){const ie=t.get(X);if(ie.color.copy(X.color).multiplyScalar(X.intensity*S),X.castShadow){const ce=X.shadow,R=r.get(X);R.shadowBias=ce.bias,R.shadowNormalBias=ce.normalBias,R.shadowRadius=ce.radius,R.shadowMapSize=ce.mapSize,i.directionalShadow[E]=R,i.directionalShadowMap[E]=ae,i.directionalShadowMatrix[E]=X.shadow.matrix,D++}i.directional[E]=ie,E++}else if(X.isSpotLight){const ie=t.get(X);ie.position.setFromMatrixPosition(X.matrixWorld),ie.color.copy(j).multiplyScalar(q*S),ie.distance=he,ie.coneCos=Math.cos(X.angle),ie.penumbraCos=Math.cos(X.angle*(1-X.penumbra)),ie.decay=X.decay,i.spot[p]=ie;const ce=X.shadow;if(X.map&&(i.spotLightMap[C]=X.map,C++,ce.updateMatrices(X),X.castShadow&&B++),i.spotLightMatrix[p]=ce.matrix,X.castShadow){const R=r.get(X);R.shadowBias=ce.bias,R.shadowNormalBias=ce.normalBias,R.shadowRadius=ce.radius,R.shadowMapSize=ce.mapSize,i.spotShadow[p]=R,i.spotShadowMap[p]=ae,y++}p++}else if(X.isRectAreaLight){const ie=t.get(X);ie.color.copy(j).multiplyScalar(q),ie.halfWidth.set(X.width*.5,0,0),ie.halfHeight.set(0,X.height*.5,0),i.rectArea[A]=ie,A++}else if(X.isPointLight){const ie=t.get(X);if(ie.color.copy(X.color).multiplyScalar(X.intensity*S),ie.distance=X.distance,ie.decay=X.decay,X.castShadow){const ce=X.shadow,R=r.get(X);R.shadowBias=ce.bias,R.shadowNormalBias=ce.normalBias,R.shadowRadius=ce.radius,R.shadowMapSize=ce.mapSize,R.shadowCameraNear=ce.camera.near,R.shadowCameraFar=ce.camera.far,i.pointShadow[g]=R,i.pointShadowMap[g]=ae,i.pointShadowMatrix[g]=X.shadow.matrix,M++}i.point[g]=ie,g++}else if(X.isHemisphereLight){const ie=t.get(X);ie.skyColor.copy(X.color).multiplyScalar(q*S),ie.groundColor.copy(X.groundColor).multiplyScalar(q*S),i.hemi[_]=ie,_++}}A>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Me.LTC_FLOAT_1,i.rectAreaLTC2=Me.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Me.LTC_HALF_1,i.rectAreaLTC2=Me.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=f,i.ambient[1]=d,i.ambient[2]=T;const I=i.hash;(I.directionalLength!==E||I.pointLength!==g||I.spotLength!==p||I.rectAreaLength!==A||I.hemiLength!==_||I.numDirectionalShadows!==D||I.numPointShadows!==M||I.numSpotShadows!==y||I.numSpotMaps!==C)&&(i.directional.length=E,i.spot.length=p,i.rectArea.length=A,i.point.length=g,i.hemi.length=_,i.directionalShadow.length=D,i.directionalShadowMap.length=D,i.pointShadow.length=M,i.pointShadowMap.length=M,i.spotShadow.length=y,i.spotShadowMap.length=y,i.directionalShadowMatrix.length=D,i.pointShadowMatrix.length=M,i.spotLightMatrix.length=y+C-B,i.spotLightMap.length=C,i.numSpotLightShadowsWithMaps=B,I.directionalLength=E,I.pointLength=g,I.spotLength=p,I.rectAreaLength=A,I.hemiLength=_,I.numDirectionalShadows=D,I.numPointShadows=M,I.numSpotShadows=y,I.numSpotMaps=C,i.version=eR++)}function u(c,h){let f=0,d=0,T=0,E=0,g=0;const p=h.matrixWorldInverse;for(let A=0,_=c.length;A<_;A++){const D=c[A];if(D.isDirectionalLight){const M=i.directional[f];M.direction.setFromMatrixPosition(D.matrixWorld),s.setFromMatrixPosition(D.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(p),f++}else if(D.isSpotLight){const M=i.spot[T];M.position.setFromMatrixPosition(D.matrixWorld),M.position.applyMatrix4(p),M.direction.setFromMatrixPosition(D.matrixWorld),s.setFromMatrixPosition(D.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(p),T++}else if(D.isRectAreaLight){const M=i.rectArea[E];M.position.setFromMatrixPosition(D.matrixWorld),M.position.applyMatrix4(p),o.identity(),a.copy(D.matrixWorld),a.premultiply(p),o.extractRotation(a),M.halfWidth.set(D.width*.5,0,0),M.halfHeight.set(0,D.height*.5,0),M.halfWidth.applyMatrix4(o),M.halfHeight.applyMatrix4(o),E++}else if(D.isPointLight){const M=i.point[d];M.position.setFromMatrixPosition(D.matrixWorld),M.position.applyMatrix4(p),d++}else if(D.isHemisphereLight){const M=i.hemi[g];M.direction.setFromMatrixPosition(D.matrixWorld),M.direction.transformDirection(p),g++}}}return{setup:l,setupView:u,state:i}}function Wp(n,e){const t=new nR(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function a(h){r.push(h)}function o(h){i.push(h)}function l(h){t.setup(r,h)}function u(h){t.setupView(r,h)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:u,pushLight:a,pushShadow:o}}function rR(n,e){let t=new WeakMap;function r(s,a=0){const o=t.get(s);let l;return o===void 0?(l=new Wp(n,e),t.set(s,[l])):a>=o.length?(l=new Wp(n,e),o.push(l)):l=o[a],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class iR extends fa{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=ZS,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class sR extends fa{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const aR=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,oR=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function lR(n,e,t){let r=new v2;const i=new Ct,s=new Ct,a=new cn,o=new iR({depthPacking:JS}),l=new sR,u={},c=t.maxTextureSize,h={[zi]:In,[In]:zi,[ti]:ti},f=new Hi({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ct},radius:{value:4}},vertexShader:aR,fragmentShader:oR}),d=f.clone();d.defines.HORIZONTAL_PASS=1;const T=new _r;T.setAttribute("position",new Wn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const E=new Li(T,f),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=$4;let p=this.type;this.render=function(M,y,C){if(g.enabled===!1||g.autoUpdate===!1&&g.needsUpdate===!1||M.length===0)return;const B=n.getRenderTarget(),S=n.getActiveCubeFace(),I=n.getActiveMipmapLevel(),V=n.state;V.setBlending(Fi),V.buffers.color.setClear(1,1,1,1),V.buffers.depth.setTest(!0),V.setScissorTest(!1);const Y=p!==Jr&&this.type===Jr,X=p===Jr&&this.type!==Jr;for(let j=0,q=M.length;j<q;j++){const he=M[j],ae=he.shadow;if(ae===void 0){console.warn("THREE.WebGLShadowMap:",he,"has no shadow.");continue}if(ae.autoUpdate===!1&&ae.needsUpdate===!1)continue;i.copy(ae.mapSize);const ie=ae.getFrameExtents();if(i.multiply(ie),s.copy(ae.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(s.x=Math.floor(c/ie.x),i.x=s.x*ie.x,ae.mapSize.x=s.x),i.y>c&&(s.y=Math.floor(c/ie.y),i.y=s.y*ie.y,ae.mapSize.y=s.y)),ae.map===null||Y===!0||X===!0){const R=this.type!==Jr?{minFilter:_n,magFilter:_n}:{};ae.map!==null&&ae.map.dispose(),ae.map=new ps(i.x,i.y,R),ae.map.texture.name=he.name+".shadowMap",ae.camera.updateProjectionMatrix()}n.setRenderTarget(ae.map),n.clear();const ce=ae.getViewportCount();for(let R=0;R<ce;R++){const K=ae.getViewport(R);a.set(s.x*K.x,s.y*K.y,s.x*K.z,s.y*K.w),V.viewport(a),ae.updateMatrices(he,R),r=ae.getFrustum(),D(y,C,ae.camera,he,this.type)}ae.isPointLightShadow!==!0&&this.type===Jr&&A(ae,C),ae.needsUpdate=!1}p=this.type,g.needsUpdate=!1,n.setRenderTarget(B,S,I)};function A(M,y){const C=e.update(E);f.defines.VSM_SAMPLES!==M.blurSamples&&(f.defines.VSM_SAMPLES=M.blurSamples,d.defines.VSM_SAMPLES=M.blurSamples,f.needsUpdate=!0,d.needsUpdate=!0),M.mapPass===null&&(M.mapPass=new ps(i.x,i.y)),f.uniforms.shadow_pass.value=M.map.texture,f.uniforms.resolution.value=M.mapSize,f.uniforms.radius.value=M.radius,n.setRenderTarget(M.mapPass),n.clear(),n.renderBufferDirect(y,null,C,f,E,null),d.uniforms.shadow_pass.value=M.mapPass.texture,d.uniforms.resolution.value=M.mapSize,d.uniforms.radius.value=M.radius,n.setRenderTarget(M.map),n.clear(),n.renderBufferDirect(y,null,C,d,E,null)}function _(M,y,C,B){let S=null;const I=C.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(I!==void 0)S=I;else if(S=C.isPointLight===!0?l:o,n.localClippingEnabled&&y.clipShadows===!0&&Array.isArray(y.clippingPlanes)&&y.clippingPlanes.length!==0||y.displacementMap&&y.displacementScale!==0||y.alphaMap&&y.alphaTest>0||y.map&&y.alphaTest>0){const V=S.uuid,Y=y.uuid;let X=u[V];X===void 0&&(X={},u[V]=X);let j=X[Y];j===void 0&&(j=S.clone(),X[Y]=j),S=j}if(S.visible=y.visible,S.wireframe=y.wireframe,B===Jr?S.side=y.shadowSide!==null?y.shadowSide:y.side:S.side=y.shadowSide!==null?y.shadowSide:h[y.side],S.alphaMap=y.alphaMap,S.alphaTest=y.alphaTest,S.map=y.map,S.clipShadows=y.clipShadows,S.clippingPlanes=y.clippingPlanes,S.clipIntersection=y.clipIntersection,S.displacementMap=y.displacementMap,S.displacementScale=y.displacementScale,S.displacementBias=y.displacementBias,S.wireframeLinewidth=y.wireframeLinewidth,S.linewidth=y.linewidth,C.isPointLight===!0&&S.isMeshDistanceMaterial===!0){const V=n.properties.get(S);V.light=C}return S}function D(M,y,C,B,S){if(M.visible===!1)return;if(M.layers.test(y.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&S===Jr)&&(!M.frustumCulled||r.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(C.matrixWorldInverse,M.matrixWorld);const Y=e.update(M),X=M.material;if(Array.isArray(X)){const j=Y.groups;for(let q=0,he=j.length;q<he;q++){const ae=j[q],ie=X[ae.materialIndex];if(ie&&ie.visible){const ce=_(M,ie,B,S);n.renderBufferDirect(C,null,Y,ce,M,ae)}}}else if(X.visible){const j=_(M,X,B,S);n.renderBufferDirect(C,null,Y,j,M,null)}}const V=M.children;for(let Y=0,X=V.length;Y<X;Y++)D(V[Y],y,C,B,S)}}function uR(n,e,t){const r=t.isWebGL2;function i(){let G=!1;const De=new cn;let oe=null;const be=new cn(0,0,0,0);return{setMask:function(Re){oe!==Re&&!G&&(n.colorMask(Re,Re,Re,Re),oe=Re)},setLocked:function(Re){G=Re},setClear:function(Re,Tt,Ot,qt,mi){mi===!0&&(Re*=qt,Tt*=qt,Ot*=qt),De.set(Re,Tt,Ot,qt),be.equals(De)===!1&&(n.clearColor(Re,Tt,Ot,qt),be.copy(De))},reset:function(){G=!1,oe=null,be.set(-1,0,0,0)}}}function s(){let G=!1,De=null,oe=null,be=null;return{setTest:function(Re){Re?ze(n.DEPTH_TEST):Ie(n.DEPTH_TEST)},setMask:function(Re){De!==Re&&!G&&(n.depthMask(Re),De=Re)},setFunc:function(Re){if(oe!==Re){switch(Re){case DS:n.depthFunc(n.NEVER);break;case wS:n.depthFunc(n.ALWAYS);break;case RS:n.depthFunc(n.LESS);break;case nu:n.depthFunc(n.LEQUAL);break;case NS:n.depthFunc(n.EQUAL);break;case IS:n.depthFunc(n.GEQUAL);break;case LS:n.depthFunc(n.GREATER);break;case FS:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}oe=Re}},setLocked:function(Re){G=Re},setClear:function(Re){be!==Re&&(n.clearDepth(Re),be=Re)},reset:function(){G=!1,De=null,oe=null,be=null}}}function a(){let G=!1,De=null,oe=null,be=null,Re=null,Tt=null,Ot=null,qt=null,mi=null;return{setTest:function(Nt){G||(Nt?ze(n.STENCIL_TEST):Ie(n.STENCIL_TEST))},setMask:function(Nt){De!==Nt&&!G&&(n.stencilMask(Nt),De=Nt)},setFunc:function(Nt,Ar,gn){(oe!==Nt||be!==Ar||Re!==gn)&&(n.stencilFunc(Nt,Ar,gn),oe=Nt,be=Ar,Re=gn)},setOp:function(Nt,Ar,gn){(Tt!==Nt||Ot!==Ar||qt!==gn)&&(n.stencilOp(Nt,Ar,gn),Tt=Nt,Ot=Ar,qt=gn)},setLocked:function(Nt){G=Nt},setClear:function(Nt){mi!==Nt&&(n.clearStencil(Nt),mi=Nt)},reset:function(){G=!1,De=null,oe=null,be=null,Re=null,Tt=null,Ot=null,qt=null,mi=null}}}const o=new i,l=new s,u=new a,c=new WeakMap,h=new WeakMap;let f={},d={},T=new WeakMap,E=[],g=null,p=!1,A=null,_=null,D=null,M=null,y=null,C=null,B=null,S=!1,I=null,V=null,Y=null,X=null,j=null;const q=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let he=!1,ae=0;const ie=n.getParameter(n.VERSION);ie.indexOf("WebGL")!==-1?(ae=parseFloat(/^WebGL (\d)/.exec(ie)[1]),he=ae>=1):ie.indexOf("OpenGL ES")!==-1&&(ae=parseFloat(/^OpenGL ES (\d)/.exec(ie)[1]),he=ae>=2);let ce=null,R={};const K=n.getParameter(n.SCISSOR_BOX),re=n.getParameter(n.VIEWPORT),L=new cn().fromArray(K),Ee=new cn().fromArray(re);function Ae(G,De,oe,be){const Re=new Uint8Array(4),Tt=n.createTexture();n.bindTexture(G,Tt),n.texParameteri(G,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(G,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Ot=0;Ot<oe;Ot++)r&&(G===n.TEXTURE_3D||G===n.TEXTURE_2D_ARRAY)?n.texImage3D(De,0,n.RGBA,1,1,be,0,n.RGBA,n.UNSIGNED_BYTE,Re):n.texImage2D(De+Ot,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Re);return Tt}const Ce={};Ce[n.TEXTURE_2D]=Ae(n.TEXTURE_2D,n.TEXTURE_2D,1),Ce[n.TEXTURE_CUBE_MAP]=Ae(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(Ce[n.TEXTURE_2D_ARRAY]=Ae(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Ce[n.TEXTURE_3D]=Ae(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),o.setClear(0,0,0,1),l.setClear(1),u.setClear(0),ze(n.DEPTH_TEST),l.setFunc(nu),$e(!1),xt(wd),ze(n.CULL_FACE),We(Fi);function ze(G){f[G]!==!0&&(n.enable(G),f[G]=!0)}function Ie(G){f[G]!==!1&&(n.disable(G),f[G]=!1)}function it(G,De){return d[G]!==De?(n.bindFramebuffer(G,De),d[G]=De,r&&(G===n.DRAW_FRAMEBUFFER&&(d[n.FRAMEBUFFER]=De),G===n.FRAMEBUFFER&&(d[n.DRAW_FRAMEBUFFER]=De)),!0):!1}function vt(G,De){let oe=E,be=!1;if(G)if(oe=T.get(De),oe===void 0&&(oe=[],T.set(De,oe)),G.isWebGLMultipleRenderTargets){const Re=G.texture;if(oe.length!==Re.length||oe[0]!==n.COLOR_ATTACHMENT0){for(let Tt=0,Ot=Re.length;Tt<Ot;Tt++)oe[Tt]=n.COLOR_ATTACHMENT0+Tt;oe.length=Re.length,be=!0}}else oe[0]!==n.COLOR_ATTACHMENT0&&(oe[0]=n.COLOR_ATTACHMENT0,be=!0);else oe[0]!==n.BACK&&(oe[0]=n.BACK,be=!0);be&&(t.isWebGL2?n.drawBuffers(oe):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(oe))}function Ke(G){return g!==G?(n.useProgram(G),g=G,!0):!1}const ee={[Ws]:n.FUNC_ADD,[ES]:n.FUNC_SUBTRACT,[TS]:n.FUNC_REVERSE_SUBTRACT};if(r)ee[Ld]=n.MIN,ee[Fd]=n.MAX;else{const G=e.get("EXT_blend_minmax");G!==null&&(ee[Ld]=G.MIN_EXT,ee[Fd]=G.MAX_EXT)}const Ft={[_S]:n.ZERO,[vS]:n.ONE,[xS]:n.SRC_COLOR,[j4]:n.SRC_ALPHA,[CS]:n.SRC_ALPHA_SATURATE,[bS]:n.DST_COLOR,[yS]:n.DST_ALPHA,[AS]:n.ONE_MINUS_SRC_COLOR,[Q4]:n.ONE_MINUS_SRC_ALPHA,[MS]:n.ONE_MINUS_DST_COLOR,[SS]:n.ONE_MINUS_DST_ALPHA};function We(G,De,oe,be,Re,Tt,Ot,qt){if(G===Fi){p===!0&&(Ie(n.BLEND),p=!1);return}if(p===!1&&(ze(n.BLEND),p=!0),G!==gS){if(G!==A||qt!==S){if((_!==Ws||y!==Ws)&&(n.blendEquation(n.FUNC_ADD),_=Ws,y=Ws),qt)switch(G){case Zs:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Rd:n.blendFunc(n.ONE,n.ONE);break;case Nd:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case Id:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",G);break}else switch(G){case Zs:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Rd:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case Nd:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case Id:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",G);break}D=null,M=null,C=null,B=null,A=G,S=qt}return}Re=Re||De,Tt=Tt||oe,Ot=Ot||be,(De!==_||Re!==y)&&(n.blendEquationSeparate(ee[De],ee[Re]),_=De,y=Re),(oe!==D||be!==M||Tt!==C||Ot!==B)&&(n.blendFuncSeparate(Ft[oe],Ft[be],Ft[Tt],Ft[Ot]),D=oe,M=be,C=Tt,B=Ot),A=G,S=!1}function Je(G,De){G.side===ti?Ie(n.CULL_FACE):ze(n.CULL_FACE);let oe=G.side===In;De&&(oe=!oe),$e(oe),G.blending===Zs&&G.transparent===!1?We(Fi):We(G.blending,G.blendEquation,G.blendSrc,G.blendDst,G.blendEquationAlpha,G.blendSrcAlpha,G.blendDstAlpha,G.premultipliedAlpha),l.setFunc(G.depthFunc),l.setTest(G.depthTest),l.setMask(G.depthWrite),o.setMask(G.colorWrite);const be=G.stencilWrite;u.setTest(be),be&&(u.setMask(G.stencilWriteMask),u.setFunc(G.stencilFunc,G.stencilRef,G.stencilFuncMask),u.setOp(G.stencilFail,G.stencilZFail,G.stencilZPass)),et(G.polygonOffset,G.polygonOffsetFactor,G.polygonOffsetUnits),G.alphaToCoverage===!0?ze(n.SAMPLE_ALPHA_TO_COVERAGE):Ie(n.SAMPLE_ALPHA_TO_COVERAGE)}function $e(G){I!==G&&(G?n.frontFace(n.CW):n.frontFace(n.CCW),I=G)}function xt(G){G!==dS?(ze(n.CULL_FACE),G!==V&&(G===wd?n.cullFace(n.BACK):G===pS?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Ie(n.CULL_FACE),V=G}function st(G){G!==Y&&(he&&n.lineWidth(G),Y=G)}function et(G,De,oe){G?(ze(n.POLYGON_OFFSET_FILL),(X!==De||j!==oe)&&(n.polygonOffset(De,oe),X=De,j=oe)):Ie(n.POLYGON_OFFSET_FILL)}function At(G){G?ze(n.SCISSOR_TEST):Ie(n.SCISSOR_TEST)}function Wt(G){G===void 0&&(G=n.TEXTURE0+q-1),ce!==G&&(n.activeTexture(G),ce=G)}function rn(G,De,oe){oe===void 0&&(ce===null?oe=n.TEXTURE0+q-1:oe=ce);let be=R[oe];be===void 0&&(be={type:void 0,texture:void 0},R[oe]=be),(be.type!==G||be.texture!==De)&&(ce!==oe&&(n.activeTexture(oe),ce=oe),n.bindTexture(G,De||Ce[G]),be.type=G,be.texture=De)}function P(){const G=R[ce];G!==void 0&&G.type!==void 0&&(n.bindTexture(G.type,null),G.type=void 0,G.texture=void 0)}function N(){try{n.compressedTexImage2D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function se(){try{n.compressedTexImage3D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function ye(){try{n.texSubImage2D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function H(){try{n.texSubImage3D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function $(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function pe(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function de(){try{n.texStorage2D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function Q(){try{n.texStorage3D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function Oe(){try{n.texImage2D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function Be(){try{n.texImage3D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function Ue(G){L.equals(G)===!1&&(n.scissor(G.x,G.y,G.z,G.w),L.copy(G))}function Le(G){Ee.equals(G)===!1&&(n.viewport(G.x,G.y,G.z,G.w),Ee.copy(G))}function Fe(G,De){let oe=h.get(De);oe===void 0&&(oe=new WeakMap,h.set(De,oe));let be=oe.get(G);be===void 0&&(be=n.getUniformBlockIndex(De,G.name),oe.set(G,be))}function He(G,De){const be=h.get(De).get(G);c.get(De)!==be&&(n.uniformBlockBinding(De,be,G.__bindingPointIndex),c.set(De,be))}function yt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),r===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),f={},ce=null,R={},d={},T=new WeakMap,E=[],g=null,p=!1,A=null,_=null,D=null,M=null,y=null,C=null,B=null,S=!1,I=null,V=null,Y=null,X=null,j=null,L.set(0,0,n.canvas.width,n.canvas.height),Ee.set(0,0,n.canvas.width,n.canvas.height),o.reset(),l.reset(),u.reset()}return{buffers:{color:o,depth:l,stencil:u},enable:ze,disable:Ie,bindFramebuffer:it,drawBuffers:vt,useProgram:Ke,setBlending:We,setMaterial:Je,setFlipSided:$e,setCullFace:xt,setLineWidth:st,setPolygonOffset:et,setScissorTest:At,activeTexture:Wt,bindTexture:rn,unbindTexture:P,compressedTexImage2D:N,compressedTexImage3D:se,texImage2D:Oe,texImage3D:Be,updateUBOMapping:Fe,uniformBlockBinding:He,texStorage2D:de,texStorage3D:Q,texSubImage2D:ye,texSubImage3D:H,compressedTexSubImage2D:$,compressedTexSubImage3D:pe,scissor:Ue,viewport:Le,reset:yt}}function cR(n,e,t,r,i,s,a){const o=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,c=i.maxTextureSize,h=i.maxSamples,f=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,d=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),T=new WeakMap;let E;const g=new WeakMap;let p=!1;try{p=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function A(P,N){return p?new OffscreenCanvas(P,N):Xa("canvas")}function _(P,N,se,ye){let H=1;if((P.width>ye||P.height>ye)&&(H=ye/Math.max(P.width,P.height)),H<1||N===!0)if(typeof HTMLImageElement<"u"&&P instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&P instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&P instanceof ImageBitmap){const $=N?uu:Math.floor,pe=$(H*P.width),de=$(H*P.height);E===void 0&&(E=A(pe,de));const Q=se?A(pe,de):E;return Q.width=pe,Q.height=de,Q.getContext("2d").drawImage(P,0,0,pe,de),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+P.width+"x"+P.height+") to ("+pe+"x"+de+")."),Q}else return"data"in P&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+P.width+"x"+P.height+")."),P;return P}function D(P){return op(P.width)&&op(P.height)}function M(P){return o?!1:P.wrapS!==Er||P.wrapT!==Er||P.minFilter!==_n&&P.minFilter!==Qn}function y(P,N){return P.generateMipmaps&&N&&P.minFilter!==_n&&P.minFilter!==Qn}function C(P){n.generateMipmap(P)}function B(P,N,se,ye,H=!1){if(o===!1)return N;if(P!==null){if(n[P]!==void 0)return n[P];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+P+"'")}let $=N;return N===n.RED&&(se===n.FLOAT&&($=n.R32F),se===n.HALF_FLOAT&&($=n.R16F),se===n.UNSIGNED_BYTE&&($=n.R8)),N===n.RED_INTEGER&&(se===n.UNSIGNED_BYTE&&($=n.R8UI),se===n.UNSIGNED_SHORT&&($=n.R16UI),se===n.UNSIGNED_INT&&($=n.R32UI),se===n.BYTE&&($=n.R8I),se===n.SHORT&&($=n.R16I),se===n.INT&&($=n.R32I)),N===n.RG&&(se===n.FLOAT&&($=n.RG32F),se===n.HALF_FLOAT&&($=n.RG16F),se===n.UNSIGNED_BYTE&&($=n.RG8)),N===n.RGBA&&(se===n.FLOAT&&($=n.RGBA32F),se===n.HALF_FLOAT&&($=n.RGBA16F),se===n.UNSIGNED_BYTE&&($=ye===ct&&H===!1?n.SRGB8_ALPHA8:n.RGBA8),se===n.UNSIGNED_SHORT_4_4_4_4&&($=n.RGBA4),se===n.UNSIGNED_SHORT_5_5_5_1&&($=n.RGB5_A1)),($===n.R16F||$===n.R32F||$===n.RG16F||$===n.RG32F||$===n.RGBA16F||$===n.RGBA32F)&&e.get("EXT_color_buffer_float"),$}function S(P,N,se){return y(P,se)===!0||P.isFramebufferTexture&&P.minFilter!==_n&&P.minFilter!==Qn?Math.log2(Math.max(N.width,N.height))+1:P.mipmaps!==void 0&&P.mipmaps.length>0?P.mipmaps.length:P.isCompressedTexture&&Array.isArray(P.image)?N.mipmaps.length:1}function I(P){return P===_n||P===Pd||P===Z0?n.NEAREST:n.LINEAR}function V(P){const N=P.target;N.removeEventListener("dispose",V),X(N),N.isVideoTexture&&T.delete(N)}function Y(P){const N=P.target;N.removeEventListener("dispose",Y),q(N)}function X(P){const N=r.get(P);if(N.__webglInit===void 0)return;const se=P.source,ye=g.get(se);if(ye){const H=ye[N.__cacheKey];H.usedTimes--,H.usedTimes===0&&j(P),Object.keys(ye).length===0&&g.delete(se)}r.remove(P)}function j(P){const N=r.get(P);n.deleteTexture(N.__webglTexture);const se=P.source,ye=g.get(se);delete ye[N.__cacheKey],a.memory.textures--}function q(P){const N=P.texture,se=r.get(P),ye=r.get(N);if(ye.__webglTexture!==void 0&&(n.deleteTexture(ye.__webglTexture),a.memory.textures--),P.depthTexture&&P.depthTexture.dispose(),P.isWebGLCubeRenderTarget)for(let H=0;H<6;H++){if(Array.isArray(se.__webglFramebuffer[H]))for(let $=0;$<se.__webglFramebuffer[H].length;$++)n.deleteFramebuffer(se.__webglFramebuffer[H][$]);else n.deleteFramebuffer(se.__webglFramebuffer[H]);se.__webglDepthbuffer&&n.deleteRenderbuffer(se.__webglDepthbuffer[H])}else{if(Array.isArray(se.__webglFramebuffer))for(let H=0;H<se.__webglFramebuffer.length;H++)n.deleteFramebuffer(se.__webglFramebuffer[H]);else n.deleteFramebuffer(se.__webglFramebuffer);if(se.__webglDepthbuffer&&n.deleteRenderbuffer(se.__webglDepthbuffer),se.__webglMultisampledFramebuffer&&n.deleteFramebuffer(se.__webglMultisampledFramebuffer),se.__webglColorRenderbuffer)for(let H=0;H<se.__webglColorRenderbuffer.length;H++)se.__webglColorRenderbuffer[H]&&n.deleteRenderbuffer(se.__webglColorRenderbuffer[H]);se.__webglDepthRenderbuffer&&n.deleteRenderbuffer(se.__webglDepthRenderbuffer)}if(P.isWebGLMultipleRenderTargets)for(let H=0,$=N.length;H<$;H++){const pe=r.get(N[H]);pe.__webglTexture&&(n.deleteTexture(pe.__webglTexture),a.memory.textures--),r.remove(N[H])}r.remove(N),r.remove(P)}let he=0;function ae(){he=0}function ie(){const P=he;return P>=l&&console.warn("THREE.WebGLTextures: Trying to use "+P+" texture units while this GPU supports only "+l),he+=1,P}function ce(P){const N=[];return N.push(P.wrapS),N.push(P.wrapT),N.push(P.wrapR||0),N.push(P.magFilter),N.push(P.minFilter),N.push(P.anisotropy),N.push(P.internalFormat),N.push(P.format),N.push(P.type),N.push(P.generateMipmaps),N.push(P.premultiplyAlpha),N.push(P.flipY),N.push(P.unpackAlignment),N.push(P.colorSpace),N.join()}function R(P,N){const se=r.get(P);if(P.isVideoTexture&&Wt(P),P.isRenderTargetTexture===!1&&P.version>0&&se.__version!==P.version){const ye=P.image;if(ye===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ye.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{it(se,P,N);return}}t.bindTexture(n.TEXTURE_2D,se.__webglTexture,n.TEXTURE0+N)}function K(P,N){const se=r.get(P);if(P.version>0&&se.__version!==P.version){it(se,P,N);return}t.bindTexture(n.TEXTURE_2D_ARRAY,se.__webglTexture,n.TEXTURE0+N)}function re(P,N){const se=r.get(P);if(P.version>0&&se.__version!==P.version){it(se,P,N);return}t.bindTexture(n.TEXTURE_3D,se.__webglTexture,n.TEXTURE0+N)}function L(P,N){const se=r.get(P);if(P.version>0&&se.__version!==P.version){vt(se,P,N);return}t.bindTexture(n.TEXTURE_CUBE_MAP,se.__webglTexture,n.TEXTURE0+N)}const Ee={[su]:n.REPEAT,[Er]:n.CLAMP_TO_EDGE,[au]:n.MIRRORED_REPEAT},Ae={[_n]:n.NEAREST,[Pd]:n.NEAREST_MIPMAP_NEAREST,[Z0]:n.NEAREST_MIPMAP_LINEAR,[Qn]:n.LINEAR,[GS]:n.LINEAR_MIPMAP_NEAREST,[Wa]:n.LINEAR_MIPMAP_LINEAR},Ce={[rb]:n.NEVER,[cb]:n.ALWAYS,[ib]:n.LESS,[ab]:n.LEQUAL,[sb]:n.EQUAL,[ub]:n.GEQUAL,[ob]:n.GREATER,[lb]:n.NOTEQUAL};function ze(P,N,se){if(se?(n.texParameteri(P,n.TEXTURE_WRAP_S,Ee[N.wrapS]),n.texParameteri(P,n.TEXTURE_WRAP_T,Ee[N.wrapT]),(P===n.TEXTURE_3D||P===n.TEXTURE_2D_ARRAY)&&n.texParameteri(P,n.TEXTURE_WRAP_R,Ee[N.wrapR]),n.texParameteri(P,n.TEXTURE_MAG_FILTER,Ae[N.magFilter]),n.texParameteri(P,n.TEXTURE_MIN_FILTER,Ae[N.minFilter])):(n.texParameteri(P,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(P,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(P===n.TEXTURE_3D||P===n.TEXTURE_2D_ARRAY)&&n.texParameteri(P,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(N.wrapS!==Er||N.wrapT!==Er)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(P,n.TEXTURE_MAG_FILTER,I(N.magFilter)),n.texParameteri(P,n.TEXTURE_MIN_FILTER,I(N.minFilter)),N.minFilter!==_n&&N.minFilter!==Qn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),N.compareFunction&&(n.texParameteri(P,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(P,n.TEXTURE_COMPARE_FUNC,Ce[N.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const ye=e.get("EXT_texture_filter_anisotropic");if(N.magFilter===_n||N.minFilter!==Z0&&N.minFilter!==Wa||N.type===Ii&&e.has("OES_texture_float_linear")===!1||o===!1&&N.type===qa&&e.has("OES_texture_half_float_linear")===!1)return;(N.anisotropy>1||r.get(N).__currentAnisotropy)&&(n.texParameterf(P,ye.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(N.anisotropy,i.getMaxAnisotropy())),r.get(N).__currentAnisotropy=N.anisotropy)}}function Ie(P,N){let se=!1;P.__webglInit===void 0&&(P.__webglInit=!0,N.addEventListener("dispose",V));const ye=N.source;let H=g.get(ye);H===void 0&&(H={},g.set(ye,H));const $=ce(N);if($!==P.__cacheKey){H[$]===void 0&&(H[$]={texture:n.createTexture(),usedTimes:0},a.memory.textures++,se=!0),H[$].usedTimes++;const pe=H[P.__cacheKey];pe!==void 0&&(H[P.__cacheKey].usedTimes--,pe.usedTimes===0&&j(N)),P.__cacheKey=$,P.__webglTexture=H[$].texture}return se}function it(P,N,se){let ye=n.TEXTURE_2D;(N.isDataArrayTexture||N.isCompressedArrayTexture)&&(ye=n.TEXTURE_2D_ARRAY),N.isData3DTexture&&(ye=n.TEXTURE_3D);const H=Ie(P,N),$=N.source;t.bindTexture(ye,P.__webglTexture,n.TEXTURE0+se);const pe=r.get($);if($.version!==pe.__version||H===!0){t.activeTexture(n.TEXTURE0+se),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,N.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,N.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,N.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const de=M(N)&&D(N.image)===!1;let Q=_(N.image,de,!1,c);Q=rn(N,Q);const Oe=D(Q)||o,Be=s.convert(N.format,N.colorSpace);let Ue=s.convert(N.type),Le=B(N.internalFormat,Be,Ue,N.colorSpace);ze(ye,N,Oe);let Fe;const He=N.mipmaps,yt=o&&N.isVideoTexture!==!0,G=pe.__version===void 0||H===!0,De=S(N,Q,Oe);if(N.isDepthTexture)Le=n.DEPTH_COMPONENT,o?N.type===Ii?Le=n.DEPTH_COMPONENT32F:N.type===Ni?Le=n.DEPTH_COMPONENT24:N.type===cs?Le=n.DEPTH24_STENCIL8:Le=n.DEPTH_COMPONENT16:N.type===Ii&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),N.format===hs&&Le===n.DEPTH_COMPONENT&&N.type!==hc&&N.type!==Ni&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),N.type=Ni,Ue=s.convert(N.type)),N.format===ra&&Le===n.DEPTH_COMPONENT&&(Le=n.DEPTH_STENCIL,N.type!==cs&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),N.type=cs,Ue=s.convert(N.type))),G&&(yt?t.texStorage2D(n.TEXTURE_2D,1,Le,Q.width,Q.height):t.texImage2D(n.TEXTURE_2D,0,Le,Q.width,Q.height,0,Be,Ue,null));else if(N.isDataTexture)if(He.length>0&&Oe){yt&&G&&t.texStorage2D(n.TEXTURE_2D,De,Le,He[0].width,He[0].height);for(let oe=0,be=He.length;oe<be;oe++)Fe=He[oe],yt?t.texSubImage2D(n.TEXTURE_2D,oe,0,0,Fe.width,Fe.height,Be,Ue,Fe.data):t.texImage2D(n.TEXTURE_2D,oe,Le,Fe.width,Fe.height,0,Be,Ue,Fe.data);N.generateMipmaps=!1}else yt?(G&&t.texStorage2D(n.TEXTURE_2D,De,Le,Q.width,Q.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,Q.width,Q.height,Be,Ue,Q.data)):t.texImage2D(n.TEXTURE_2D,0,Le,Q.width,Q.height,0,Be,Ue,Q.data);else if(N.isCompressedTexture)if(N.isCompressedArrayTexture){yt&&G&&t.texStorage3D(n.TEXTURE_2D_ARRAY,De,Le,He[0].width,He[0].height,Q.depth);for(let oe=0,be=He.length;oe<be;oe++)Fe=He[oe],N.format!==Tr?Be!==null?yt?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,oe,0,0,0,Fe.width,Fe.height,Q.depth,Be,Fe.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,oe,Le,Fe.width,Fe.height,Q.depth,0,Fe.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):yt?t.texSubImage3D(n.TEXTURE_2D_ARRAY,oe,0,0,0,Fe.width,Fe.height,Q.depth,Be,Ue,Fe.data):t.texImage3D(n.TEXTURE_2D_ARRAY,oe,Le,Fe.width,Fe.height,Q.depth,0,Be,Ue,Fe.data)}else{yt&&G&&t.texStorage2D(n.TEXTURE_2D,De,Le,He[0].width,He[0].height);for(let oe=0,be=He.length;oe<be;oe++)Fe=He[oe],N.format!==Tr?Be!==null?yt?t.compressedTexSubImage2D(n.TEXTURE_2D,oe,0,0,Fe.width,Fe.height,Be,Fe.data):t.compressedTexImage2D(n.TEXTURE_2D,oe,Le,Fe.width,Fe.height,0,Fe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):yt?t.texSubImage2D(n.TEXTURE_2D,oe,0,0,Fe.width,Fe.height,Be,Ue,Fe.data):t.texImage2D(n.TEXTURE_2D,oe,Le,Fe.width,Fe.height,0,Be,Ue,Fe.data)}else if(N.isDataArrayTexture)yt?(G&&t.texStorage3D(n.TEXTURE_2D_ARRAY,De,Le,Q.width,Q.height,Q.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Q.width,Q.height,Q.depth,Be,Ue,Q.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,Le,Q.width,Q.height,Q.depth,0,Be,Ue,Q.data);else if(N.isData3DTexture)yt?(G&&t.texStorage3D(n.TEXTURE_3D,De,Le,Q.width,Q.height,Q.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Q.width,Q.height,Q.depth,Be,Ue,Q.data)):t.texImage3D(n.TEXTURE_3D,0,Le,Q.width,Q.height,Q.depth,0,Be,Ue,Q.data);else if(N.isFramebufferTexture){if(G)if(yt)t.texStorage2D(n.TEXTURE_2D,De,Le,Q.width,Q.height);else{let oe=Q.width,be=Q.height;for(let Re=0;Re<De;Re++)t.texImage2D(n.TEXTURE_2D,Re,Le,oe,be,0,Be,Ue,null),oe>>=1,be>>=1}}else if(He.length>0&&Oe){yt&&G&&t.texStorage2D(n.TEXTURE_2D,De,Le,He[0].width,He[0].height);for(let oe=0,be=He.length;oe<be;oe++)Fe=He[oe],yt?t.texSubImage2D(n.TEXTURE_2D,oe,0,0,Be,Ue,Fe):t.texImage2D(n.TEXTURE_2D,oe,Le,Be,Ue,Fe);N.generateMipmaps=!1}else yt?(G&&t.texStorage2D(n.TEXTURE_2D,De,Le,Q.width,Q.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,Be,Ue,Q)):t.texImage2D(n.TEXTURE_2D,0,Le,Be,Ue,Q);y(N,Oe)&&C(ye),pe.__version=$.version,N.onUpdate&&N.onUpdate(N)}P.__version=N.version}function vt(P,N,se){if(N.image.length!==6)return;const ye=Ie(P,N),H=N.source;t.bindTexture(n.TEXTURE_CUBE_MAP,P.__webglTexture,n.TEXTURE0+se);const $=r.get(H);if(H.version!==$.__version||ye===!0){t.activeTexture(n.TEXTURE0+se),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,N.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,N.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,N.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const pe=N.isCompressedTexture||N.image[0].isCompressedTexture,de=N.image[0]&&N.image[0].isDataTexture,Q=[];for(let oe=0;oe<6;oe++)!pe&&!de?Q[oe]=_(N.image[oe],!1,!0,u):Q[oe]=de?N.image[oe].image:N.image[oe],Q[oe]=rn(N,Q[oe]);const Oe=Q[0],Be=D(Oe)||o,Ue=s.convert(N.format,N.colorSpace),Le=s.convert(N.type),Fe=B(N.internalFormat,Ue,Le,N.colorSpace),He=o&&N.isVideoTexture!==!0,yt=$.__version===void 0||ye===!0;let G=S(N,Oe,Be);ze(n.TEXTURE_CUBE_MAP,N,Be);let De;if(pe){He&&yt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,G,Fe,Oe.width,Oe.height);for(let oe=0;oe<6;oe++){De=Q[oe].mipmaps;for(let be=0;be<De.length;be++){const Re=De[be];N.format!==Tr?Ue!==null?He?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,be,0,0,Re.width,Re.height,Ue,Re.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,be,Fe,Re.width,Re.height,0,Re.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):He?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,be,0,0,Re.width,Re.height,Ue,Le,Re.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,be,Fe,Re.width,Re.height,0,Ue,Le,Re.data)}}}else{De=N.mipmaps,He&&yt&&(De.length>0&&G++,t.texStorage2D(n.TEXTURE_CUBE_MAP,G,Fe,Q[0].width,Q[0].height));for(let oe=0;oe<6;oe++)if(de){He?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,0,0,0,Q[oe].width,Q[oe].height,Ue,Le,Q[oe].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,0,Fe,Q[oe].width,Q[oe].height,0,Ue,Le,Q[oe].data);for(let be=0;be<De.length;be++){const Tt=De[be].image[oe].image;He?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,be+1,0,0,Tt.width,Tt.height,Ue,Le,Tt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,be+1,Fe,Tt.width,Tt.height,0,Ue,Le,Tt.data)}}else{He?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,0,0,0,Ue,Le,Q[oe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,0,Fe,Ue,Le,Q[oe]);for(let be=0;be<De.length;be++){const Re=De[be];He?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,be+1,0,0,Ue,Le,Re.image[oe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+oe,be+1,Fe,Ue,Le,Re.image[oe])}}}y(N,Be)&&C(n.TEXTURE_CUBE_MAP),$.__version=H.version,N.onUpdate&&N.onUpdate(N)}P.__version=N.version}function Ke(P,N,se,ye,H,$){const pe=s.convert(se.format,se.colorSpace),de=s.convert(se.type),Q=B(se.internalFormat,pe,de,se.colorSpace);if(!r.get(N).__hasExternalTextures){const Be=Math.max(1,N.width>>$),Ue=Math.max(1,N.height>>$);H===n.TEXTURE_3D||H===n.TEXTURE_2D_ARRAY?t.texImage3D(H,$,Q,Be,Ue,N.depth,0,pe,de,null):t.texImage2D(H,$,Q,Be,Ue,0,pe,de,null)}t.bindFramebuffer(n.FRAMEBUFFER,P),At(N)?f.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,ye,H,r.get(se).__webglTexture,0,et(N)):(H===n.TEXTURE_2D||H>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&H<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,ye,H,r.get(se).__webglTexture,$),t.bindFramebuffer(n.FRAMEBUFFER,null)}function ee(P,N,se){if(n.bindRenderbuffer(n.RENDERBUFFER,P),N.depthBuffer&&!N.stencilBuffer){let ye=n.DEPTH_COMPONENT16;if(se||At(N)){const H=N.depthTexture;H&&H.isDepthTexture&&(H.type===Ii?ye=n.DEPTH_COMPONENT32F:H.type===Ni&&(ye=n.DEPTH_COMPONENT24));const $=et(N);At(N)?f.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,$,ye,N.width,N.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,$,ye,N.width,N.height)}else n.renderbufferStorage(n.RENDERBUFFER,ye,N.width,N.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,P)}else if(N.depthBuffer&&N.stencilBuffer){const ye=et(N);se&&At(N)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,ye,n.DEPTH24_STENCIL8,N.width,N.height):At(N)?f.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ye,n.DEPTH24_STENCIL8,N.width,N.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,N.width,N.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,P)}else{const ye=N.isWebGLMultipleRenderTargets===!0?N.texture:[N.texture];for(let H=0;H<ye.length;H++){const $=ye[H],pe=s.convert($.format,$.colorSpace),de=s.convert($.type),Q=B($.internalFormat,pe,de,$.colorSpace),Oe=et(N);se&&At(N)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Oe,Q,N.width,N.height):At(N)?f.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Oe,Q,N.width,N.height):n.renderbufferStorage(n.RENDERBUFFER,Q,N.width,N.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Ft(P,N){if(N&&N.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,P),!(N.depthTexture&&N.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(N.depthTexture).__webglTexture||N.depthTexture.image.width!==N.width||N.depthTexture.image.height!==N.height)&&(N.depthTexture.image.width=N.width,N.depthTexture.image.height=N.height,N.depthTexture.needsUpdate=!0),R(N.depthTexture,0);const ye=r.get(N.depthTexture).__webglTexture,H=et(N);if(N.depthTexture.format===hs)At(N)?f.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ye,0,H):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ye,0);else if(N.depthTexture.format===ra)At(N)?f.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ye,0,H):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ye,0);else throw new Error("Unknown depthTexture format")}function We(P){const N=r.get(P),se=P.isWebGLCubeRenderTarget===!0;if(P.depthTexture&&!N.__autoAllocateDepthBuffer){if(se)throw new Error("target.depthTexture not supported in Cube render targets");Ft(N.__webglFramebuffer,P)}else if(se){N.__webglDepthbuffer=[];for(let ye=0;ye<6;ye++)t.bindFramebuffer(n.FRAMEBUFFER,N.__webglFramebuffer[ye]),N.__webglDepthbuffer[ye]=n.createRenderbuffer(),ee(N.__webglDepthbuffer[ye],P,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,N.__webglFramebuffer),N.__webglDepthbuffer=n.createRenderbuffer(),ee(N.__webglDepthbuffer,P,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Je(P,N,se){const ye=r.get(P);N!==void 0&&Ke(ye.__webglFramebuffer,P,P.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),se!==void 0&&We(P)}function $e(P){const N=P.texture,se=r.get(P),ye=r.get(N);P.addEventListener("dispose",Y),P.isWebGLMultipleRenderTargets!==!0&&(ye.__webglTexture===void 0&&(ye.__webglTexture=n.createTexture()),ye.__version=N.version,a.memory.textures++);const H=P.isWebGLCubeRenderTarget===!0,$=P.isWebGLMultipleRenderTargets===!0,pe=D(P)||o;if(H){se.__webglFramebuffer=[];for(let de=0;de<6;de++)if(o&&N.mipmaps&&N.mipmaps.length>0){se.__webglFramebuffer[de]=[];for(let Q=0;Q<N.mipmaps.length;Q++)se.__webglFramebuffer[de][Q]=n.createFramebuffer()}else se.__webglFramebuffer[de]=n.createFramebuffer()}else{if(o&&N.mipmaps&&N.mipmaps.length>0){se.__webglFramebuffer=[];for(let de=0;de<N.mipmaps.length;de++)se.__webglFramebuffer[de]=n.createFramebuffer()}else se.__webglFramebuffer=n.createFramebuffer();if($)if(i.drawBuffers){const de=P.texture;for(let Q=0,Oe=de.length;Q<Oe;Q++){const Be=r.get(de[Q]);Be.__webglTexture===void 0&&(Be.__webglTexture=n.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(o&&P.samples>0&&At(P)===!1){const de=$?N:[N];se.__webglMultisampledFramebuffer=n.createFramebuffer(),se.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,se.__webglMultisampledFramebuffer);for(let Q=0;Q<de.length;Q++){const Oe=de[Q];se.__webglColorRenderbuffer[Q]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,se.__webglColorRenderbuffer[Q]);const Be=s.convert(Oe.format,Oe.colorSpace),Ue=s.convert(Oe.type),Le=B(Oe.internalFormat,Be,Ue,Oe.colorSpace,P.isXRRenderTarget===!0),Fe=et(P);n.renderbufferStorageMultisample(n.RENDERBUFFER,Fe,Le,P.width,P.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Q,n.RENDERBUFFER,se.__webglColorRenderbuffer[Q])}n.bindRenderbuffer(n.RENDERBUFFER,null),P.depthBuffer&&(se.__webglDepthRenderbuffer=n.createRenderbuffer(),ee(se.__webglDepthRenderbuffer,P,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(H){t.bindTexture(n.TEXTURE_CUBE_MAP,ye.__webglTexture),ze(n.TEXTURE_CUBE_MAP,N,pe);for(let de=0;de<6;de++)if(o&&N.mipmaps&&N.mipmaps.length>0)for(let Q=0;Q<N.mipmaps.length;Q++)Ke(se.__webglFramebuffer[de][Q],P,N,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+de,Q);else Ke(se.__webglFramebuffer[de],P,N,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+de,0);y(N,pe)&&C(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if($){const de=P.texture;for(let Q=0,Oe=de.length;Q<Oe;Q++){const Be=de[Q],Ue=r.get(Be);t.bindTexture(n.TEXTURE_2D,Ue.__webglTexture),ze(n.TEXTURE_2D,Be,pe),Ke(se.__webglFramebuffer,P,Be,n.COLOR_ATTACHMENT0+Q,n.TEXTURE_2D,0),y(Be,pe)&&C(n.TEXTURE_2D)}t.unbindTexture()}else{let de=n.TEXTURE_2D;if((P.isWebGL3DRenderTarget||P.isWebGLArrayRenderTarget)&&(o?de=P.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(de,ye.__webglTexture),ze(de,N,pe),o&&N.mipmaps&&N.mipmaps.length>0)for(let Q=0;Q<N.mipmaps.length;Q++)Ke(se.__webglFramebuffer[Q],P,N,n.COLOR_ATTACHMENT0,de,Q);else Ke(se.__webglFramebuffer,P,N,n.COLOR_ATTACHMENT0,de,0);y(N,pe)&&C(de),t.unbindTexture()}P.depthBuffer&&We(P)}function xt(P){const N=D(P)||o,se=P.isWebGLMultipleRenderTargets===!0?P.texture:[P.texture];for(let ye=0,H=se.length;ye<H;ye++){const $=se[ye];if(y($,N)){const pe=P.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,de=r.get($).__webglTexture;t.bindTexture(pe,de),C(pe),t.unbindTexture()}}}function st(P){if(o&&P.samples>0&&At(P)===!1){const N=P.isWebGLMultipleRenderTargets?P.texture:[P.texture],se=P.width,ye=P.height;let H=n.COLOR_BUFFER_BIT;const $=[],pe=P.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,de=r.get(P),Q=P.isWebGLMultipleRenderTargets===!0;if(Q)for(let Oe=0;Oe<N.length;Oe++)t.bindFramebuffer(n.FRAMEBUFFER,de.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Oe,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,de.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Oe,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,de.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,de.__webglFramebuffer);for(let Oe=0;Oe<N.length;Oe++){$.push(n.COLOR_ATTACHMENT0+Oe),P.depthBuffer&&$.push(pe);const Be=de.__ignoreDepthValues!==void 0?de.__ignoreDepthValues:!1;if(Be===!1&&(P.depthBuffer&&(H|=n.DEPTH_BUFFER_BIT),P.stencilBuffer&&(H|=n.STENCIL_BUFFER_BIT)),Q&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,de.__webglColorRenderbuffer[Oe]),Be===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[pe]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[pe])),Q){const Ue=r.get(N[Oe]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Ue,0)}n.blitFramebuffer(0,0,se,ye,0,0,se,ye,H,n.NEAREST),d&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,$)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Q)for(let Oe=0;Oe<N.length;Oe++){t.bindFramebuffer(n.FRAMEBUFFER,de.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Oe,n.RENDERBUFFER,de.__webglColorRenderbuffer[Oe]);const Be=r.get(N[Oe]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,de.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Oe,n.TEXTURE_2D,Be,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,de.__webglMultisampledFramebuffer)}}function et(P){return Math.min(h,P.samples)}function At(P){const N=r.get(P);return o&&P.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&N.__useRenderToTexture!==!1}function Wt(P){const N=a.render.frame;T.get(P)!==N&&(T.set(P,N),P.update())}function rn(P,N){const se=P.colorSpace,ye=P.format,H=P.type;return P.isCompressedTexture===!0||P.format===ou||se!==Fr&&se!==ds&&(se===ct?o===!1?e.has("EXT_sRGB")===!0&&ye===Tr?(P.format=ou,P.minFilter=Qn,P.generateMipmaps=!1):N=u2.sRGBToLinear(N):(ye!==Tr||H!==Oi)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",se)),N}this.allocateTextureUnit=ie,this.resetTextureUnits=ae,this.setTexture2D=R,this.setTexture2DArray=K,this.setTexture3D=re,this.setTextureCube=L,this.rebindTextures=Je,this.setupRenderTarget=$e,this.updateRenderTargetMipmap=xt,this.updateMultisampleRenderTarget=st,this.setupDepthRenderbuffer=We,this.setupFrameBufferTexture=Ke,this.useMultisampledRTT=At}function hR(n,e,t){const r=t.isWebGL2;function i(s,a=ds){let o;if(s===Oi)return n.UNSIGNED_BYTE;if(s===t2)return n.UNSIGNED_SHORT_4_4_4_4;if(s===n2)return n.UNSIGNED_SHORT_5_5_5_1;if(s===VS)return n.BYTE;if(s===WS)return n.SHORT;if(s===hc)return n.UNSIGNED_SHORT;if(s===e2)return n.INT;if(s===Ni)return n.UNSIGNED_INT;if(s===Ii)return n.FLOAT;if(s===qa)return r?n.HALF_FLOAT:(o=e.get("OES_texture_half_float"),o!==null?o.HALF_FLOAT_OES:null);if(s===qS)return n.ALPHA;if(s===Tr)return n.RGBA;if(s===XS)return n.LUMINANCE;if(s===YS)return n.LUMINANCE_ALPHA;if(s===hs)return n.DEPTH_COMPONENT;if(s===ra)return n.DEPTH_STENCIL;if(s===ou)return o=e.get("EXT_sRGB"),o!==null?o.SRGB_ALPHA_EXT:null;if(s===KS)return n.RED;if(s===r2)return n.RED_INTEGER;if(s===$S)return n.RG;if(s===i2)return n.RG_INTEGER;if(s===s2)return n.RGBA_INTEGER;if(s===J0||s===el||s===tl||s===nl)if(a===ct)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(s===J0)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===el)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===tl)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===nl)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(s===J0)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===el)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===tl)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===nl)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===Od||s===kd||s===Bd||s===Ud)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(s===Od)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===kd)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===Bd)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===Ud)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===jS)return o=e.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===zd||s===Hd)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(s===zd)return a===ct?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(s===Hd)return a===ct?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===Gd||s===Vd||s===Wd||s===qd||s===Xd||s===Yd||s===Kd||s===$d||s===jd||s===Qd||s===Zd||s===Jd||s===ep||s===tp)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(s===Gd)return a===ct?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===Vd)return a===ct?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===Wd)return a===ct?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===qd)return a===ct?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===Xd)return a===ct?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===Yd)return a===ct?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===Kd)return a===ct?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===$d)return a===ct?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===jd)return a===ct?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===Qd)return a===ct?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===Zd)return a===ct?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===Jd)return a===ct?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===ep)return a===ct?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===tp)return a===ct?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===rl)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(s===rl)return a===ct?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===QS||s===np||s===rp||s===ip)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(s===rl)return o.COMPRESSED_RED_RGTC1_EXT;if(s===np)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===rp)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===ip)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===cs?r?n.UNSIGNED_INT_24_8:(o=e.get("WEBGL_depth_texture"),o!==null?o.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class fR extends Zn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class t1 extends xn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const dR={type:"move"};class Dl{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new t1,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new t1,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ne,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ne),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new t1,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ne,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ne),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,a=null;const o=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){a=!0;for(const E of e.hand.values()){const g=t.getJointPose(E,r),p=this._getHandJoint(u,E);g!==null&&(p.matrix.fromArray(g.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.matrixWorldNeedsUpdate=!0,p.jointRadius=g.radius),p.visible=g!==null}const c=u.joints["index-finger-tip"],h=u.joints["thumb-tip"],f=c.position.distanceTo(h.position),d=.02,T=.005;u.inputState.pinching&&f>d+T?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&f<=d-T&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(dR)))}return o!==null&&(o.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new t1;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class pR extends Ln{constructor(e,t,r,i,s,a,o,l,u,c){if(c=c!==void 0?c:hs,c!==hs&&c!==ra)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===hs&&(r=Ni),r===void 0&&c===ra&&(r=cs),super(null,i,s,a,o,l,c,r,u),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=o!==void 0?o:_n,this.minFilter=l!==void 0?l:_n,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class mR extends ha{constructor(e,t){super();const r=this;let i=null,s=1,a=null,o="local-floor",l=1,u=null,c=null,h=null,f=null,d=null,T=null;const E=t.getContextAttributes();let g=null,p=null;const A=[],_=[],D=new Zn;D.layers.enable(1),D.viewport=new cn;const M=new Zn;M.layers.enable(2),M.viewport=new cn;const y=[D,M],C=new fR;C.layers.enable(1),C.layers.enable(2);let B=null,S=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(K){let re=A[K];return re===void 0&&(re=new Dl,A[K]=re),re.getTargetRaySpace()},this.getControllerGrip=function(K){let re=A[K];return re===void 0&&(re=new Dl,A[K]=re),re.getGripSpace()},this.getHand=function(K){let re=A[K];return re===void 0&&(re=new Dl,A[K]=re),re.getHandSpace()};function I(K){const re=_.indexOf(K.inputSource);if(re===-1)return;const L=A[re];L!==void 0&&(L.update(K.inputSource,K.frame,u||a),L.dispatchEvent({type:K.type,data:K.inputSource}))}function V(){i.removeEventListener("select",I),i.removeEventListener("selectstart",I),i.removeEventListener("selectend",I),i.removeEventListener("squeeze",I),i.removeEventListener("squeezestart",I),i.removeEventListener("squeezeend",I),i.removeEventListener("end",V),i.removeEventListener("inputsourceschange",Y);for(let K=0;K<A.length;K++){const re=_[K];re!==null&&(_[K]=null,A[K].disconnect(re))}B=null,S=null,e.setRenderTarget(g),d=null,f=null,h=null,i=null,p=null,R.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(K){s=K,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(K){o=K,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||a},this.setReferenceSpace=function(K){u=K},this.getBaseLayer=function(){return f!==null?f:d},this.getBinding=function(){return h},this.getFrame=function(){return T},this.getSession=function(){return i},this.setSession=async function(K){if(i=K,i!==null){if(g=e.getRenderTarget(),i.addEventListener("select",I),i.addEventListener("selectstart",I),i.addEventListener("selectend",I),i.addEventListener("squeeze",I),i.addEventListener("squeezestart",I),i.addEventListener("squeezeend",I),i.addEventListener("end",V),i.addEventListener("inputsourceschange",Y),E.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const re={antialias:i.renderState.layers===void 0?E.antialias:!0,alpha:!0,depth:E.depth,stencil:E.stencil,framebufferScaleFactor:s};d=new XRWebGLLayer(i,t,re),i.updateRenderState({baseLayer:d}),p=new ps(d.framebufferWidth,d.framebufferHeight,{format:Tr,type:Oi,colorSpace:e.outputColorSpace,stencilBuffer:E.stencil})}else{let re=null,L=null,Ee=null;E.depth&&(Ee=E.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,re=E.stencil?ra:hs,L=E.stencil?cs:Ni);const Ae={colorFormat:t.RGBA8,depthFormat:Ee,scaleFactor:s};h=new XRWebGLBinding(i,t),f=h.createProjectionLayer(Ae),i.updateRenderState({layers:[f]}),p=new ps(f.textureWidth,f.textureHeight,{format:Tr,type:Oi,depthTexture:new pR(f.textureWidth,f.textureHeight,L,void 0,void 0,void 0,void 0,void 0,void 0,re),stencilBuffer:E.stencil,colorSpace:e.outputColorSpace,samples:E.antialias?4:0});const Ce=e.properties.get(p);Ce.__ignoreDepthValues=f.ignoreDepthValues}p.isXRRenderTarget=!0,this.setFoveation(l),u=null,a=await i.requestReferenceSpace(o),R.setContext(i),R.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function Y(K){for(let re=0;re<K.removed.length;re++){const L=K.removed[re],Ee=_.indexOf(L);Ee>=0&&(_[Ee]=null,A[Ee].disconnect(L))}for(let re=0;re<K.added.length;re++){const L=K.added[re];let Ee=_.indexOf(L);if(Ee===-1){for(let Ce=0;Ce<A.length;Ce++)if(Ce>=_.length){_.push(L),Ee=Ce;break}else if(_[Ce]===null){_[Ce]=L,Ee=Ce;break}if(Ee===-1)break}const Ae=A[Ee];Ae&&Ae.connect(L)}}const X=new ne,j=new ne;function q(K,re,L){X.setFromMatrixPosition(re.matrixWorld),j.setFromMatrixPosition(L.matrixWorld);const Ee=X.distanceTo(j),Ae=re.projectionMatrix.elements,Ce=L.projectionMatrix.elements,ze=Ae[14]/(Ae[10]-1),Ie=Ae[14]/(Ae[10]+1),it=(Ae[9]+1)/Ae[5],vt=(Ae[9]-1)/Ae[5],Ke=(Ae[8]-1)/Ae[0],ee=(Ce[8]+1)/Ce[0],Ft=ze*Ke,We=ze*ee,Je=Ee/(-Ke+ee),$e=Je*-Ke;re.matrixWorld.decompose(K.position,K.quaternion,K.scale),K.translateX($e),K.translateZ(Je),K.matrixWorld.compose(K.position,K.quaternion,K.scale),K.matrixWorldInverse.copy(K.matrixWorld).invert();const xt=ze+Je,st=Ie+Je,et=Ft-$e,At=We+(Ee-$e),Wt=it*Ie/st*xt,rn=vt*Ie/st*xt;K.projectionMatrix.makePerspective(et,At,Wt,rn,xt,st),K.projectionMatrixInverse.copy(K.projectionMatrix).invert()}function he(K,re){re===null?K.matrixWorld.copy(K.matrix):K.matrixWorld.multiplyMatrices(re.matrixWorld,K.matrix),K.matrixWorldInverse.copy(K.matrixWorld).invert()}this.updateCamera=function(K){if(i===null)return;C.near=M.near=D.near=K.near,C.far=M.far=D.far=K.far,(B!==C.near||S!==C.far)&&(i.updateRenderState({depthNear:C.near,depthFar:C.far}),B=C.near,S=C.far);const re=K.parent,L=C.cameras;he(C,re);for(let Ee=0;Ee<L.length;Ee++)he(L[Ee],re);L.length===2?q(C,D,M):C.projectionMatrix.copy(D.projectionMatrix),ae(K,C,re)};function ae(K,re,L){L===null?K.matrix.copy(re.matrixWorld):(K.matrix.copy(L.matrixWorld),K.matrix.invert(),K.matrix.multiply(re.matrixWorld)),K.matrix.decompose(K.position,K.quaternion,K.scale),K.updateMatrixWorld(!0);const Ee=K.children;for(let Ae=0,Ce=Ee.length;Ae<Ce;Ae++)Ee[Ae].updateMatrixWorld(!0);K.projectionMatrix.copy(re.projectionMatrix),K.projectionMatrixInverse.copy(re.projectionMatrixInverse),K.isPerspectiveCamera&&(K.fov=lu*2*Math.atan(1/K.projectionMatrix.elements[5]),K.zoom=1)}this.getCamera=function(){return C},this.getFoveation=function(){if(!(f===null&&d===null))return l},this.setFoveation=function(K){l=K,f!==null&&(f.fixedFoveation=K),d!==null&&d.fixedFoveation!==void 0&&(d.fixedFoveation=K)};let ie=null;function ce(K,re){if(c=re.getViewerPose(u||a),T=re,c!==null){const L=c.views;d!==null&&(e.setRenderTargetFramebuffer(p,d.framebuffer),e.setRenderTarget(p));let Ee=!1;L.length!==C.cameras.length&&(C.cameras.length=0,Ee=!0);for(let Ae=0;Ae<L.length;Ae++){const Ce=L[Ae];let ze=null;if(d!==null)ze=d.getViewport(Ce);else{const it=h.getViewSubImage(f,Ce);ze=it.viewport,Ae===0&&(e.setRenderTargetTextures(p,it.colorTexture,f.ignoreDepthValues?void 0:it.depthStencilTexture),e.setRenderTarget(p))}let Ie=y[Ae];Ie===void 0&&(Ie=new Zn,Ie.layers.enable(Ae),Ie.viewport=new cn,y[Ae]=Ie),Ie.matrix.fromArray(Ce.transform.matrix),Ie.matrix.decompose(Ie.position,Ie.quaternion,Ie.scale),Ie.projectionMatrix.fromArray(Ce.projectionMatrix),Ie.projectionMatrixInverse.copy(Ie.projectionMatrix).invert(),Ie.viewport.set(ze.x,ze.y,ze.width,ze.height),Ae===0&&(C.matrix.copy(Ie.matrix),C.matrix.decompose(C.position,C.quaternion,C.scale)),Ee===!0&&C.cameras.push(Ie)}}for(let L=0;L<A.length;L++){const Ee=_[L],Ae=A[L];Ee!==null&&Ae!==void 0&&Ae.update(Ee,re,u||a)}ie&&ie(K,re),re.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:re}),T=null}const R=new x2;R.setAnimationLoop(ce),this.setAnimationLoop=function(K){ie=K},this.dispose=function(){}}}function gR(n,e){function t(g,p){g.matrixAutoUpdate===!0&&g.updateMatrix(),p.value.copy(g.matrix)}function r(g,p){p.color.getRGB(g.fogColor.value,E2(n)),p.isFog?(g.fogNear.value=p.near,g.fogFar.value=p.far):p.isFogExp2&&(g.fogDensity.value=p.density)}function i(g,p,A,_,D){p.isMeshBasicMaterial||p.isMeshLambertMaterial?s(g,p):p.isMeshToonMaterial?(s(g,p),h(g,p)):p.isMeshPhongMaterial?(s(g,p),c(g,p)):p.isMeshStandardMaterial?(s(g,p),f(g,p),p.isMeshPhysicalMaterial&&d(g,p,D)):p.isMeshMatcapMaterial?(s(g,p),T(g,p)):p.isMeshDepthMaterial?s(g,p):p.isMeshDistanceMaterial?(s(g,p),E(g,p)):p.isMeshNormalMaterial?s(g,p):p.isLineBasicMaterial?(a(g,p),p.isLineDashedMaterial&&o(g,p)):p.isPointsMaterial?l(g,p,A,_):p.isSpriteMaterial?u(g,p):p.isShadowMaterial?(g.color.value.copy(p.color),g.opacity.value=p.opacity):p.isShaderMaterial&&(p.uniformsNeedUpdate=!1)}function s(g,p){g.opacity.value=p.opacity,p.color&&g.diffuse.value.copy(p.color),p.emissive&&g.emissive.value.copy(p.emissive).multiplyScalar(p.emissiveIntensity),p.map&&(g.map.value=p.map,t(p.map,g.mapTransform)),p.alphaMap&&(g.alphaMap.value=p.alphaMap,t(p.alphaMap,g.alphaMapTransform)),p.bumpMap&&(g.bumpMap.value=p.bumpMap,t(p.bumpMap,g.bumpMapTransform),g.bumpScale.value=p.bumpScale,p.side===In&&(g.bumpScale.value*=-1)),p.normalMap&&(g.normalMap.value=p.normalMap,t(p.normalMap,g.normalMapTransform),g.normalScale.value.copy(p.normalScale),p.side===In&&g.normalScale.value.negate()),p.displacementMap&&(g.displacementMap.value=p.displacementMap,t(p.displacementMap,g.displacementMapTransform),g.displacementScale.value=p.displacementScale,g.displacementBias.value=p.displacementBias),p.emissiveMap&&(g.emissiveMap.value=p.emissiveMap,t(p.emissiveMap,g.emissiveMapTransform)),p.specularMap&&(g.specularMap.value=p.specularMap,t(p.specularMap,g.specularMapTransform)),p.alphaTest>0&&(g.alphaTest.value=p.alphaTest);const A=e.get(p).envMap;if(A&&(g.envMap.value=A,g.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=p.reflectivity,g.ior.value=p.ior,g.refractionRatio.value=p.refractionRatio),p.lightMap){g.lightMap.value=p.lightMap;const _=n._useLegacyLights===!0?Math.PI:1;g.lightMapIntensity.value=p.lightMapIntensity*_,t(p.lightMap,g.lightMapTransform)}p.aoMap&&(g.aoMap.value=p.aoMap,g.aoMapIntensity.value=p.aoMapIntensity,t(p.aoMap,g.aoMapTransform))}function a(g,p){g.diffuse.value.copy(p.color),g.opacity.value=p.opacity,p.map&&(g.map.value=p.map,t(p.map,g.mapTransform))}function o(g,p){g.dashSize.value=p.dashSize,g.totalSize.value=p.dashSize+p.gapSize,g.scale.value=p.scale}function l(g,p,A,_){g.diffuse.value.copy(p.color),g.opacity.value=p.opacity,g.size.value=p.size*A,g.scale.value=_*.5,p.map&&(g.map.value=p.map,t(p.map,g.uvTransform)),p.alphaMap&&(g.alphaMap.value=p.alphaMap,t(p.alphaMap,g.alphaMapTransform)),p.alphaTest>0&&(g.alphaTest.value=p.alphaTest)}function u(g,p){g.diffuse.value.copy(p.color),g.opacity.value=p.opacity,g.rotation.value=p.rotation,p.map&&(g.map.value=p.map,t(p.map,g.mapTransform)),p.alphaMap&&(g.alphaMap.value=p.alphaMap,t(p.alphaMap,g.alphaMapTransform)),p.alphaTest>0&&(g.alphaTest.value=p.alphaTest)}function c(g,p){g.specular.value.copy(p.specular),g.shininess.value=Math.max(p.shininess,1e-4)}function h(g,p){p.gradientMap&&(g.gradientMap.value=p.gradientMap)}function f(g,p){g.metalness.value=p.metalness,p.metalnessMap&&(g.metalnessMap.value=p.metalnessMap,t(p.metalnessMap,g.metalnessMapTransform)),g.roughness.value=p.roughness,p.roughnessMap&&(g.roughnessMap.value=p.roughnessMap,t(p.roughnessMap,g.roughnessMapTransform)),e.get(p).envMap&&(g.envMapIntensity.value=p.envMapIntensity)}function d(g,p,A){g.ior.value=p.ior,p.sheen>0&&(g.sheenColor.value.copy(p.sheenColor).multiplyScalar(p.sheen),g.sheenRoughness.value=p.sheenRoughness,p.sheenColorMap&&(g.sheenColorMap.value=p.sheenColorMap,t(p.sheenColorMap,g.sheenColorMapTransform)),p.sheenRoughnessMap&&(g.sheenRoughnessMap.value=p.sheenRoughnessMap,t(p.sheenRoughnessMap,g.sheenRoughnessMapTransform))),p.clearcoat>0&&(g.clearcoat.value=p.clearcoat,g.clearcoatRoughness.value=p.clearcoatRoughness,p.clearcoatMap&&(g.clearcoatMap.value=p.clearcoatMap,t(p.clearcoatMap,g.clearcoatMapTransform)),p.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=p.clearcoatRoughnessMap,t(p.clearcoatRoughnessMap,g.clearcoatRoughnessMapTransform)),p.clearcoatNormalMap&&(g.clearcoatNormalMap.value=p.clearcoatNormalMap,t(p.clearcoatNormalMap,g.clearcoatNormalMapTransform),g.clearcoatNormalScale.value.copy(p.clearcoatNormalScale),p.side===In&&g.clearcoatNormalScale.value.negate())),p.iridescence>0&&(g.iridescence.value=p.iridescence,g.iridescenceIOR.value=p.iridescenceIOR,g.iridescenceThicknessMinimum.value=p.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=p.iridescenceThicknessRange[1],p.iridescenceMap&&(g.iridescenceMap.value=p.iridescenceMap,t(p.iridescenceMap,g.iridescenceMapTransform)),p.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=p.iridescenceThicknessMap,t(p.iridescenceThicknessMap,g.iridescenceThicknessMapTransform))),p.transmission>0&&(g.transmission.value=p.transmission,g.transmissionSamplerMap.value=A.texture,g.transmissionSamplerSize.value.set(A.width,A.height),p.transmissionMap&&(g.transmissionMap.value=p.transmissionMap,t(p.transmissionMap,g.transmissionMapTransform)),g.thickness.value=p.thickness,p.thicknessMap&&(g.thicknessMap.value=p.thicknessMap,t(p.thicknessMap,g.thicknessMapTransform)),g.attenuationDistance.value=p.attenuationDistance,g.attenuationColor.value.copy(p.attenuationColor)),p.anisotropy>0&&(g.anisotropyVector.value.set(p.anisotropy*Math.cos(p.anisotropyRotation),p.anisotropy*Math.sin(p.anisotropyRotation)),p.anisotropyMap&&(g.anisotropyMap.value=p.anisotropyMap,t(p.anisotropyMap,g.anisotropyMapTransform))),g.specularIntensity.value=p.specularIntensity,g.specularColor.value.copy(p.specularColor),p.specularColorMap&&(g.specularColorMap.value=p.specularColorMap,t(p.specularColorMap,g.specularColorMapTransform)),p.specularIntensityMap&&(g.specularIntensityMap.value=p.specularIntensityMap,t(p.specularIntensityMap,g.specularIntensityMapTransform))}function T(g,p){p.matcap&&(g.matcap.value=p.matcap)}function E(g,p){const A=e.get(p).light;g.referencePosition.value.setFromMatrixPosition(A.matrixWorld),g.nearDistance.value=A.shadow.camera.near,g.farDistance.value=A.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function ER(n,e,t,r){let i={},s={},a=[];const o=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(A,_){const D=_.program;r.uniformBlockBinding(A,D)}function u(A,_){let D=i[A.id];D===void 0&&(T(A),D=c(A),i[A.id]=D,A.addEventListener("dispose",g));const M=_.program;r.updateUBOMapping(A,M);const y=e.render.frame;s[A.id]!==y&&(f(A),s[A.id]=y)}function c(A){const _=h();A.__bindingPointIndex=_;const D=n.createBuffer(),M=A.__size,y=A.usage;return n.bindBuffer(n.UNIFORM_BUFFER,D),n.bufferData(n.UNIFORM_BUFFER,M,y),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,_,D),D}function h(){for(let A=0;A<o;A++)if(a.indexOf(A)===-1)return a.push(A),A;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(A){const _=i[A.id],D=A.uniforms,M=A.__cache;n.bindBuffer(n.UNIFORM_BUFFER,_);for(let y=0,C=D.length;y<C;y++){const B=D[y];if(d(B,y,M)===!0){const S=B.__offset,I=Array.isArray(B.value)?B.value:[B.value];let V=0;for(let Y=0;Y<I.length;Y++){const X=I[Y],j=E(X);typeof X=="number"?(B.__data[0]=X,n.bufferSubData(n.UNIFORM_BUFFER,S+V,B.__data)):X.isMatrix3?(B.__data[0]=X.elements[0],B.__data[1]=X.elements[1],B.__data[2]=X.elements[2],B.__data[3]=X.elements[0],B.__data[4]=X.elements[3],B.__data[5]=X.elements[4],B.__data[6]=X.elements[5],B.__data[7]=X.elements[0],B.__data[8]=X.elements[6],B.__data[9]=X.elements[7],B.__data[10]=X.elements[8],B.__data[11]=X.elements[0]):(X.toArray(B.__data,V),V+=j.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,S,B.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function d(A,_,D){const M=A.value;if(D[_]===void 0){if(typeof M=="number")D[_]=M;else{const y=Array.isArray(M)?M:[M],C=[];for(let B=0;B<y.length;B++)C.push(y[B].clone());D[_]=C}return!0}else if(typeof M=="number"){if(D[_]!==M)return D[_]=M,!0}else{const y=Array.isArray(D[_])?D[_]:[D[_]],C=Array.isArray(M)?M:[M];for(let B=0;B<y.length;B++){const S=y[B];if(S.equals(C[B])===!1)return S.copy(C[B]),!0}}return!1}function T(A){const _=A.uniforms;let D=0;const M=16;let y=0;for(let C=0,B=_.length;C<B;C++){const S=_[C],I={boundary:0,storage:0},V=Array.isArray(S.value)?S.value:[S.value];for(let Y=0,X=V.length;Y<X;Y++){const j=V[Y],q=E(j);I.boundary+=q.boundary,I.storage+=q.storage}if(S.__data=new Float32Array(I.storage/Float32Array.BYTES_PER_ELEMENT),S.__offset=D,C>0){y=D%M;const Y=M-y;y!==0&&Y-I.boundary<0&&(D+=M-y,S.__offset=D)}D+=I.storage}return y=D%M,y>0&&(D+=M-y),A.__size=D,A.__cache={},this}function E(A){const _={boundary:0,storage:0};return typeof A=="number"?(_.boundary=4,_.storage=4):A.isVector2?(_.boundary=8,_.storage=8):A.isVector3||A.isColor?(_.boundary=16,_.storage=12):A.isVector4?(_.boundary=16,_.storage=16):A.isMatrix3?(_.boundary=48,_.storage=48):A.isMatrix4?(_.boundary=64,_.storage=64):A.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",A),_}function g(A){const _=A.target;_.removeEventListener("dispose",g);const D=a.indexOf(_.__bindingPointIndex);a.splice(D,1),n.deleteBuffer(i[_.id]),delete i[_.id],delete s[_.id]}function p(){for(const A in i)n.deleteBuffer(i[A]);a=[],i={},s={}}return{bind:l,update:u,dispose:p}}function TR(){const n=Xa("canvas");return n.style.display="block",n}class M2{constructor(e={}){const{canvas:t=TR(),context:r=null,depth:i=!0,stencil:s=!0,alpha:a=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:h=!1}=e;this.isWebGLRenderer=!0;let f;r!==null?f=r.getContextAttributes().alpha:f=a;const d=new Uint32Array(4),T=new Int32Array(4);let E=null,g=null;const p=[],A=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=ct,this._useLegacyLights=!1,this.toneMapping=Pi,this.toneMappingExposure=1;const _=this;let D=!1,M=0,y=0,C=null,B=-1,S=null;const I=new cn,V=new cn;let Y=null;const X=new Mt(0);let j=0,q=t.width,he=t.height,ae=1,ie=null,ce=null;const R=new cn(0,0,q,he),K=new cn(0,0,q,he);let re=!1;const L=new v2;let Ee=!1,Ae=!1,Ce=null;const ze=new Jt,Ie=new Ct,it=new ne,vt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ke(){return C===null?ae:1}let ee=r;function Ft(F,te){for(let ue=0;ue<F.length;ue++){const Z=F[ue],le=t.getContext(Z,te);if(le!==null)return le}return null}try{const F={alpha:!0,depth:i,stencil:s,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:h};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${cc}`),t.addEventListener("webglcontextlost",De,!1),t.addEventListener("webglcontextrestored",oe,!1),t.addEventListener("webglcontextcreationerror",be,!1),ee===null){const te=["webgl2","webgl","experimental-webgl"];if(_.isWebGL1Renderer===!0&&te.shift(),ee=Ft(te,F),ee===null)throw Ft(te)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&ee instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),ee.getShaderPrecisionFormat===void 0&&(ee.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(F){throw console.error("THREE.WebGLRenderer: "+F.message),F}let We,Je,$e,xt,st,et,At,Wt,rn,P,N,se,ye,H,$,pe,de,Q,Oe,Be,Ue,Le,Fe,He;function yt(){We=new DD(ee),Je=new xD(ee,We,e),We.init(Je),Le=new hR(ee,We,Je),$e=new uR(ee,We,Je),xt=new ND(ee),st=new $w,et=new cR(ee,We,$e,st,Je,Le,xt),At=new yD(_),Wt=new CD(_),rn=new zb(ee,Je),Fe=new _D(ee,We,rn,Je),P=new wD(ee,rn,xt,Fe),N=new PD(ee,P,rn,xt),Oe=new FD(ee,Je,et),pe=new AD(st),se=new Kw(_,At,Wt,We,Je,Fe,pe),ye=new gR(_,st),H=new Qw,$=new rR(We,Je),Q=new TD(_,At,Wt,$e,N,f,l),de=new lR(_,N,Je),He=new ER(ee,xt,Je,$e),Be=new vD(ee,We,xt,Je),Ue=new RD(ee,We,xt,Je),xt.programs=se.programs,_.capabilities=Je,_.extensions=We,_.properties=st,_.renderLists=H,_.shadowMap=de,_.state=$e,_.info=xt}yt();const G=new mR(_,ee);this.xr=G,this.getContext=function(){return ee},this.getContextAttributes=function(){return ee.getContextAttributes()},this.forceContextLoss=function(){const F=We.get("WEBGL_lose_context");F&&F.loseContext()},this.forceContextRestore=function(){const F=We.get("WEBGL_lose_context");F&&F.restoreContext()},this.getPixelRatio=function(){return ae},this.setPixelRatio=function(F){F!==void 0&&(ae=F,this.setSize(q,he,!1))},this.getSize=function(F){return F.set(q,he)},this.setSize=function(F,te,ue=!0){if(G.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}q=F,he=te,t.width=Math.floor(F*ae),t.height=Math.floor(te*ae),ue===!0&&(t.style.width=F+"px",t.style.height=te+"px"),this.setViewport(0,0,F,te)},this.getDrawingBufferSize=function(F){return F.set(q*ae,he*ae).floor()},this.setDrawingBufferSize=function(F,te,ue){q=F,he=te,ae=ue,t.width=Math.floor(F*ue),t.height=Math.floor(te*ue),this.setViewport(0,0,F,te)},this.getCurrentViewport=function(F){return F.copy(I)},this.getViewport=function(F){return F.copy(R)},this.setViewport=function(F,te,ue,Z){F.isVector4?R.set(F.x,F.y,F.z,F.w):R.set(F,te,ue,Z),$e.viewport(I.copy(R).multiplyScalar(ae).floor())},this.getScissor=function(F){return F.copy(K)},this.setScissor=function(F,te,ue,Z){F.isVector4?K.set(F.x,F.y,F.z,F.w):K.set(F,te,ue,Z),$e.scissor(V.copy(K).multiplyScalar(ae).floor())},this.getScissorTest=function(){return re},this.setScissorTest=function(F){$e.setScissorTest(re=F)},this.setOpaqueSort=function(F){ie=F},this.setTransparentSort=function(F){ce=F},this.getClearColor=function(F){return F.copy(Q.getClearColor())},this.setClearColor=function(){Q.setClearColor.apply(Q,arguments)},this.getClearAlpha=function(){return Q.getClearAlpha()},this.setClearAlpha=function(){Q.setClearAlpha.apply(Q,arguments)},this.clear=function(F=!0,te=!0,ue=!0){let Z=0;if(F){let le=!1;if(C!==null){const ke=C.texture.format;le=ke===s2||ke===i2||ke===r2}if(le){const ke=C.texture.type,Ye=ke===Oi||ke===Ni||ke===hc||ke===cs||ke===t2||ke===n2,tt=Q.getClearColor(),nt=Q.getClearAlpha(),ft=tt.r,Ze=tt.g,ot=tt.b;Ye?(d[0]=ft,d[1]=Ze,d[2]=ot,d[3]=nt,ee.clearBufferuiv(ee.COLOR,0,d)):(T[0]=ft,T[1]=Ze,T[2]=ot,T[3]=nt,ee.clearBufferiv(ee.COLOR,0,T))}else Z|=ee.COLOR_BUFFER_BIT}te&&(Z|=ee.DEPTH_BUFFER_BIT),ue&&(Z|=ee.STENCIL_BUFFER_BIT),ee.clear(Z)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",De,!1),t.removeEventListener("webglcontextrestored",oe,!1),t.removeEventListener("webglcontextcreationerror",be,!1),H.dispose(),$.dispose(),st.dispose(),At.dispose(),Wt.dispose(),N.dispose(),Fe.dispose(),He.dispose(),se.dispose(),G.dispose(),G.removeEventListener("sessionstart",Nt),G.removeEventListener("sessionend",Ar),Ce&&(Ce.dispose(),Ce=null),gn.stop()};function De(F){F.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),D=!0}function oe(){console.log("THREE.WebGLRenderer: Context Restored."),D=!1;const F=xt.autoReset,te=de.enabled,ue=de.autoUpdate,Z=de.needsUpdate,le=de.type;yt(),xt.autoReset=F,de.enabled=te,de.autoUpdate=ue,de.needsUpdate=Z,de.type=le}function be(F){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",F.statusMessage)}function Re(F){const te=F.target;te.removeEventListener("dispose",Re),Tt(te)}function Tt(F){Ot(F),st.remove(F)}function Ot(F){const te=st.get(F).programs;te!==void 0&&(te.forEach(function(ue){se.releaseProgram(ue)}),F.isShaderMaterial&&se.releaseShaderCache(F))}this.renderBufferDirect=function(F,te,ue,Z,le,ke){te===null&&(te=vt);const Ye=le.isMesh&&le.matrixWorld.determinant()<0,tt=R2(F,te,ue,Z,le);$e.setMaterial(Z,Ye);let nt=ue.index,ft=1;if(Z.wireframe===!0){if(nt=P.getWireframeAttribute(ue),nt===void 0)return;ft=2}const Ze=ue.drawRange,ot=ue.attributes.position;let Ut=Ze.start*ft,Gt=(Ze.start+Ze.count)*ft;ke!==null&&(Ut=Math.max(Ut,ke.start*ft),Gt=Math.min(Gt,(ke.start+ke.count)*ft)),nt!==null?(Ut=Math.max(Ut,0),Gt=Math.min(Gt,nt.count)):ot!=null&&(Ut=Math.max(Ut,0),Gt=Math.min(Gt,ot.count));const Xn=Gt-Ut;if(Xn<0||Xn===1/0)return;Fe.setup(le,Z,tt,ue,nt);let Ur,Xt=Be;if(nt!==null&&(Ur=rn.get(nt),Xt=Ue,Xt.setIndex(Ur)),le.isMesh)Z.wireframe===!0?($e.setLineWidth(Z.wireframeLinewidth*Ke()),Xt.setMode(ee.LINES)):Xt.setMode(ee.TRIANGLES);else if(le.isLine){let pt=Z.linewidth;pt===void 0&&(pt=1),$e.setLineWidth(pt*Ke()),le.isLineSegments?Xt.setMode(ee.LINES):le.isLineLoop?Xt.setMode(ee.LINE_LOOP):Xt.setMode(ee.LINE_STRIP)}else le.isPoints?Xt.setMode(ee.POINTS):le.isSprite&&Xt.setMode(ee.TRIANGLES);if(le.isInstancedMesh)Xt.renderInstances(Ut,Xn,le.count);else if(ue.isInstancedBufferGeometry){const pt=ue._maxInstanceCount!==void 0?ue._maxInstanceCount:1/0,a0=Math.min(ue.instanceCount,pt);Xt.renderInstances(Ut,Xn,a0)}else Xt.render(Ut,Xn)},this.compile=function(F,te){function ue(Z,le,ke){Z.transparent===!0&&Z.side===ti&&Z.forceSinglePass===!1?(Z.side=In,Z.needsUpdate=!0,lo(Z,le,ke),Z.side=zi,Z.needsUpdate=!0,lo(Z,le,ke),Z.side=ti):lo(Z,le,ke)}g=$.get(F),g.init(),A.push(g),F.traverseVisible(function(Z){Z.isLight&&Z.layers.test(te.layers)&&(g.pushLight(Z),Z.castShadow&&g.pushShadow(Z))}),g.setupLights(_._useLegacyLights),F.traverse(function(Z){const le=Z.material;if(le)if(Array.isArray(le))for(let ke=0;ke<le.length;ke++){const Ye=le[ke];ue(Ye,F,Z)}else ue(le,F,Z)}),A.pop(),g=null};let qt=null;function mi(F){qt&&qt(F)}function Nt(){gn.stop()}function Ar(){gn.start()}const gn=new x2;gn.setAnimationLoop(mi),typeof self<"u"&&gn.setContext(self),this.setAnimationLoop=function(F){qt=F,G.setAnimationLoop(F),F===null?gn.stop():gn.start()},G.addEventListener("sessionstart",Nt),G.addEventListener("sessionend",Ar),this.render=function(F,te){if(te!==void 0&&te.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(D===!0)return;F.matrixWorldAutoUpdate===!0&&F.updateMatrixWorld(),te.parent===null&&te.matrixWorldAutoUpdate===!0&&te.updateMatrixWorld(),G.enabled===!0&&G.isPresenting===!0&&(G.cameraAutoUpdate===!0&&G.updateCamera(te),te=G.getCamera()),F.isScene===!0&&F.onBeforeRender(_,F,te,C),g=$.get(F,A.length),g.init(),A.push(g),ze.multiplyMatrices(te.projectionMatrix,te.matrixWorldInverse),L.setFromProjectionMatrix(ze),Ae=this.localClippingEnabled,Ee=pe.init(this.clippingPlanes,Ae),E=H.get(F,p.length),E.init(),p.push(E),gc(F,te,0,_.sortObjects),E.finish(),_.sortObjects===!0&&E.sort(ie,ce),this.info.render.frame++,Ee===!0&&pe.beginShadows();const ue=g.state.shadowsArray;if(de.render(ue,F,te),Ee===!0&&pe.endShadows(),this.info.autoReset===!0&&this.info.reset(),Q.render(E,F),g.setupLights(_._useLegacyLights),te.isArrayCamera){const Z=te.cameras;for(let le=0,ke=Z.length;le<ke;le++){const Ye=Z[le];Ec(E,F,Ye,Ye.viewport)}}else Ec(E,F,te);C!==null&&(et.updateMultisampleRenderTarget(C),et.updateRenderTargetMipmap(C)),F.isScene===!0&&F.onAfterRender(_,F,te),Fe.resetDefaultState(),B=-1,S=null,A.pop(),A.length>0?g=A[A.length-1]:g=null,p.pop(),p.length>0?E=p[p.length-1]:E=null};function gc(F,te,ue,Z){if(F.visible===!1)return;if(F.layers.test(te.layers)){if(F.isGroup)ue=F.renderOrder;else if(F.isLOD)F.autoUpdate===!0&&F.update(te);else if(F.isLight)g.pushLight(F),F.castShadow&&g.pushShadow(F);else if(F.isSprite){if(!F.frustumCulled||L.intersectsSprite(F)){Z&&it.setFromMatrixPosition(F.matrixWorld).applyMatrix4(ze);const Ye=N.update(F),tt=F.material;tt.visible&&E.push(F,Ye,tt,ue,it.z,null)}}else if((F.isMesh||F.isLine||F.isPoints)&&(!F.frustumCulled||L.intersectsObject(F))){const Ye=N.update(F),tt=F.material;if(Z&&(F.boundingSphere!==void 0?(F.boundingSphere===null&&F.computeBoundingSphere(),it.copy(F.boundingSphere.center)):(Ye.boundingSphere===null&&Ye.computeBoundingSphere(),it.copy(Ye.boundingSphere.center)),it.applyMatrix4(F.matrixWorld).applyMatrix4(ze)),Array.isArray(tt)){const nt=Ye.groups;for(let ft=0,Ze=nt.length;ft<Ze;ft++){const ot=nt[ft],Ut=tt[ot.materialIndex];Ut&&Ut.visible&&E.push(F,Ye,Ut,ue,it.z,ot)}}else tt.visible&&E.push(F,Ye,tt,ue,it.z,null)}}const ke=F.children;for(let Ye=0,tt=ke.length;Ye<tt;Ye++)gc(ke[Ye],te,ue,Z)}function Ec(F,te,ue,Z){const le=F.opaque,ke=F.transmissive,Ye=F.transparent;g.setupLightsView(ue),Ee===!0&&pe.setGlobalState(_.clippingPlanes,ue),ke.length>0&&w2(le,ke,te,ue),Z&&$e.viewport(I.copy(Z)),le.length>0&&oo(le,te,ue),ke.length>0&&oo(ke,te,ue),Ye.length>0&&oo(Ye,te,ue),$e.buffers.depth.setTest(!0),$e.buffers.depth.setMask(!0),$e.buffers.color.setMask(!0),$e.setPolygonOffset(!1)}function w2(F,te,ue,Z){const le=Je.isWebGL2;Ce===null&&(Ce=new ps(1,1,{generateMipmaps:!0,type:We.has("EXT_color_buffer_half_float")?qa:Oi,minFilter:Wa,samples:le?4:0})),_.getDrawingBufferSize(Ie),le?Ce.setSize(Ie.x,Ie.y):Ce.setSize(uu(Ie.x),uu(Ie.y));const ke=_.getRenderTarget();_.setRenderTarget(Ce),_.getClearColor(X),j=_.getClearAlpha(),j<1&&_.setClearColor(16777215,.5),_.clear();const Ye=_.toneMapping;_.toneMapping=Pi,oo(F,ue,Z),et.updateMultisampleRenderTarget(Ce),et.updateRenderTargetMipmap(Ce);let tt=!1;for(let nt=0,ft=te.length;nt<ft;nt++){const Ze=te[nt],ot=Ze.object,Ut=Ze.geometry,Gt=Ze.material,Xn=Ze.group;if(Gt.side===ti&&ot.layers.test(Z.layers)){const Ur=Gt.side;Gt.side=In,Gt.needsUpdate=!0,Tc(ot,ue,Z,Ut,Gt,Xn),Gt.side=Ur,Gt.needsUpdate=!0,tt=!0}}tt===!0&&(et.updateMultisampleRenderTarget(Ce),et.updateRenderTargetMipmap(Ce)),_.setRenderTarget(ke),_.setClearColor(X,j),_.toneMapping=Ye}function oo(F,te,ue){const Z=te.isScene===!0?te.overrideMaterial:null;for(let le=0,ke=F.length;le<ke;le++){const Ye=F[le],tt=Ye.object,nt=Ye.geometry,ft=Z===null?Ye.material:Z,Ze=Ye.group;tt.layers.test(ue.layers)&&Tc(tt,te,ue,nt,ft,Ze)}}function Tc(F,te,ue,Z,le,ke){F.onBeforeRender(_,te,ue,Z,le,ke),F.modelViewMatrix.multiplyMatrices(ue.matrixWorldInverse,F.matrixWorld),F.normalMatrix.getNormalMatrix(F.modelViewMatrix),le.onBeforeRender(_,te,ue,Z,F,ke),le.transparent===!0&&le.side===ti&&le.forceSinglePass===!1?(le.side=In,le.needsUpdate=!0,_.renderBufferDirect(ue,te,Z,le,F,ke),le.side=zi,le.needsUpdate=!0,_.renderBufferDirect(ue,te,Z,le,F,ke),le.side=ti):_.renderBufferDirect(ue,te,Z,le,F,ke),F.onAfterRender(_,te,ue,Z,le,ke)}function lo(F,te,ue){te.isScene!==!0&&(te=vt);const Z=st.get(F),le=g.state.lights,ke=g.state.shadowsArray,Ye=le.state.version,tt=se.getParameters(F,le.state,ke,te,ue),nt=se.getProgramCacheKey(tt);let ft=Z.programs;Z.environment=F.isMeshStandardMaterial?te.environment:null,Z.fog=te.fog,Z.envMap=(F.isMeshStandardMaterial?Wt:At).get(F.envMap||Z.environment),ft===void 0&&(F.addEventListener("dispose",Re),ft=new Map,Z.programs=ft);let Ze=ft.get(nt);if(Ze!==void 0){if(Z.currentProgram===Ze&&Z.lightsStateVersion===Ye)return _c(F,tt),Ze}else tt.uniforms=se.getUniforms(F),F.onBuild(ue,tt,_),F.onBeforeCompile(tt,_),Ze=se.acquireProgram(tt,nt),ft.set(nt,Ze),Z.uniforms=tt.uniforms;const ot=Z.uniforms;(!F.isShaderMaterial&&!F.isRawShaderMaterial||F.clipping===!0)&&(ot.clippingPlanes=pe.uniform),_c(F,tt),Z.needsLights=I2(F),Z.lightsStateVersion=Ye,Z.needsLights&&(ot.ambientLightColor.value=le.state.ambient,ot.lightProbe.value=le.state.probe,ot.directionalLights.value=le.state.directional,ot.directionalLightShadows.value=le.state.directionalShadow,ot.spotLights.value=le.state.spot,ot.spotLightShadows.value=le.state.spotShadow,ot.rectAreaLights.value=le.state.rectArea,ot.ltc_1.value=le.state.rectAreaLTC1,ot.ltc_2.value=le.state.rectAreaLTC2,ot.pointLights.value=le.state.point,ot.pointLightShadows.value=le.state.pointShadow,ot.hemisphereLights.value=le.state.hemi,ot.directionalShadowMap.value=le.state.directionalShadowMap,ot.directionalShadowMatrix.value=le.state.directionalShadowMatrix,ot.spotShadowMap.value=le.state.spotShadowMap,ot.spotLightMatrix.value=le.state.spotLightMatrix,ot.spotLightMap.value=le.state.spotLightMap,ot.pointShadowMap.value=le.state.pointShadowMap,ot.pointShadowMatrix.value=le.state.pointShadowMatrix);const Ut=Ze.getUniforms(),Gt=T1.seqWithValue(Ut.seq,ot);return Z.currentProgram=Ze,Z.uniformsList=Gt,Ze}function _c(F,te){const ue=st.get(F);ue.outputColorSpace=te.outputColorSpace,ue.instancing=te.instancing,ue.instancingColor=te.instancingColor,ue.skinning=te.skinning,ue.morphTargets=te.morphTargets,ue.morphNormals=te.morphNormals,ue.morphColors=te.morphColors,ue.morphTargetsCount=te.morphTargetsCount,ue.numClippingPlanes=te.numClippingPlanes,ue.numIntersection=te.numClipIntersection,ue.vertexAlphas=te.vertexAlphas,ue.vertexTangents=te.vertexTangents,ue.toneMapping=te.toneMapping}function R2(F,te,ue,Z,le){te.isScene!==!0&&(te=vt),et.resetTextureUnits();const ke=te.fog,Ye=Z.isMeshStandardMaterial?te.environment:null,tt=C===null?_.outputColorSpace:C.isXRRenderTarget===!0?C.texture.colorSpace:Fr,nt=(Z.isMeshStandardMaterial?Wt:At).get(Z.envMap||Ye),ft=Z.vertexColors===!0&&!!ue.attributes.color&&ue.attributes.color.itemSize===4,Ze=!!ue.attributes.tangent&&(!!Z.normalMap||Z.anisotropy>0),ot=!!ue.morphAttributes.position,Ut=!!ue.morphAttributes.normal,Gt=!!ue.morphAttributes.color;let Xn=Pi;Z.toneMapped&&(C===null||C.isXRRenderTarget===!0)&&(Xn=_.toneMapping);const Ur=ue.morphAttributes.position||ue.morphAttributes.normal||ue.morphAttributes.color,Xt=Ur!==void 0?Ur.length:0,pt=st.get(Z),a0=g.state.lights;if(Ee===!0&&(Ae===!0||F!==S)){const On=F===S&&Z.id===B;pe.setState(Z,F,On)}let Yt=!1;Z.version===pt.__version?(pt.needsLights&&pt.lightsStateVersion!==a0.state.version||pt.outputColorSpace!==tt||le.isInstancedMesh&&pt.instancing===!1||!le.isInstancedMesh&&pt.instancing===!0||le.isSkinnedMesh&&pt.skinning===!1||!le.isSkinnedMesh&&pt.skinning===!0||le.isInstancedMesh&&pt.instancingColor===!0&&le.instanceColor===null||le.isInstancedMesh&&pt.instancingColor===!1&&le.instanceColor!==null||pt.envMap!==nt||Z.fog===!0&&pt.fog!==ke||pt.numClippingPlanes!==void 0&&(pt.numClippingPlanes!==pe.numPlanes||pt.numIntersection!==pe.numIntersection)||pt.vertexAlphas!==ft||pt.vertexTangents!==Ze||pt.morphTargets!==ot||pt.morphNormals!==Ut||pt.morphColors!==Gt||pt.toneMapping!==Xn||Je.isWebGL2===!0&&pt.morphTargetsCount!==Xt)&&(Yt=!0):(Yt=!0,pt.__version=Z.version);let Xi=pt.currentProgram;Yt===!0&&(Xi=lo(Z,te,le));let vc=!1,pa=!1,o0=!1;const En=Xi.getUniforms(),Yi=pt.uniforms;if($e.useProgram(Xi.program)&&(vc=!0,pa=!0,o0=!0),Z.id!==B&&(B=Z.id,pa=!0),vc||S!==F){if(En.setValue(ee,"projectionMatrix",F.projectionMatrix),Je.logarithmicDepthBuffer&&En.setValue(ee,"logDepthBufFC",2/(Math.log(F.far+1)/Math.LN2)),S!==F&&(S=F,pa=!0,o0=!0),Z.isShaderMaterial||Z.isMeshPhongMaterial||Z.isMeshToonMaterial||Z.isMeshStandardMaterial||Z.envMap){const On=En.map.cameraPosition;On!==void 0&&On.setValue(ee,it.setFromMatrixPosition(F.matrixWorld))}(Z.isMeshPhongMaterial||Z.isMeshToonMaterial||Z.isMeshLambertMaterial||Z.isMeshBasicMaterial||Z.isMeshStandardMaterial||Z.isShaderMaterial)&&En.setValue(ee,"isOrthographic",F.isOrthographicCamera===!0),(Z.isMeshPhongMaterial||Z.isMeshToonMaterial||Z.isMeshLambertMaterial||Z.isMeshBasicMaterial||Z.isMeshStandardMaterial||Z.isShaderMaterial||Z.isShadowMaterial||le.isSkinnedMesh)&&En.setValue(ee,"viewMatrix",F.matrixWorldInverse)}if(le.isSkinnedMesh){En.setOptional(ee,le,"bindMatrix"),En.setOptional(ee,le,"bindMatrixInverse");const On=le.skeleton;On&&(Je.floatVertexTextures?(On.boneTexture===null&&On.computeBoneTexture(),En.setValue(ee,"boneTexture",On.boneTexture,et),En.setValue(ee,"boneTextureSize",On.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const l0=ue.morphAttributes;if((l0.position!==void 0||l0.normal!==void 0||l0.color!==void 0&&Je.isWebGL2===!0)&&Oe.update(le,ue,Xi),(pa||pt.receiveShadow!==le.receiveShadow)&&(pt.receiveShadow=le.receiveShadow,En.setValue(ee,"receiveShadow",le.receiveShadow)),Z.isMeshGouraudMaterial&&Z.envMap!==null&&(Yi.envMap.value=nt,Yi.flipEnvMap.value=nt.isCubeTexture&&nt.isRenderTargetTexture===!1?-1:1),pa&&(En.setValue(ee,"toneMappingExposure",_.toneMappingExposure),pt.needsLights&&N2(Yi,o0),ke&&Z.fog===!0&&ye.refreshFogUniforms(Yi,ke),ye.refreshMaterialUniforms(Yi,Z,ae,he,Ce),T1.upload(ee,pt.uniformsList,Yi,et)),Z.isShaderMaterial&&Z.uniformsNeedUpdate===!0&&(T1.upload(ee,pt.uniformsList,Yi,et),Z.uniformsNeedUpdate=!1),Z.isSpriteMaterial&&En.setValue(ee,"center",le.center),En.setValue(ee,"modelViewMatrix",le.modelViewMatrix),En.setValue(ee,"normalMatrix",le.normalMatrix),En.setValue(ee,"modelMatrix",le.matrixWorld),Z.isShaderMaterial||Z.isRawShaderMaterial){const On=Z.uniformsGroups;for(let u0=0,L2=On.length;u0<L2;u0++)if(Je.isWebGL2){const xc=On[u0];He.update(xc,Xi),He.bind(xc,Xi)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Xi}function N2(F,te){F.ambientLightColor.needsUpdate=te,F.lightProbe.needsUpdate=te,F.directionalLights.needsUpdate=te,F.directionalLightShadows.needsUpdate=te,F.pointLights.needsUpdate=te,F.pointLightShadows.needsUpdate=te,F.spotLights.needsUpdate=te,F.spotLightShadows.needsUpdate=te,F.rectAreaLights.needsUpdate=te,F.hemisphereLights.needsUpdate=te}function I2(F){return F.isMeshLambertMaterial||F.isMeshToonMaterial||F.isMeshPhongMaterial||F.isMeshStandardMaterial||F.isShadowMaterial||F.isShaderMaterial&&F.lights===!0}this.getActiveCubeFace=function(){return M},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return C},this.setRenderTargetTextures=function(F,te,ue){st.get(F.texture).__webglTexture=te,st.get(F.depthTexture).__webglTexture=ue;const Z=st.get(F);Z.__hasExternalTextures=!0,Z.__hasExternalTextures&&(Z.__autoAllocateDepthBuffer=ue===void 0,Z.__autoAllocateDepthBuffer||We.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Z.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(F,te){const ue=st.get(F);ue.__webglFramebuffer=te,ue.__useDefaultFramebuffer=te===void 0},this.setRenderTarget=function(F,te=0,ue=0){C=F,M=te,y=ue;let Z=!0,le=null,ke=!1,Ye=!1;if(F){const nt=st.get(F);nt.__useDefaultFramebuffer!==void 0?($e.bindFramebuffer(ee.FRAMEBUFFER,null),Z=!1):nt.__webglFramebuffer===void 0?et.setupRenderTarget(F):nt.__hasExternalTextures&&et.rebindTextures(F,st.get(F.texture).__webglTexture,st.get(F.depthTexture).__webglTexture);const ft=F.texture;(ft.isData3DTexture||ft.isDataArrayTexture||ft.isCompressedArrayTexture)&&(Ye=!0);const Ze=st.get(F).__webglFramebuffer;F.isWebGLCubeRenderTarget?(Array.isArray(Ze[te])?le=Ze[te][ue]:le=Ze[te],ke=!0):Je.isWebGL2&&F.samples>0&&et.useMultisampledRTT(F)===!1?le=st.get(F).__webglMultisampledFramebuffer:Array.isArray(Ze)?le=Ze[ue]:le=Ze,I.copy(F.viewport),V.copy(F.scissor),Y=F.scissorTest}else I.copy(R).multiplyScalar(ae).floor(),V.copy(K).multiplyScalar(ae).floor(),Y=re;if($e.bindFramebuffer(ee.FRAMEBUFFER,le)&&Je.drawBuffers&&Z&&$e.drawBuffers(F,le),$e.viewport(I),$e.scissor(V),$e.setScissorTest(Y),ke){const nt=st.get(F.texture);ee.framebufferTexture2D(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.TEXTURE_CUBE_MAP_POSITIVE_X+te,nt.__webglTexture,ue)}else if(Ye){const nt=st.get(F.texture),ft=te||0;ee.framebufferTextureLayer(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0,nt.__webglTexture,ue||0,ft)}B=-1},this.readRenderTargetPixels=function(F,te,ue,Z,le,ke,Ye){if(!(F&&F.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let tt=st.get(F).__webglFramebuffer;if(F.isWebGLCubeRenderTarget&&Ye!==void 0&&(tt=tt[Ye]),tt){$e.bindFramebuffer(ee.FRAMEBUFFER,tt);try{const nt=F.texture,ft=nt.format,Ze=nt.type;if(ft!==Tr&&Le.convert(ft)!==ee.getParameter(ee.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const ot=Ze===qa&&(We.has("EXT_color_buffer_half_float")||Je.isWebGL2&&We.has("EXT_color_buffer_float"));if(Ze!==Oi&&Le.convert(Ze)!==ee.getParameter(ee.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Ze===Ii&&(Je.isWebGL2||We.has("OES_texture_float")||We.has("WEBGL_color_buffer_float")))&&!ot){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}te>=0&&te<=F.width-Z&&ue>=0&&ue<=F.height-le&&ee.readPixels(te,ue,Z,le,Le.convert(ft),Le.convert(Ze),ke)}finally{const nt=C!==null?st.get(C).__webglFramebuffer:null;$e.bindFramebuffer(ee.FRAMEBUFFER,nt)}}},this.copyFramebufferToTexture=function(F,te,ue=0){const Z=Math.pow(2,-ue),le=Math.floor(te.image.width*Z),ke=Math.floor(te.image.height*Z);et.setTexture2D(te,0),ee.copyTexSubImage2D(ee.TEXTURE_2D,ue,0,0,F.x,F.y,le,ke),$e.unbindTexture()},this.copyTextureToTexture=function(F,te,ue,Z=0){const le=te.image.width,ke=te.image.height,Ye=Le.convert(ue.format),tt=Le.convert(ue.type);et.setTexture2D(ue,0),ee.pixelStorei(ee.UNPACK_FLIP_Y_WEBGL,ue.flipY),ee.pixelStorei(ee.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ue.premultiplyAlpha),ee.pixelStorei(ee.UNPACK_ALIGNMENT,ue.unpackAlignment),te.isDataTexture?ee.texSubImage2D(ee.TEXTURE_2D,Z,F.x,F.y,le,ke,Ye,tt,te.image.data):te.isCompressedTexture?ee.compressedTexSubImage2D(ee.TEXTURE_2D,Z,F.x,F.y,te.mipmaps[0].width,te.mipmaps[0].height,Ye,te.mipmaps[0].data):ee.texSubImage2D(ee.TEXTURE_2D,Z,F.x,F.y,Ye,tt,te.image),Z===0&&ue.generateMipmaps&&ee.generateMipmap(ee.TEXTURE_2D),$e.unbindTexture()},this.copyTextureToTexture3D=function(F,te,ue,Z,le=0){if(_.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const ke=F.max.x-F.min.x+1,Ye=F.max.y-F.min.y+1,tt=F.max.z-F.min.z+1,nt=Le.convert(Z.format),ft=Le.convert(Z.type);let Ze;if(Z.isData3DTexture)et.setTexture3D(Z,0),Ze=ee.TEXTURE_3D;else if(Z.isDataArrayTexture)et.setTexture2DArray(Z,0),Ze=ee.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ee.pixelStorei(ee.UNPACK_FLIP_Y_WEBGL,Z.flipY),ee.pixelStorei(ee.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Z.premultiplyAlpha),ee.pixelStorei(ee.UNPACK_ALIGNMENT,Z.unpackAlignment);const ot=ee.getParameter(ee.UNPACK_ROW_LENGTH),Ut=ee.getParameter(ee.UNPACK_IMAGE_HEIGHT),Gt=ee.getParameter(ee.UNPACK_SKIP_PIXELS),Xn=ee.getParameter(ee.UNPACK_SKIP_ROWS),Ur=ee.getParameter(ee.UNPACK_SKIP_IMAGES),Xt=ue.isCompressedTexture?ue.mipmaps[0]:ue.image;ee.pixelStorei(ee.UNPACK_ROW_LENGTH,Xt.width),ee.pixelStorei(ee.UNPACK_IMAGE_HEIGHT,Xt.height),ee.pixelStorei(ee.UNPACK_SKIP_PIXELS,F.min.x),ee.pixelStorei(ee.UNPACK_SKIP_ROWS,F.min.y),ee.pixelStorei(ee.UNPACK_SKIP_IMAGES,F.min.z),ue.isDataTexture||ue.isData3DTexture?ee.texSubImage3D(Ze,le,te.x,te.y,te.z,ke,Ye,tt,nt,ft,Xt.data):ue.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ee.compressedTexSubImage3D(Ze,le,te.x,te.y,te.z,ke,Ye,tt,nt,Xt.data)):ee.texSubImage3D(Ze,le,te.x,te.y,te.z,ke,Ye,tt,nt,ft,Xt),ee.pixelStorei(ee.UNPACK_ROW_LENGTH,ot),ee.pixelStorei(ee.UNPACK_IMAGE_HEIGHT,Ut),ee.pixelStorei(ee.UNPACK_SKIP_PIXELS,Gt),ee.pixelStorei(ee.UNPACK_SKIP_ROWS,Xn),ee.pixelStorei(ee.UNPACK_SKIP_IMAGES,Ur),le===0&&Z.generateMipmaps&&ee.generateMipmap(Ze),$e.unbindTexture()},this.initTexture=function(F){F.isCubeTexture?et.setTextureCube(F,0):F.isData3DTexture?et.setTexture3D(F,0):F.isDataArrayTexture||F.isCompressedArrayTexture?et.setTexture2DArray(F,0):et.setTexture2D(F,0),$e.unbindTexture()},this.resetState=function(){M=0,y=0,C=null,$e.reset(),Fe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ni}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===ct?fs:a2}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===fs?ct:Fr}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class _R extends M2{}_R.prototype.isWebGL1Renderer=!0;class vR extends xn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class xR extends fa{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Mt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const qp=new ne,Xp=new ne,Yp=new Jt,wl=new fc,n1=new so;class AR extends xn{constructor(e=new _r,t=new xR){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)qp.fromBufferAttribute(t,i-1),Xp.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=qp.distanceTo(Xp);e.setAttribute("lineDistance",new oi(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),n1.copy(r.boundingSphere),n1.applyMatrix4(i),n1.radius+=s,e.ray.intersectsSphere(n1)===!1)return;Yp.copy(i).invert(),wl.copy(e.ray).applyMatrix4(Yp);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,u=new ne,c=new ne,h=new ne,f=new ne,d=this.isLineSegments?2:1,T=r.index,g=r.attributes.position;if(T!==null){const p=Math.max(0,a.start),A=Math.min(T.count,a.start+a.count);for(let _=p,D=A-1;_<D;_+=d){const M=T.getX(_),y=T.getX(_+1);if(u.fromBufferAttribute(g,M),c.fromBufferAttribute(g,y),wl.distanceSqToSegment(u,c,f,h)>l)continue;f.applyMatrix4(this.matrixWorld);const B=e.ray.origin.distanceTo(f);B<e.near||B>e.far||t.push({distance:B,point:h.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else{const p=Math.max(0,a.start),A=Math.min(g.count,a.start+a.count);for(let _=p,D=A-1;_<D;_+=d){if(u.fromBufferAttribute(g,_),c.fromBufferAttribute(g,_+1),wl.distanceSqToSegment(u,c,f,h)>l)continue;f.applyMatrix4(this.matrixWorld);const y=e.ray.origin.distanceTo(f);y<e.near||y>e.far||t.push({distance:y,point:h.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}const Kp=new ne,$p=new ne;class yR extends AR{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)Kp.fromBufferAttribute(t,i),$p.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+Kp.distanceTo($p);e.setAttribute("lineDistance",new oi(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class C2 extends fa{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Mt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const jp=new Jt,hu=new fc,r1=new so,i1=new ne;class SR extends xn{constructor(e=new _r,t=new C2){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),r1.copy(r.boundingSphere),r1.applyMatrix4(i),r1.radius+=s,e.ray.intersectsSphere(r1)===!1)return;jp.copy(i).invert(),hu.copy(e.ray).applyMatrix4(jp);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,u=r.index,h=r.attributes.position;if(u!==null){const f=Math.max(0,a.start),d=Math.min(u.count,a.start+a.count);for(let T=f,E=d;T<E;T++){const g=u.getX(T);i1.fromBufferAttribute(h,g),Qp(i1,g,l,i,e,t,this)}}else{const f=Math.max(0,a.start),d=Math.min(h.count,a.start+a.count);for(let T=f,E=d;T<E;T++)i1.fromBufferAttribute(h,T),Qp(i1,T,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function Qp(n,e,t,r,i,s,a){const o=hu.distanceSqToPoint(n);if(o<t){const l=new ne;hu.closestPointToPoint(n,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,object:a})}}const Zp={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class bR{constructor(e,t,r){const i=this;let s=!1,a=0,o=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(c){o++,s===!1&&i.onStart!==void 0&&i.onStart(c,a,o),s=!0},this.itemEnd=function(c){a++,i.onProgress!==void 0&&i.onProgress(c,a,o),a===o&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,h){return u.push(c,h),this},this.removeHandler=function(c){const h=u.indexOf(c);return h!==-1&&u.splice(h,2),this},this.getHandler=function(c){for(let h=0,f=u.length;h<f;h+=2){const d=u[h],T=u[h+1];if(d.global&&(d.lastIndex=0),d.test(c))return T}return null}}}const MR=new bR;class mc{constructor(e){this.manager=e!==void 0?e:MR,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}mc.DEFAULT_MATERIAL_NAME="__DEFAULT";class CR extends mc{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Zp.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a;const o=Xa("img");function l(){c(),Zp.add(e,this),t&&t(this),s.manager.itemEnd(e)}function u(h){c(),i&&i(h),s.manager.itemError(e),s.manager.itemEnd(e)}function c(){o.removeEventListener("load",l,!1),o.removeEventListener("error",u,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),s.manager.itemStart(e),o.src=e,o}}class DR extends mc{constructor(e){super(e)}load(e,t,r,i){const s=new Ln,a=new CR(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){s.image=o,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:cc}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=cc);const wR=`uniform vec3 color;

varying float vOpacity;

void main() {
	gl_FragColor = vec4( color, vOpacity );
}
`,RR=`attribute float opacity;

varying float vOpacity;

void main() {
    vOpacity = opacity;
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}
`,NR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADdHpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjazZdbltsgDIbfWUWXgCSEYDn4wjndQZffH0yciSee5vZQc2JjWUhCn4AZt/75Xd0vXOx9dEEtxRyjxxVyyFzQSX67tif50O/94vEJ7zdyt39giARP2V7jOvQL5HodYGHIp1u5s3nYScMQ+RvX0jy3/tBLw5DwJqfx7vIYV8KX6Ywfz8PsZVqH92BIxqKwJ+x4FRKPe2xeBBFIliKtX9BXKHmR3ifcWeR+7tzePSRv7x1y58uQy20qnI9DIR5yNOSkB7nsbvgmIrp6vvkw1d3Ft9zVuqRa1212JURkKroxqctUeg+KE1K5ZSOiGX6KvvWW0RKmOIPYApoT2uwoEyPblQItVKjS2p8zzQgx8MqGJ/PM0mVJjDPPHUpojSob8CxOEkjMoCYQ8x4Ldb+5+5spwfNC0GSCMcKIb83dE77SdkO1ttIl8mnPFeLiVtMIo5Frd2gBCNWRU+357c19qRv/BayAoPY0J0ywAGI3MSlda0s6Z4Ge+uD8tjTIlmEAKYJvRTCo5UA+orwpkjdmI0IeE/gURM4SeAIBUuWFXAUbkQg4iZtvjDHquqy8ibG1AIRKFAMaLCDACkFRPxYSaqioaHCqGtU0adYSJYaoMUaLbY8qJhZMLZpZsmwlSQpJU0yWUsqpZM6CLUxzzOZyyjmXAqcFpgtGF2iUMvEkU5h0ipNNacpTmVE+c5h1jrPNac5zWXiRBct/iYu5JS15KSutKKU1rLrG1da05rVU1FqVGqrWWK2mmmvZqQ2qt9ToQO5najSoNWKh69mVGsRmFxPUthNtzECMA4G4NQIoaG7MfKIQuJFrzHzGFoVtC9RIG5yFGjEQDCuxVtrZXcn9yM1peIobn5FzDd0nyLmGbpD7zu0OtaX0E0U6oLYKW069VGxsUFhT4VTamfTy071r4J+G6tTifNyWu3Rq+jp8e3smKncVTGvFhvXq3NxBMOGQeSku914c16e7++HhuEYYUHG9/4EKcP9U3KPrne8KW+AnU/tYjo5O01kcV5H7TDw/GnokjmeS/Sq15+I4XyLpzbX2ahxP4n+kPNx7cXykjm7T4Y6r+NVF/HwdnSxid0Lr6diezNHJVnJ6HL0QlXsnipPj6DSqh+rrfo4uw/+rs//+dPFnDf4Jdn8BFJfIQ7b/RVEAAAAGYktHRAC7AN4A+zMssdQAAAAJcEhZcwAALiMAAC4jAXilP3YAAAAHdElNRQfjAg8ICxcQk40OAAABvElEQVRYw+2XMU4CURiEv32QNYbEwoQGT2C2lFjaURkP4X08BVcwXsBaS2I8gFpsQmEkRMIyNlM8WBTUXSDRv923M/P+f96+Wfjrlay7UFIA9oAWsA+kQMOPC2ACjIER8J4kyawSASZuAW0gA7rAMXAEHHjZK/AEPAB3wADIgdEqIckK8ibQAc6Ac+AEOFzRgSFwD9wAt8BzkiTTb89GUiopk3Ql6VHSm6RCq6vw2ke/m0lKf0J+Kqkv6UXSVN+vqd/tGytdl7xp1X1J+Zq7/qobubEyj3SuwhLDdYBLoOd5h1+csmCMnjE75lguwG4/Ay7s+lDBUQ/GujB2a6kAK2vb7UeRw6uohjHPgXbchXiHez7nJz5mVde+sTNzlQS0/JE5rKj1n/mhG48hLCg8rmn3n3LEAlLPKa1RQIkjLBjloGLzLTPjHEdgyxULKHyrFTXylThiARNfqZMaBZQ4YgFj3+fjGgWUOGIBI4eJITCrgXxm7DtzlQS8O8nc19SFsbEH5poX4OiUO8k8VWzGwpg3QB7HtMVjOHKMuraYWUWtz415G7d/JwLJ7kWyTYfSrcfy3f4x2cSv2X99ANnWdh8lZNnzAAAAAElFTkSuQmCC";var R1;(n=>{n.mobileCheck=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<600,n.sample=i=>i[Math.floor(Math.random()*i.length)];function e(i=0,s=1){return i+Math.random()*(s-i)}n.randFloat=e;function t(i=0,s=1){return Math.floor(i+Math.random()*(s-i+1))}n.randInt=t;function r(i,s=0,a=1){return i<s?s:i>a?a:i}n.clamp=r})(R1||(R1={}));var D2={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(Il,function(){var t=function(){var r=0,i=document.createElement("div");function s(d){return i.appendChild(d.dom),d}function a(d){for(var T=0;T<i.children.length;T++)i.children[T].style.display=T===d?"block":"none";r=d}i.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",i.addEventListener("click",function(d){d.preventDefault(),a(++r%i.children.length)},!1);var o=(performance||Date).now(),l=o,u=0,c=s(new t.Panel("FPS","#0ff","#002")),h=s(new t.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var f=s(new t.Panel("MB","#f08","#201"));return a(0),{REVISION:16,dom:i,addPanel:s,showPanel:a,begin:function(){o=(performance||Date).now()},end:function(){u++;var d=(performance||Date).now();if(h.update(d-o,200),l+1e3<=d&&(c.update(1e3*u/(d-l),100),l=d,u=0,f)){var T=performance.memory;f.update(T.usedJSHeapSize/1048576,T.jsHeapSizeLimit/1048576)}return d},update:function(){o=this.end()},domElement:i,setMode:a}};return t.Panel=function(r,i,s){var a=1/0,o=0,l=Math.round,u=l(window.devicePixelRatio||1),c=80*u,h=48*u,f=3*u,d=2*u,T=3*u,E=15*u,g=74*u,p=30*u,A=document.createElement("canvas");A.width=c,A.height=h,A.style.cssText="width:80px;height:48px";var _=A.getContext("2d");return _.font="bold "+9*u+"px Helvetica,Arial,sans-serif",_.textBaseline="top",_.fillStyle=s,_.fillRect(0,0,c,h),_.fillStyle=i,_.fillText(r,f,d),_.fillRect(T,E,g,p),_.fillStyle=s,_.globalAlpha=.9,_.fillRect(T,E,g,p),{dom:A,update:function(D,M){a=Math.min(a,D),o=Math.max(o,D),_.fillStyle=s,_.globalAlpha=1,_.fillRect(0,0,c,E),_.fillStyle=i,_.fillText(l(D)+" "+r+" ("+l(a)+"-"+l(o)+")",f,d),_.drawImage(A,T+u,E,g-u,p,T,E,g-u,p),_.fillRect(T+g-u,E,u,p),_.fillStyle=s,_.globalAlpha=.9,_.fillRect(T+g-u,E,u,l((1-D/M)*p))}}},t})})(D2);var IR=D2.exports;const LR=Gi(IR),{mobileCheck:FR}=R1;class PR{constructor(e,t={}){this.onMouseMoveWrapper=this.onMouseMoveWrapper.bind(this),this.onTouchMoveWrapper=this.onTouchMoveWrapper.bind(this),this.onTouchDownWrapper=this.onTouchDownWrapper.bind(this),this.onScrollWrapper=this.onScrollWrapper.bind(this),this.onResizeWrapper=this.onResizeWrapper.bind(this),this.onVisibilityChange=this.onVisibilityChange.bind(this),this.registerAnimationFrame=this.registerAnimationFrame.bind(this),this.animationLoop=this.animationLoop.bind(this),this.restart=this.restart.bind(this),this.el=e,this.options=t,this.initThree(),this.onResizeWrapper(),this.isDev=!1,this.isDev&&(this.stats=new LR,this.stats.dom.style.bottom="0",this.stats.dom.style.position="absolute",this.el.appendChild(this.stats.dom),this.statsSet=!1);try{this.init()}catch(r){const i=r;console.error("Initialization error:"),console.error(i),this.renderer&&(this.el.removeChild(this.renderer.domElement),this.el.removeChild(this.stats.dom));return}this.bindEventListeners(),this.isVisible=!0,this.intersectionObserver=new IntersectionObserver(this.onVisibilityChange,{threshold:0}),this.intersectionObserver.observe(this.renderer.domElement)}start(){this.animationLoop()}bindEventListeners(){document.addEventListener("touchstart",this.onTouchDownWrapper,{passive:!1}),document.addEventListener("touchmove",this.onTouchMoveWrapper,{passive:!1}),typeof this.onMouseMove=="function"&&document.addEventListener("mousemove",this.onMouseMoveWrapper,!1),window.addEventListener("scroll",this.onScrollWrapper,!1),window.addEventListener("resize",this.onResizeWrapper,!1)}initThree(){this.renderer=new M2({alpha:!0,antialias:!0});const e=this.renderer.domElement;e.style.width="100%",e.style.height="100%",this.canvas=e,this.el.appendChild(e),this.renderer.setPixelRatio(window.devicePixelRatio||1),this.renderer.setSize(this.el.width,this.el.height),this.scene=new vR}onMouseMoveWrapper(e){const t=this.mouseX=e.clientX/this.width-.5,r=this.mouseY=e.clientY/this.height-.5;this.onMouseMove&&this.onMouseMove(t,r)}onTouchDownWrapper(e){if(event.touches.length>0&&this.onTouchDown){event.touches.length>1&&e.preventDefault();const t=this.touchDownX=e.touches[0].clientX/this.width-.5,r=this.touchDownY=e.touches[0].clientY/this.height-.5;this.onTouchDown&&this.onTouchDown(t,r)}}onTouchMoveWrapper(e){if(event.touches.length>0){const t=this.touchMoveX=e.touches[0].clientX/this.width-.5,r=this.touchMoveY=e.touches[0].clientY/this.height-.5;this.onTouchMove&&this.onTouchMove(t,r)}}onScrollWrapper(){const e=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop;typeof this.onScroll=="function"&&this.onScroll(e)}setSize(){FR()&&this.options.scaleMobile?this.scale=this.options.scaleMobile:this.scale=this.options.scale||1,this.width=this.el.offsetWidth||window.innerWidth,this.height=this.el.offsetHeight||window.innerHeight}onResizeWrapper(){this.setSize();const e=this.camera,t=this.renderer;this.camera&&(e.aspect=this.width/this.height,e.updateProjectionMatrix()),t&&(t.setSize(this.width,this.height),t.setPixelRatio((window.devicePixelRatio||1)/this.scale)),typeof this.onResize=="function"&&this.onResize()}onVisibilityChange(e){if(e.length<1)return;const t=e[0];!this.isVisible&&t.isIntersecting&&this.registerAnimationFrame(),this.isVisible=t.isIntersecting}registerAnimationFrame(){this.nextFrame||(this.nextFrame=requestAnimationFrame(this.animationLoop))}animationLoop(){this.isDev&&!this.statsSet&&(this.stats.begin(),this.statsSet=!0),this.nextFrame=null,this.isVisible&&(this.registerAnimationFrame(),this.onRender&&this.onRender(),this.scene&&this.camera&&this.renderer.render(this.scene,this.camera),this.isDev&&(this.stats.end(),this.statsSet=!1))}init(){typeof this.onInit=="function"&&this.onInit()}restart(){if(this.scene)for(;this.scene.children.length;)this.scene.remove(this.scene.children[0]);typeof this.onRestart=="function"&&this.onRestart(),this.init()}destroy(){typeof this.onDestroy=="function"&&this.onDestroy(),document.removeEventListener("touchstart",this.onTouchDownWrapper),document.removeEventListener("touchmove",this.onTouchMoveWrapper),document.removeEventListener("mousemove",this.onMouseMoveWrapper),window.removeEventListener("scroll",this.onScrollWrapper),window.removeEventListener("resize",this.onResizeWrapper),this.intersectionObserver.disconnect(),this.isVisible=!1,this.nextFrame&&window.cancelAnimationFrame(this.nextFrame),this.renderer&&(this.el.removeChild(this.renderer.domElement),delete this.renderer),this.scene&&delete this.scene}}const{randFloat:s1,randInt:Jp,mobileCheck:em,clamp:Rl}=R1,OR={color:16777215,maxOpacity:.4,numPoints:150,maxDistance:40,maxSpeed:2,cameraSpeed:.025,spacing:100,showPoints:!0,pointSize:4,fov:40,gradientColors:[[245,128,37],[238,90,98],[232,88,159],[185,105,235],[111,123,252],[122,193,255]],gradientSpeed:.006,mouseSensitivityX:50,mouseSensitivityY:25,touchSensitivityX:70,touchSensitivityY:35,scrollSensitivity:.1,fadeInDelay:1500};class kR extends PR{constructor(e,t=OR){super(e,t)}onInit(){const{numPoints:e,spacing:t,maxDistance:r,fov:i,maxOpacity:s}=this.options;this.params=Object.assign({},this.options),em()?(this.params.mobile=!0,this.params.numPoints=Math.floor(e*.6),this.params.spacing=Math.floor(t*.6),this.params.maxDistanceSqd=Math.floor(r*.75)**2,this.params.maxOpacity=s*.6):(this.params.mobile=!1,this.params.maxDistanceSqd=r**2),this.params.numLines=2*e**2,this.initLines(),this.initPoints(),this.initCanvas(),this.initFadeIn();const a={x:t*.8,y:t/6,z:t*.8};this.params.cameraStart=a,this.params.movingCamera=!0,this.params.scrollOffset=0,this.params.touchDownOffsetX=0,this.params.touchDownOffsetY=0,this.params.currentX=0,this.params.currentY=0,this.params.mouseTarget={x:a.x,y:a.y,z:a.z},this.camera||(this.camera=new Zn(i,this.width/this.height,.01,1e4),this.scene.add(this.camera)),this.camera.position.set(a.x,a.y,a.z),this.camera.lookAt(new ne(0,0,0)),this.params.oddFrame=!1}onRender(){const{cameraSpeed:e,mouseTarget:t,oddFrame:r,movingCamera:i,opacity:s}=this.params;if(i){const a=this.camera,o=t.x-a.position.x,l=t.y-a.position.y,u=t.z-a.position.z;let c=!1;Math.abs(o)>.01&&(a.position.x+=o*e,c=!0),Math.abs(l)>.01&&(a.position.y+=l*e,c=!0),Math.abs(u)>.01&&(a.position.z+=u*e,c=!0),c?a.lookAt(new ne(0,0,0)):this.params.movingCamera=!1}r?this.updateGeometries():this.updateCanvas(),this.params.oddFrame=!r,s<1&&r&&(this.params.opacity+=1/(this.options.fadeInDelay/30),this.canvas.style.opacity=this.params.opacity)}onResize(){this.params&&em()!==this.params.mobile&&this.restart()}onMouseMove(e,t){const{mouseSensitivityX:r,mouseSensitivityY:i}=this.params;this.moveCamera(e*r,t*i)}onTouchDown(e,t){const{cameraStart:r,mouseTarget:i,touchSensitivityX:s,touchSensitivityY:a}=this.params;this.params.touchDownOffsetX=e+(i.x-r.x)/s,this.params.touchDownOffsetY=t+(r.y-i.y)/a}onTouchMove(e,t){const{touchDownOffsetX:r,touchDownOffsetY:i,touchSensitivityX:s,touchSensitivityY:a}=this.params,o=r-e,l=i-t;this.moveCamera(o*s,l*a)}onScroll(e){const{currentX:t,currentY:r,scrollSensitivity:i}=this.params;this.params.scrollOffset=e*i,this.moveCamera(t,r)}onRestart(){this.scene.remove(this.params.linesMesh),this.scene.remove(this.params.points),delete this.params.linesMesh,delete this.params.points,delete this.params.pointPositions,delete this.params.rotationSpeeds,delete this.params.rotationRadii,delete this.params.linePositions,delete this.params.lineOpacities}onDestroy(){this.onRestart(),this.scene.remove(this.camera),delete this.camera}initLines(){const{color:e}=this.params,{numLines:t}=this.params,r=new Hi({vertexShader:RR,fragmentShader:wR,uniforms:{color:{type:"c",value:new Mt(e)}},transparent:!0,depthTest:!1}),i=new _r;this.params.linePositions=new Float32Array(t*3),this.params.lineOpacities=new Float32Array(t),i.setAttribute("position",new Wn(this.params.linePositions,3).setUsage(sl)),i.setAttribute("opacity",new Wn(this.params.lineOpacities,1).setUsage(sl)),i.setDrawRange(0,0),this.params.linesMesh=new yR(i,r),this.scene.add(this.params.linesMesh)}initPoints(){const{numPoints:e,spacing:t,maxOpacity:r,color:i,showPoints:s,pointSize:a,maxSpeed:o}=this.params,l=s?new DR().load(NR):null;l&&(l.center=new Ct(0,0));const u=new C2({color:i,opacity:s?r:0,size:a,transparent:!0,depthTest:!1,sizeAttenuation:!1,map:l}),c=new _r;this.params.pointPositions=new Float32Array(e*3),c.setAttribute("position",new Wn(this.params.pointPositions,3).setUsage(sl)),this.params.rotationSpeeds=new Float32Array(e),this.params.rotationRadii=new Float32Array(e);let h=0;for(let f=0;f<e;f++){let d=s1(0,t),T=s1(0,t)*.6,E=s1(0,t);const g=f%8;g===1?d*=-1:g===2?T*=-1:g===3?E*=-1:g===4?(d*=-1,T*=-1):g===5?(d*=-1,E*=-1):g===6?(T*=-1,E*=-1):g===7&&(d*=-1,T*=-1,E*=-1),this.params.pointPositions[h++]=d,this.params.pointPositions[h++]=T,this.params.pointPositions[h++]=E;const p=Math.sqrt(d**2+E**2);this.params.rotationRadii[f]=p,this.params.rotationSpeeds[f]=p>.1?s1(-o,o)*t/p:0}c.setDrawRange(0,e),this.params.points=new SR(c,u),this.scene.add(this.params.points)}initCanvas(){const{gradientColors:e,gradientSpeed:t}=this.params;this.params.gradientColors=e,this.params.gradientSpeed=t,this.params.gradientIndices=[0,1,2,3],this.params.gradientRotation=230,this.params.gradientStep=0,this.updateCanvas()}initFadeIn(){const{fadeInDelay:e}=this.options;e>0?this.params.opacity=0:this.params.opacity=1}updateGeometries(){const{maxDistanceSqd:e,linesMesh:t,points:r,numPoints:i,pointPositions:s,rotationSpeeds:a,rotationRadii:o,linePositions:l,lineOpacities:u,maxOpacity:c}=this.params;let h=0,f=0,d=0,T=0;for(let E=0;E<i;E++){const g=T++,p=T++,A=T++,_=s[g],D=s[p],M=s[A];if(a[E]!==0){let C=Math.atan2(M,_);C+=5e-4*a[E],s[g]=o[E]*Math.cos(C),s[A]=o[E]*Math.sin(C)}let y=T;for(let C=E+1;C<i;C++){const B=s[y++],S=s[y++],I=s[y++],V=_-B,Y=D-S,X=M-I,j=V*V+Y*Y+X*X;if(j<e){const q=1-j/e,he=Rl(4*(q*q),0,c);l[h++]=_,l[h++]=D,l[h++]=M,l[h++]=B,l[h++]=S,l[h++]=I,u[f++]=he,u[f++]=he,d++}}}t.geometry.setDrawRange(0,d*2),t.geometry.attributes.position.needsUpdate=!0,t.geometry.attributes.opacity.needsUpdate=!0,r.geometry.attributes.position.needsUpdate=!0}updateCanvas(){const{gradientColors:e,gradientIndices:t,gradientStep:r,gradientSpeed:i,gradientRotation:s}=this.params,a=this.el,o=e[t[0]],l=e[t[1]],u=e[t[2]],c=e[t[3]],h=Math.round((1-r)*o[0]+r*l[0]),f=Math.round((1-r)*o[1]+r*l[1]),d=Math.round((1-r)*o[2]+r*l[2]),T=`rgb(${h},${f},${d})`,E=Math.round((1-r)*u[0]+r*c[0]),g=Math.round((1-r)*u[1]+r*c[1]),p=Math.round((1-r)*u[2]+r*c[2]),A=`rgb(${E},${g},${p})`;a.style.background=`linear-gradient(${s}deg,${T},${A})`,this.params.gradientStep+=i,this.params.gradientRotation=(s+10*i)%360,this.params.gradientStep>=1&&(this.params.gradientStep%=1,t[0]=t[1],t[2]=t[3],t[1]+=Jp(1,e.length-1),t[3]+=Jp(1,e.length-1),t[1]%=e.length,t[3]%=e.length)}moveCamera(e,t){const{cameraStart:r,scrollOffset:i,mouseTarget:s}=this.params;this.params.currentX=e,this.params.currentY=t;const a=Rl(e,-100,100),o=Rl(t+i,-50,50);s.x=r.x+a,s.y=r.y-o,s.z=r.z-a,this.params.movingCamera=!0}}const BR=400,UR={height:"100%",background:"linear-gradient(230deg, rgb(245, 128, 37), rgb(232, 88, 159))"},zR=()=>{const n=un.useRef();return un.useEffect(()=>{const e=new kR(n.current),t=setTimeout(()=>e.start(),BR);return function(){e.destroy(),clearTimeout(t)}}),Ge.jsx(an,{sx:UR,ref:n})},HR="/COS426-Website/assets/textbook_cover-bc271a94.jpg",GR=n=>({margin:"0 0 24px 24px",maxWidth:"200px",[n.breakpoints.down("sm")]:{marginTop:3,marginRight:"auto",marginLeft:"auto"},[n.breakpoints.up("md")]:{float:"right"}}),VR=()=>Ge.jsx(q2,{raised:!0,sx:GR,children:Ge.jsx(J2,{component:"img",alt:"Computer Graphics with OpenGL",image:HR,title:"Computer Graphics with OpenGL"})}),Nl={wrapper:n=>({position:"absolute",color:"white",height:"inherit",minHeight:"inherit",width:"100%",justifyContent:"center",alignItems:"center",textAlign:"center",display:"flex",flexDirection:"column",padding:n.spacing(4),[n.breakpoints.up("sm")]:{padding:n.spacing(4)}}),title:n=>({lineHeight:1,textShadow:"3px 4px 4px rgba(0,0,0,0.1)",fontWeight:600,[n.breakpoints.only("xl")]:{fontSize:"6rem"},[n.breakpoints.only("lg")]:{fontSize:"5rem"},[n.breakpoints.only("md")]:{fontSize:"3.75rem"},[n.breakpoints.only("sm")]:{fontSize:"3rem"},[n.breakpoints.only("xs")]:{fontSize:"2rem"}}),subtitle:n=>({lineHeight:1,textShadow:"3px 4px 4px rgba(0,0,0,0.1)",[n.breakpoints.only("xl")]:{fontSize:"4.5rem"},[n.breakpoints.only("lg")]:{fontSize:"3.75rem"},[n.breakpoints.only("md")]:{fontSize:"3rem"},[n.breakpoints.only("sm")]:{fontSize:"2.25rem"},[n.breakpoints.only("xs")]:{fontSize:"1.5rem"}})},WR=()=>Ge.jsxs(an,{sx:Nl.wrapper,children:[Ge.jsx(Vn,{variant:"h1",color:"inherit",gutterBottom:!0,sx:Nl.title,children:"COS 426: Computer Graphics"}),Ge.jsx(Vn,{variant:"h2",color:"inherit",sx:Nl.subtitle,children:cm.courseSettings.termName})]}),qR={textbook:VR,li:({children:n})=>Ge.jsx(an,{component:"li",sx:{"&>p":{marginBottom:0},"&>ul":{marginBottom:0}},children:n})},iN=()=>Ge.jsxs(U2,{children:[Ge.jsxs(e9,{height:"66vh",children:[Ge.jsx(WR,{}),Ge.jsx(zR,{})]}),Ge.jsx(fS,{markdownSrc:"Overview",components:qR})]});export{iN as default};
